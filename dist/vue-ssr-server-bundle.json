{
  "entry": "server-bundle.js",
  "files": {
    "79.server-bundle.js": "exports.ids = [79];\nexports.modules = {\n\n/***/ 412:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/api/bangumiApi.js\nvar bangumiApi = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/bangumi/manager.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var manager = ({\n  data() {\n    return {\n      bangumiId: 0,\n      list: [],\n      loading: false\n    };\n  },\n\n  computed: {\n    isKing() {\n      return this.$store.state.user.id === 1;\n    }\n\n  },\n  methods: {\n    searchBangumiManager(id) {\n      if (id === this.bangumiId) {\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      this.bangumiId = id;\n      this.searchManagers();\n    },\n\n    async searchManagers() {\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.users({\n          type: \"contributors\",\n          model: \"bangumi\",\n          id: this.bangumiId\n        });\n        this.list = data.list;\n      } catch (err) {\n        this.$toast.error(err);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    addManager() {\n      if (!this.bangumiId) {\n        this.$toast.error(\"请先选择番剧\");\n        return;\n      }\n\n      this.$prompt(\"请输入用户id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.setBangumiManager({\n          bangumi_id: this.bangumiId,\n          user_id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n          window.location.reload();\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    removeManager(userId, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.removeBangumiManager({\n        bangumi_id: this.bangumiId,\n        user_id: userId\n      }).then(() => {\n        this.$toast.success(\"操作成功\");\n        this.list.splice(index, 1);\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    upgradeManager(userId, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.upgradeBangumiManager({\n        bangumi_id: this.bangumiId,\n        user_id: userId\n      }).then(() => {\n        this.$toast.success(\"操作成功\");\n        this.list[index].is_leader = 1;\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    downgradeManager(userId, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.downgradeBangumiManager({\n        bangumi_id: this.bangumiId,\n        user_id: userId\n      }).then(() => {\n        this.$toast.success(\"操作成功\");\n        this.list[index].is_leader = 0;\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-075a66f5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/bangumi/manager.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-manager\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('bangumi-search',{attrs:{\"placeholder\":\"选择番剧查询\"},on:{\"search\":_vm.searchBangumiManager}})],1),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"offset\":10,\"span\":6}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-plus\",\"size\":\"medium\"},on:{\"click\":_vm.addManager}},[_vm._v(\"\\n          添加吧主\\n        \")])],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"昵称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.user(scope.row.user.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.user.nickname)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"权限\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.is_leader ? '大吧主' : '小吧主')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"上任时间\",\"prop\":\"created_at\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":(\"/admin/user/show?zone=\" + (scope.row.user.zone))}},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"查看用户\")])],1),(_vm.isKing)?[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.removeManager(scope.row.user.id, scope.$index)}}},[_vm._v(\"移除权限\")]),(scope.row.is_leader)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.downgradeManager(scope.row.user.id, scope.$index)}}},[_vm._v(\"降为小吧主\")]):_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.upgradeManager(scope.row.user.id, scope.$index)}}},[_vm._v(\"升为大吧主\")])]:_vm._e()]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_manager = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/bangumi/manager.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7c8c9a66\"\nvar Component = normalizeComponent(\n  manager,\n  bangumi_manager,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_manager = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "0.server-bundle.js": "exports.ids = [0];\nexports.modules = {\n\n/***/ 395:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1708ecb1\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/empty.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var empty = (esExports);\n// CONCATENATED MODULE: ./src/layouts/empty.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"bbd8d952\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  empty,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var layouts_empty = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "1.server-bundle.js": "exports.ids = [1];\nexports.modules = {\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview() {\n      this.$emit(\"preview\", {\n        index: this.index\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08e71f6c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[(_vm.selected && _vm.sectionCount > 1)?_c('el-button',{staticClass:\"delete-btn\",attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitDelete}}):_vm._e(),(_vm.selected && _vm.index)?_c('el-button',{staticClass:\"up-btn\",attrs:{\"icon\":\"el-icon-arrow-up\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitSort}}):_vm._e(),_vm._ssrNode(\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\"><div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div></div></div>\"),_vm._ssrNode(\"<div class=\\\"append-area\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":\"添加文本段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('txt')}}})],1),_c('el-tooltip',{attrs:{\"content\":\"添加图片段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-picture\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('img')}}})],1)],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"61502488\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    handleImageUploadSuccess(res) {\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: res.data.url,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    beforeUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.$store.state.user.id}/create`;\n      return this.beforeImageUpload(file);\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-db0970b2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-preview\"},[_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[(_vm.item.url)?_vm._ssrNode(\"<div class=\\\"wrapper\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.url)))+\">\"),_c('el-input',{staticClass:\"focus-textarea\",attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],2):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess,\"drag\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将图片拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"10px\"},attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1),(_vm.item.url)?_c('el-button',{staticClass:\"save-btn\",attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")]):_vm._e()],1)])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"79e8110d\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd793022\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-preview\"},[_vm._ssrNode(\"<div class=\\\"text-area\\\"><textarea placeholder=\\\"添加文字内容\\\" class=\\\"focus-textarea\\\">\"+_vm._ssrEscape(_vm._s(_vm.text))+\"</textarea></div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-button',{staticClass:\"save-btn\",attrs:{\"loading\":_vm.saving,\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")])],1)],2)}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(159),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5bd32f80\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  props: {},\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.sections[this.selectedIndex];\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      const result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      let result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview({\n      index\n    }) {\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.focusTextarea();\n    },\n\n    handleItemAppend({\n      index,\n      type\n    }) {\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n      this.focusTextarea();\n    },\n\n    handleItemDelete({\n      index\n    }) {\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort({\n      index\n    }) {\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    },\n\n    focusTextarea() {\n      this.$nextTick(() => {\n        const textarea = this.$el.querySelector(\".focus-textarea\");\n        textarea && textarea.focus();\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09796bd8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_vm._ssrNode(\"<div class=\\\"editor-tabs\\\">\",\"</div>\",[_c('transition-group',{staticClass:\"list-complete-wrap\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})}))],1),_c(((_vm.curPreview.type) + \"-preview\"),{tag:\"component\",staticClass:\"editor-preview\",attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"73635ea1\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0dda1000\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-editor-main{height:100%}.json-editor-main .editor-tabs{width:315px;height:100%;overflow-y:auto;float:left;margin-right:10px;padding-right:15px;position:relative}.json-editor-main .list-complete-wrap{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}.json-editor-main .editor-preview{overflow:hidden;min-height:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"19332837\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}.json-item{margin-bottom:30px;height:102px;width:100%;position:relative}.json-item.selected .show-area{border-color:#00a1d6;-webkit-box-shadow:0 0 0 2px rgba(24,144,255,.2);box-shadow:0 0 0 2px rgba(24,144,255,.2)}.json-item .delete-btn{position:absolute;left:62px;top:23px}.json-item .up-btn{position:absolute;right:5px;top:5px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;margin-bottom:10px;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{margin:0 8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"37d07929\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview .body .el-input{margin-top:20px;margin-bottom:50px;padding:0 50px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin:50px auto;width:360px}.image-preview .footer{text-align:right;line-height:60px;height:60px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(160);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1573a35a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .text-area .shim,.text-preview .text-area textarea{word-break:break-word!important;word-break:break-all}.text-preview{height:100%;position:relative;padding-bottom:60px}.text-preview .text-area{position:relative;height:100%;z-index:1}.text-preview .text-area .shim,.text-preview .text-area textarea{background-color:transparent;display:block;width:100%;font-weight:400;font-size:16px;line-height:30px;letter-spacing:0;border-radius:4px}.text-preview .text-area .shim{height:auto;position:relative;visibility:hidden;min-height:100%}.text-preview .text-area textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;padding-right:15px;color:#333}.text-preview .footer{position:absolute;width:100%;height:60px;line-height:60px;padding-right:15px;left:0;bottom:0;text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(300);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1abba19a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#score-create .star-row:after,#score-create .star-row:before{content:\\\"\\\";clear:both;display:table}#score-create .bangumi-search,#score-create .is-creator-wrap,#score-create .title-input{margin-bottom:20px}#score-create .is-creator-wrap .el-switch{margin-left:22px}#score-create .el-icon-question{cursor:pointer}#score-create .star-row{margin-bottom:20px}#score-create .star-row .star-item{float:left;margin-right:75px;margin-bottom:15px}#score-create .star-row .star-item:nth-child(5n){margin-right:0}#score-create .star-row .star-item .label{font-size:13px;margin-bottom:3px;color:#6d757a}#score-create .el-alert{margin-bottom:20px;margin-top:-20px}#score-create .el-alert p{margin-bottom:5px;font-size:13px;line-height:18px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 398:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(152);\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/score/create.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var create = ({\n  name: \"ScoreCreate\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n\n    if (id) {\n      await store.dispatch(\"editor/getData\", {\n        api: new scoreApi[\"a\" /* default */](ctx),\n        id\n      });\n    }\n  },\n\n  components: {\n    JsonEditor: jsonEditor[\"a\" /* default */]\n  },\n\n  data() {\n    const labelMap = {\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    return {\n      openTips: false,\n      labelMap,\n      columns: Object.keys(labelMap),\n      bangumiId: \"\",\n      title: \"\",\n      is_creator: true,\n      form: {\n        lol: 0,\n        cry: 0,\n        fight: 0,\n        moe: 0,\n        sound: 0,\n        vision: 0,\n        story: 0,\n        role: 0,\n        express: 0,\n        style: 0\n      }\n    };\n  },\n\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    resource() {\n      const result = {};\n      Object.keys(this.$store.state.editor.resource).forEach(key => {\n        const value = this.$store.state.editor.resource[key];\n        result[key] = this.columns.indexOf(key) !== -1 ? +value : value;\n      });\n      return result;\n    },\n\n    disabled() {\n      return !!this.id;\n    },\n\n    bid() {\n      return this.$route.query.bid;\n    }\n\n  },\n\n  mounted() {\n    if (this.id) {\n      this.loadEditContent();\n    }\n\n    if (this.bid) {\n      this.bangumiId = +this.bid;\n      this.handleBangumiSearch(this.bangumiId);\n    }\n  },\n\n  methods: {\n    handleBangumiSearch(bangumiId) {\n      if (this.id) {\n        return;\n      }\n\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.check({\n        id: bangumiId\n      }).then(id => {\n        if (id) {\n          this.$confirm(\"你已经给该番剧评过分了，不能重复评分\", \"提示\", {\n            confirmButtonText: \"查看我的评分\",\n            cancelButtonText: \"换一个番剧\",\n            type: \"warning\"\n          }).then(() => {\n            window.location.href = this.$alias.score(id);\n          }).catch(() => {\n            this.bangumiId = \"\";\n          });\n        }\n      });\n    },\n\n    beforeSubmit(richContent) {\n      if (!this.bangumiId) {\n        this.$toast.error(\"请先选择要评价的番剧\");\n        return;\n      }\n\n      if (!this.title) {\n        this.$toast.error(\"标题为必填的\");\n        return;\n      }\n\n      if (!richContent.desc) {\n        this.$toast.error(\"至少说点什么吧\");\n        return;\n      }\n\n      const scores = {};\n      let total = 0;\n      Object.keys(this.form).forEach(key => {\n        const value = this.form[key];\n        scores[key] = value * 2;\n        total += value;\n      });\n\n      if (!total) {\n        this.$toast.error(\"请先选择各维度分值\");\n        return;\n      }\n\n      if (total === 100) {\n        this.$toast.error(\"请认真考虑后再发表\");\n        return;\n      }\n\n      if (richContent.id) {\n        this.submit(richContent, scores);\n      } else {\n        this.$captcha({\n          success: ({\n            data\n          }) => {\n            this.submit(richContent, scores, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n          }\n        });\n      }\n    },\n\n    async submit(richContent, scores, geetest = {}) {\n      this.$channel.$emit(\"write-submit\", true);\n      const api = new scoreApi[\"a\" /* default */](this);\n\n      try {\n        const form = Object.assign({}, scores, {\n          title: this.title,\n          bangumi_id: this.bangumiId,\n          content: richContent.content,\n          intro: richContent.desc.substring(0, 120),\n          do_publish: richContent.publish,\n          geetest,\n          is_creator: this.is_creator\n        });\n        let newId = richContent.id;\n\n        if (newId) {\n          form.id = newId;\n          await api.update(form);\n        } else {\n          const result = await api.create(form);\n          newId = result.data;\n        }\n\n        if (richContent.publish) {\n          this.$confirm(typeof result !== \"undefined\" ? result.message : \"发布成功\", \"提示\", {\n            confirmButtonText: \"点击查看\",\n            cancelButtonText: \"继续编辑\",\n            type: \"warning\"\n          }).then(() => {\n            window.location.href = this.$alias.score(newId);\n          }).catch(() => {});\n        } else {\n          this.$toast.success(\"保存成功\");\n\n          if (!richContent.id) {\n            setTimeout(() => {\n              window.location = this.$alias.editScore(newId);\n            }, 1000);\n          }\n        }\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$channel.$emit(\"write-save-done\");\n        this.$channel.$emit(\"write-submit\", false);\n      }\n    },\n\n    loadEditContent() {\n      if (!this.resource) {\n        this.$toast.error(\"不能编辑他人的内容\");\n        setTimeout(() => {\n          window.location.href = \"/review/create\";\n        }, 1000);\n        return;\n      }\n\n      this.bangumiId = +this.resource.bangumi_id;\n      this.title = this.resource.title;\n      this.is_creator = this.resource.is_creator;\n      this.columns.forEach(key => {\n        this.form[key] = this.resource[key];\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7676a3f3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/score/create.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-create\"}},[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">番剧</h3>\"),_c('bangumi-search',{staticClass:\"bangumi-search\",attrs:{\"followed\":true,\"disabled\":_vm.disabled,\"placeholder\":\"选择要评价的番剧\"},on:{\"search\":_vm.handleBangumiSearch},model:{value:(_vm.bangumiId),callback:function ($$v) {_vm.bangumiId=$$v},expression:\"bangumiId\"}}),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">标题</h3>\"),_c('el-input',{staticClass:\"title-input\",attrs:{\"maxlength\":\"30\",\"placeholder\":\"给你的文章起个好名字！\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}}),(!_vm.id)?_vm._ssrNode(\"<div class=\\\"is-creator-wrap\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">原创</h3>\"),_c('el-tooltip',{attrs:{\"content\":\"如果这是你的原创作品，请勾选该选项\",\"placement\":\"top\"}},[_c('el-switch',{model:{value:(_vm.is_creator),callback:function ($$v) {_vm.is_creator=$$v},expression:\"is_creator\"}})],1)],2):_vm._e(),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">\\n    评分\\n    <i class=\\\"el-icon-question\\\"></i></h3>\"),_vm._ssrNode(\"<div class=\\\"star-row\\\">\",\"</div>\",_vm._l((_vm.columns),function(item,index){return _vm._ssrNode(\"<div class=\\\"star-item\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"label\\\">\"+_vm._ssrEscape(_vm._s(_vm.labelMap[item]))+\"</div>\"),_c('el-rate',{attrs:{\"allow-half\":\"\"},model:{value:(_vm.form[item]),callback:function ($$v) {_vm.$set(_vm.form, item, $$v)},expression:\"form[item]\"}})],2)})),(_vm.openTips)?_c('el-alert',{attrs:{\"title\":\"\",\"type\":\"info\"}},[_c('p',[_vm._v(\"漫评系统简介：\")]),_c('p',[_vm._v(\"站长本人只能算是一个中度的动漫爱好者，对历史的动漫评分体系并没有做过深刻的研究，并且文学功底很差，因此实现的这个评分系统并不一定完美，如果你有好的意见可以通过QQ群联系到我向我反馈。\")]),_c('p',[_vm._v(\"评分系统由十个维度组成，每个维度最低0分，最高10分，因此总分是100分，然后除以 10 之后，得出在页面展示的「10分制」总分。\")]),_c('p',[_vm._v(\"在选取哪十个维度时，并无法做到完全的深思熟虑，因此可能会存在一些不合理的地方，还请大家见谅！\")]),_c('p',[_c('strong',[_vm._v(\"笑点\")]),_vm._v(\"：这部作品是否让你开怀大笑了呢？虽然这个维度对「悲剧作品」不怎么友好，但有一部分喜剧它的核心其实源于悲剧。\")]),_c('p',[_c('strong',[_vm._v(\"泪点\")]),_vm._v(\"：这部作品让你泪腺崩坏了吗？同样的，虽然这个维度对「喜剧作品」不怎么友好，但也存在一些笑着笑着忽然催人泪下的作品？\")]),_c('p',[_c('strong',[_vm._v(\"燃点\")]),_vm._v(\"：这个不需要多余的解释，成为神话吧，少年！\")]),_c('p',[_c('strong',[_vm._v(\"萌点\")]),_vm._v(\"：em.....大家现在对萌系的东西都很喜爱，所以就单独拿出来做了一个分类，如果这部作品中有可爱的角色，就给它加分吧！\")]),_c('p',[_c('strong',[_vm._v(\"音乐\")]),_vm._v(\"：音乐包括：OP、ED、BGM、声优，是一个综合性的分类。\")]),_c('p',[_c('strong',[_vm._v(\"画面\")]),_vm._v(\"：画面包括：静态的人物、建筑、风景的设计与精度，还包括动态的画面连贯性、帧率、特效等。\")]),_c('p',[_c('strong',[_vm._v(\"情节\")]),_vm._v(\"：好的作品情节总是跌宕起伏、扑朔里面，基本猜不到下一步会发展成什么样子，并且叙事手法、伏笔运用都非常的精妙。\")]),_c('p',[_c('strong',[_vm._v(\"人设\")]),_vm._v(\"：一些动漫角色的存在甚至成为了我们的人生信条、憧憬的方向、美的标准，如是纯粹的恶、超强的头脑、强大的意志力等，是作品的灵魂。\")]),_c('p',[_c('strong',[_vm._v(\"内涵\")]),_vm._v(\"：作品所表达的世界观、价值观、人生观等，对人生的思考具有一定的引导价值。\")]),_c('p',[_c('strong',[_vm._v(\"美感\")]),_vm._v(\"：有时候画质不是越好就越美，有些美具有一种艺术感，这种美可能是画面上的，可能是叙事的手法，可能是背景音乐。\")]),_c('p',[_vm._v(\"最后，一般情况下不存在0分的作品，如果你认为一部作品是0分，那就请放过它吧；也不存在满分的作品，如果你认为一部作品达到了满分，可能是你的阅片量还太少，需要再接再厉，(๑•̀ㅂ•́)و✧！\")])]):_vm._e(),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">正文</h3>\"),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var score_create = (esExports);\n// CONCATENATED MODULE: ./src/views/score/create.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(299),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d9ce988c\"\nvar Component = normalizeComponent(\n  create,\n  score_create,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_score_create = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "2.server-bundle.js": "exports.ids = [2];\nexports.modules = {\n\n/***/ 318:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(319);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4f55f689\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 319:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-edit header{text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 413:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/api/bangumiApi.js\nvar bangumiApi = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/bangumi/edit.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var edit = ({\n  mixins: [upload[\"a\" /* default */]],\n\n  data() {\n    const id = +(this.$route.params.id || 0);\n\n    const validateTags = (rule, value, callback) => {\n      if (!value || !value.length) {\n        return callback(new Error(\"至少保留 1 个标签\"));\n      }\n\n      if (value.length > 10) {\n        return callback(new Error(\"最多选择 10 个标签\"));\n      }\n\n      callback();\n    };\n\n    const validateAlias = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入番剧别名\"));\n      } else if (value.split(/,|，/).length <= 1) {\n        callback(new Error(\"请输入多个别名，用逗号分隔\"));\n      } else {\n        callback();\n      }\n    };\n\n    const validateSeason = (rule, value, callback) => {\n      if (value === \"\") {\n        callback();\n      } else {\n        try {\n          const season = JSON.parse(value);\n          const name = season.name;\n          const part = season.part;\n          const time = season.time;\n\n          if (!name) {\n            callback(new Error(\"缺少季度名称\"));\n          }\n\n          if (!part) {\n            callback(new Error(\"缺少季度集数\"));\n          }\n\n          if (!time) {\n            callback(new Error(\"缺少季度日期\"));\n          }\n\n          if (!Array.isArray(time)) {\n            callback(new Error(\"日期必须是数组（区间）\"));\n          }\n\n          if (!Array.isArray(part)) {\n            callback(new Error(\"集数必须是数组（区间）\"));\n          }\n\n          if (!Array.isArray(name)) {\n            callback(new Error(\"名称必须是数组（区间）\"));\n          }\n\n          if (!time.every(eif => /^\\d{4}\\.\\d{1,2}$/.test(eif))) {\n            callback(new Error(\"时间的格式应精确到月份，年与月用点号隔开，如 2018.10 或 2018.2\"));\n          }\n\n          if (!part.every(item => typeof item === \"number\")) {\n            callback(new Error(\"集数必须都是数字\"));\n          }\n\n          if (time.length !== name.length) {\n            callback(new Error(\"名称的个数必须和日期的个数相同\"));\n          }\n\n          if (part.length < 2) {\n            callback(new Error(\"集数至少是两位数\"));\n          }\n\n          if (part.length !== time.length + 1) {\n            callback(new Error(\"集数的个数要比时间和名称的个数多一个\"));\n          }\n\n          if (!part.every((item, index, arr) => {\n            if (index) {\n              if (index === arr.length - 1) {\n                return item === -1 || item > arr[index - 1];\n              } else {\n                return item > arr[index - 1];\n              }\n            } else {\n              return item === 0;\n            }\n          })) {\n            callback(new Error(\"part 要从 0 开始，升序排列，最后一项可为 -1\"));\n          }\n\n          if (!season.re) {\n            callback();\n            return;\n          }\n\n          if (typeof season.re !== \"number\" && !Array.isArray(season.re)) {\n            callback(new Error(\"re 必须是数字 0 和 1 或者一个数组\"));\n            return;\n          }\n\n          if (typeof season.re === \"number\" && season.re !== 0 && season.re !== 1) {\n            callback(new Error(\"re 必须是数字 0 和 1 或者一个数组\"));\n            return;\n          }\n\n          if (Array.isArray(season.re)) {\n            if (season.re.length !== time.length) {\n              callback(new Error(\"re 的个数要和时间的个数相同\"));\n              return;\n            }\n\n            if (season.re.some(_ => {\n              return _ !== 0 && _ !== 1;\n            })) {\n              callback(new Error(\"re 的每一项都必须是 0 或 1\"));\n              return;\n            }\n          }\n\n          callback();\n        } catch (e) {\n          callback(new Error(\"不是标准的JSON格式\"));\n        }\n      }\n    };\n\n    const validatePublish = (rule, value, callback) => {\n      if (value === 0 || value === \"\") {\n        callback(new Error(\"请选择上映日期\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      loading: !!id,\n      tags: [],\n      releaseWeekly: [{\n        id: 0,\n        name: \"不连载\"\n      }, {\n        id: 1,\n        name: \"周一\"\n      }, {\n        id: 2,\n        name: \"周二\"\n      }, {\n        id: 3,\n        name: \"周三\"\n      }, {\n        id: 4,\n        name: \"周四\"\n      }, {\n        id: 5,\n        name: \"周五\"\n      }, {\n        id: 6,\n        name: \"周六\"\n      }, {\n        id: 7,\n        name: \"周日\"\n      }],\n      form: null,\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入番剧名称\",\n          trigger: \"blur\"\n        }],\n        alias: [{\n          validator: validateAlias,\n          trigger: \"blur\"\n        }],\n        published_at: [{\n          validator: validatePublish,\n          trigger: \"change\"\n        }],\n        tags: [{\n          validator: validateTags,\n          trigger: \"change\"\n        }],\n        season: [{\n          validator: validateSeason,\n          trigger: \"blur\"\n        }],\n        summary: [{\n          required: true,\n          message: \"简介不能为空\",\n          trigger: \"blur\"\n        }, {\n          min: 1,\n          max: 250,\n          message: \"最多250字\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    }\n\n  },\n  watch: {\n    $route() {\n      this.getBangumiById();\n    }\n\n  },\n\n  created() {\n    this.getBangumiById();\n    this.getBangumiTags();\n  },\n\n  methods: {\n    getBangumiById() {\n      if (!this.id) {\n        this.form = {\n          name: \"\",\n          alias: \"\",\n          released_at: 0,\n          published_at: \"\",\n          tags: [],\n          avatar: \"\",\n          banner: \"\",\n          season: \"\",\n          summary: \"\",\n          others_site_video: false,\n          end: false,\n          has_video: true,\n          has_cartoon: false\n        };\n        return;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n      api.bangumiInfo({\n        id: this.id\n      }).then(resp => {\n        this.form = Object.assign(resp, {\n          banner: resp.banner.split(\".calibur.tv/\").pop(),\n          avatar: resp.avatar.split(\".calibur.tv/\").pop(),\n          tags: resp.tags.map(_ => _.id)\n        });\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    getBangumiTags() {\n      const api = new bangumiApi[\"a\" /* default */]();\n      api.tags().then(data => {\n        this.tags = data;\n      });\n    },\n\n    beforeAvatarUpload(file) {\n      this.uploadConfig.max = 1;\n      this.uploadConfig.pathPrefix = \"bangumi/avatar\";\n      return this.beforeImageUpload(file);\n    },\n\n    beforeBannerUpload(file) {\n      this.uploadConfig.max = 3;\n      this.uploadConfig.pathPrefix = \"bangumi/banner\";\n      return this.beforeImageUpload(file);\n    },\n\n    handleAvatarSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.form.avatar = res.data.url;\n    },\n\n    handleBannerSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.form.banner = res.data.url;\n    },\n\n    submitForm() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          const api = new adminApi[\"a\" /* default */](this);\n          const params = Object.assign({}, this.form, {\n            published_at: new Date(this.form.published_at).getTime() / 1000\n          });\n          let jumpId = this.id;\n\n          try {\n            if (jumpId) {\n              await api.bangumiEdit(params);\n            } else {\n              jumpId = await api.bangumiCreate(params);\n            }\n\n            this.$toast.success(\"操作成功\");\n            setTimeout(() => {\n              window.open(this.$alias.bangumi(jumpId));\n            }, 2000);\n          } catch (e) {\n            this.$toast.error(\"操作失败\");\n          }\n        }\n      });\n    },\n\n    updateRelease() {\n      this.$prompt(\"请输入视频id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^([1-9][0-9]*)$/,\n        inputErrorMessage: \"id 格式不正确\"\n      }).then(({\n        value\n      }) => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.bangumiRelease({\n          bangumi_id: this.id,\n          video_id: value\n        }).then(() => {\n          this.$toast.success(\"更新成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    handleDelete() {\n      this.$confirm(\"确认要执行该操作吗?\", \"提示\").then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.bangumiDelete({\n          id: this.form.id\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n          this.form.deleted_at = !this.form.deleted_at;\n        }).catch(() => {\n          this.$toast.error(\"操作失败\");\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e97a2fc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/bangumi/edit.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"bangumi-edit\"}},[(_vm.form)?[(_vm.id)?_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":_vm.form.deleted_at ? 'success' : 'danger',\"size\":\"small\",\"icon\":\"delete\"},on:{\"click\":_vm.handleDelete}},[_vm._v(_vm._s(_vm.form.deleted_at ? '恢复' : '删除'))]),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"upload2\",\"type\":\"warning\"},on:{\"click\":_vm.updateRelease}},[_vm._v(\"更新视频资源\")])],1):_vm._e(),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"番剧名称\",\"prop\":\"name\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"中文名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.name\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"番剧别名\",\"prop\":\"alias\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"中文名、日文名、英文名... 名字之间以逗号分隔\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.alias\"}})],1),_c('el-form-item',{attrs:{\"label\":\"连载周期\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.released_at),callback:function ($$v) {_vm.$set(_vm.form, \"released_at\", $$v)},expression:\"form.released_at\"}},_vm._l((_vm.releaseWeekly),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"外站视频\"}},[_c('el-switch',{model:{value:(_vm.form.others_site_video),callback:function ($$v) {_vm.$set(_vm.form, \"others_site_video\", $$v)},expression:\"form.others_site_video\"}})],1),_c('el-form-item',{attrs:{\"label\":\"已完结\"}},[_c('el-switch',{model:{value:(_vm.form.end),callback:function ($$v) {_vm.$set(_vm.form, \"end\", $$v)},expression:\"form.end\"}})],1),_c('el-form-item',{attrs:{\"label\":\"有视频\"}},[_c('el-switch',{model:{value:(_vm.form.has_video),callback:function ($$v) {_vm.$set(_vm.form, \"has_video\", $$v)},expression:\"form.has_video\"}})],1),_c('el-form-item',{attrs:{\"label\":\"有漫画\"}},[_c('el-switch',{model:{value:(_vm.form.has_cartoon),callback:function ($$v) {_vm.$set(_vm.form, \"has_cartoon\", $$v)},expression:\"form.has_cartoon\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上映日期\",\"prop\":\"published_at\",\"required\":\"\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.published_at),callback:function ($$v) {_vm.$set(_vm.form, \"published_at\", $$v)},expression:\"form.published_at\"}})],1),_c('el-form-item',{attrs:{\"label\":\"番剧标签\",\"prop\":\"tags\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"可多选，至少选择一个\"},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}},_vm._l((_vm.tags),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"番剧头像\",\"prop\":\"avatar\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-input',{attrs:{\"disabled\":true,\"auto-complete\":\"off\"},model:{value:(_vm.form.avatar),callback:function ($$v) {_vm.$set(_vm.form, \"avatar\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.avatar\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://image.calibur.tv/\")])],2)],1),_c('el-col',{attrs:{\"span\":2,\"offset\":1}},[_c('el-form-item',[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n                上传\\n              \")])],1)],1)],1),(_vm.form.avatar)?_c('el-col',{attrs:{\"span\":2}},[_c('el-popover',{ref:\"popoverAvatar\",attrs:{\"placement\":\"left\",\"width\":\"200\",\"trigger\":\"hover\"}},[_c('img',{attrs:{\"src\":_vm.imagePrefix + _vm.form.avatar}})]),_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popoverAvatar\",arg:\"popoverAvatar\"}],attrs:{\"href\":_vm.imagePrefix + _vm.form.avatar,\"type\":\"text\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" 预览\\n          \")])],1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"番剧背景\",\"prop\":\"banner\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-input',{attrs:{\"disabled\":true,\"auto-complete\":\"off\"},model:{value:(_vm.form.banner),callback:function ($$v) {_vm.$set(_vm.form, \"banner\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.banner\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://image.calibur.tv/\")])],2)],1),_c('el-col',{attrs:{\"span\":2,\"offset\":1}},[_c('el-form-item',[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"show-file-list\":false,\"on-success\":_vm.handleBannerSuccess,\"before-upload\":_vm.beforeBannerUpload,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n                上传\\n              \")])],1)],1)],1),(_vm.form.banner)?_c('el-col',{attrs:{\"span\":2}},[_c('el-popover',{ref:\"popoverBanner\",attrs:{\"placement\":\"left\",\"width\":\"200\",\"trigger\":\"hover\"}},[_c('img',{attrs:{\"src\":_vm.imagePrefix + _vm.form.banner}})]),_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popoverBanner\",arg:\"popoverBanner\"}],attrs:{\"href\":_vm.imagePrefix + _vm.form.banner,\"type\":\"text\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" 预览\\n          \")])],1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"季度信息\",\"prop\":\"season\"}},[_c('el-input',{attrs:{\"rows\":2,\"type\":\"textarea\",\"placeholder\":\"请输入番剧季度信息，JSON格式，包含 part，time，name, re 字段\"},model:{value:(_vm.form.season),callback:function ($$v) {_vm.$set(_vm.form, \"season\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.season\"}})],1),_c('el-form-item',[_c('el-collapse',[_c('el-collapse-item',{attrs:{\"title\":\"季度信息介绍：\"}},[_c('div',[_vm._v(\"1. 这个字段可为空\")]),_c('div',[_vm._v(\"2. part 是多个数组（区间），代表季度的集数，比如第一季是1 ~ 12, 第二季是 13 ~ 24，那么 part = [0, 12, 24]\")]),_c('div',[_vm._v(\"3. 第一个 0 代表从第一集开始，12 - 0 = 12，24 -12 = 12，代表第一季有12集，第二季有12集\")]),_c('div',[_vm._v(\"4. time 和 name 代表该季度的上映日期和名称，如果没有特殊名称，就填写'第一季、第二季'\")]),_c('div',[_vm._v(\"5. 假设 part 有 N 个，那么 time 和 name 就有 N - 1 个，因此 part 至少是两个\")]),_c('div',[_vm._v(\"6. part 必须是升序排列的，从 0 开始，当番剧未完结时，最后一位是 -1\")]),_c('div',[_vm._v(\"7. re 代表每个季度之间的集数是否重排，如果是 1 则重拍，如果是 0 或不填则不重排\")]),_c('div',[_vm._v(\"9. re 也可以和 name 是一个数组，但它的长度必须和 name 一样，并且每一项都是 0 或 1\")]),_c('div',[_vm._v(\"9. 关于 JSON，你可能需要在这里进行格式校验：\\n              \"),_c('a',{attrs:{\"href\":\"http://www.json.cn/\",\"target\":\"_blank\"}},[_vm._v(\"JSON格式化工具\")])])])],1)],1),_c('el-form-item',{attrs:{\"label\":\"番剧简介\",\"prop\":\"summary\"}},[_c('el-input',{attrs:{\"rows\":4,\"type\":\"textarea\",\"placeholder\":\"请输入番剧简介，最多250字，纯文本不支持各种换行符\"},model:{value:(_vm.form.summary),callback:function ($$v) {_vm.$set(_vm.form, \"summary\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.summary\"}})],1),_c('el-form-item',[_c('el-col',{attrs:{\"span\":3,\"offset\":21}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(_vm._s(_vm.id ? '确认编辑' : '立即创建'))])],1)],1)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_edit = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/bangumi/edit.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(318),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7d8500a1\"\nvar Component = normalizeComponent(\n  edit,\n  bangumi_edit,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_edit = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "3.server-bundle.js": "exports.ids = [3];\nexports.modules = {\n\n/***/ 421:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/role/edit.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var edit = ({\n  mixins: [upload[\"a\" /* default */]],\n\n  data() {\n    const validateAlias = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入番剧别名\"));\n      } else if (value.split(/,/).length <= 1) {\n        callback(new Error(\"请输入多个别名，用英文逗号分隔\"));\n      } else {\n        callback();\n      }\n    };\n\n    const id = +(this.$route.params.id || 0);\n    return {\n      loading: !!id,\n      form: null,\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入角色名称\",\n          trigger: \"blur\"\n        }],\n        avatar: [{\n          required: true,\n          message: \"头像是必填\",\n          trigger: \"change\"\n        }],\n        alias: [{\n          validator: validateAlias,\n          trigger: \"blur\"\n        }],\n        intro: [{\n          required: true,\n          message: \"简介不能为空\",\n          trigger: \"blur\"\n        }, {\n          min: 1,\n          max: 250,\n          message: \"最多250字\",\n          trigger: \"blur\"\n        }],\n        bangumi_id: [{\n          required: true,\n          message: \"番剧是必选\",\n          trigger: \"blur\"\n        }]\n      },\n      submitting: false\n    };\n  },\n\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    }\n\n  },\n  watch: {\n    $route() {\n      this.getRoleById();\n    }\n\n  },\n\n  created() {\n    this.getRoleById();\n  },\n\n  methods: {\n    async getRoleById() {\n      if (!this.id) {\n        this.form = {\n          name: \"\",\n          alias: \"\",\n          bangumi_id: \"\",\n          avatar: \"\",\n          intro: \"\"\n        };\n        this.uploadConfig.pathPrefix = `bangumi/role/`;\n        return;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.cartoonRoleInfo({\n          id: this.id\n        });\n        this.form = Object.assign(data, {\n          avatar: data.avatar.split(\"calibur.tv/\").pop()\n        });\n        this.uploadConfig.pathPrefix = `bangumi/${data.bangumi_id}/role/${this.id}`;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    handleAvatarSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.form.avatar = res.data.url;\n    },\n\n    submitForm() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new adminApi[\"a\" /* default */](this);\n          let jumpId = this.id;\n\n          try {\n            if (jumpId) {\n              await api.cartoonRoleEdit(this.form);\n            } else {\n              jumpId = await api.cartoonRoleCreate(this.form);\n            }\n\n            if (!this.id) {\n              this.$refs.form.resetFields();\n            }\n\n            this.$toast.success(\"操作成功\");\n            this.uploadConfig.pathPrefix = `bangumi/role/`;\n            setTimeout(() => {\n              window.open(this.$alias.cartoonRole(jumpId));\n            }, 2000);\n          } catch (e) {\n            this.$toast.error(e);\n          } finally {\n            this.submitting = false;\n          }\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5c973385\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/role/edit.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"role-edit\"}},[(_vm.form)?_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"name\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"中文名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.name\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"角色别名\",\"prop\":\"alias\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"中文名、日文名、英文名... 名字之间以英文逗号分隔\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.alias\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属番剧\",\"prop\":\"bangumi_id\"}},[_c('bangumi-search',{model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色头像\",\"prop\":\"avatar\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.form.avatar),callback:function ($$v) {_vm.$set(_vm.form, \"avatar\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.avatar\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://image.calibur.tv/\")])],2)],1),_c('el-col',{attrs:{\"span\":2,\"offset\":1}},[_c('el-form-item',[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeImageUpload,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n              上传\\n            \")])],1)],1)],1),(_vm.form.avatar)?_c('el-col',{attrs:{\"span\":2}},[_c('el-popover',{ref:\"popoverAvatar\",attrs:{\"placement\":\"left\",\"width\":\"100\",\"trigger\":\"hover\"}},[_c('img',{attrs:{\"src\":_vm.$resize(_vm.form.avatar, { width: 100 })}})]),_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popoverAvatar\",arg:\"popoverAvatar\"}],attrs:{\"href\":_vm.imagePrefix + _vm.form.avatar,\"type\":\"text\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" 预览\\n        \")])],1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"角色简介\",\"prop\":\"intro\",\"required\":\"\"}},[_c('el-input',{attrs:{\"rows\":4,\"type\":\"textarea\",\"placeholder\":\"请输入角色简介，最多250字，纯文本不支持各种换行符\"},model:{value:(_vm.form.intro),callback:function ($$v) {_vm.$set(_vm.form, \"intro\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.intro\"}})],1),_c('el-form-item',[_c('el-col',{attrs:{\"span\":3,\"offset\":21}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(_vm._s(_vm.id ? '确认编辑' : '立即创建'))])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_edit = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/role/edit.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"67721b1c\"\nvar Component = normalizeComponent(\n  edit,\n  role_edit,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_edit = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "4.server-bundle.js": "exports.ids = [4];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    async voteAction(is_agree) {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.currentUserId === this.authorId) {\n        this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.vote({\n          type: this.type,\n          id: this.id,\n          is_agree\n        });\n        this.$emit(\"vote\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1156c834\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(126),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"979a7632\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"78030ae6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn:hover{background-color:rgba(0,161,214,.2)}.vote-button .vote-btn.vote-down{margin-left:4px}.vote-button .vote-btn.active{background-color:#00a1d6;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview() {\n      this.$emit(\"preview\", {\n        index: this.index\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08e71f6c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[(_vm.selected && _vm.sectionCount > 1)?_c('el-button',{staticClass:\"delete-btn\",attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitDelete}}):_vm._e(),(_vm.selected && _vm.index)?_c('el-button',{staticClass:\"up-btn\",attrs:{\"icon\":\"el-icon-arrow-up\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitSort}}):_vm._e(),_vm._ssrNode(\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\"><div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div></div></div>\"),_vm._ssrNode(\"<div class=\\\"append-area\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":\"添加文本段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('txt')}}})],1),_c('el-tooltip',{attrs:{\"content\":\"添加图片段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-picture\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('img')}}})],1)],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"61502488\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    handleImageUploadSuccess(res) {\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: res.data.url,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    beforeUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.$store.state.user.id}/create`;\n      return this.beforeImageUpload(file);\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-db0970b2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-preview\"},[_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[(_vm.item.url)?_vm._ssrNode(\"<div class=\\\"wrapper\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.url)))+\">\"),_c('el-input',{staticClass:\"focus-textarea\",attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],2):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess,\"drag\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将图片拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"10px\"},attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1),(_vm.item.url)?_c('el-button',{staticClass:\"save-btn\",attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")]):_vm._e()],1)])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"79e8110d\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd793022\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-preview\"},[_vm._ssrNode(\"<div class=\\\"text-area\\\"><textarea placeholder=\\\"添加文字内容\\\" class=\\\"focus-textarea\\\">\"+_vm._ssrEscape(_vm._s(_vm.text))+\"</textarea></div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-button',{staticClass:\"save-btn\",attrs:{\"loading\":_vm.saving,\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")])],1)],2)}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(159),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5bd32f80\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  props: {},\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.sections[this.selectedIndex];\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      const result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      let result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview({\n      index\n    }) {\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.focusTextarea();\n    },\n\n    handleItemAppend({\n      index,\n      type\n    }) {\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n      this.focusTextarea();\n    },\n\n    handleItemDelete({\n      index\n    }) {\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort({\n      index\n    }) {\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    },\n\n    focusTextarea() {\n      this.$nextTick(() => {\n        const textarea = this.$el.querySelector(\".focus-textarea\");\n        textarea && textarea.focus();\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09796bd8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_vm._ssrNode(\"<div class=\\\"editor-tabs\\\">\",\"</div>\",[_c('transition-group',{staticClass:\"list-complete-wrap\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})}))],1),_c(((_vm.curPreview.type) + \"-preview\"),{tag:\"component\",staticClass:\"editor-preview\",attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"73635ea1\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0dda1000\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-editor-main{height:100%}.json-editor-main .editor-tabs{width:315px;height:100%;overflow-y:auto;float:left;margin-right:10px;padding-right:15px;position:relative}.json-editor-main .list-complete-wrap{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}.json-editor-main .editor-preview{overflow:hidden;min-height:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"19332837\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}.json-item{margin-bottom:30px;height:102px;width:100%;position:relative}.json-item.selected .show-area{border-color:#00a1d6;-webkit-box-shadow:0 0 0 2px rgba(24,144,255,.2);box-shadow:0 0 0 2px rgba(24,144,255,.2)}.json-item .delete-btn{position:absolute;left:62px;top:23px}.json-item .up-btn{position:absolute;right:5px;top:5px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;margin-bottom:10px;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{margin:0 8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"37d07929\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview .body .el-input{margin-top:20px;margin-bottom:50px;padding:0 50px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin:50px auto;width:360px}.image-preview .footer{text-align:right;line-height:60px;height:60px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(160);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1573a35a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .text-area .shim,.text-preview .text-area textarea{word-break:break-word!important;word-break:break-all}.text-preview{height:100%;position:relative;padding-bottom:60px}.text-preview .text-area{position:relative;height:100%;z-index:1}.text-preview .text-area .shim,.text-preview .text-area textarea{background-color:transparent;display:block;width:100%;font-weight:400;font-size:16px;line-height:30px;letter-spacing:0;border-radius:4px}.text-preview .text-area .shim{height:auto;position:relative;visibility:hidden;min-height:100%}.text-preview .text-area textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;padding-right:15px;color:#333}.text-preview .footer{position:absolute;width:100%;height:60px;line-height:60px;padding-right:15px;left:0;bottom:0;text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/AnswerFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var AnswerFlowItem = ({\n  name: \"AnswerFlowItem\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */],\n    VoteButton: VoteButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      showCommentModal: false\n    };\n  },\n\n  computed: {\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.$store.state.user.id === this.item.user.id : false;\n    }\n\n  },\n  methods: {\n    handleVoted(result) {\n      this.$store.commit(\"question/TOGGLE_ANSWER_VOTE\", {\n        id: this.item.id,\n        data: result\n      });\n    },\n\n    loadAnswerComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-answer-${this.item.id}`);\n      });\n    },\n\n    deleteAnswer() {\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        const api = new questionApi[\"a\" /* default */](this);\n\n        try {\n          await api.deleteAnswer({\n            id: this.item.id\n          });\n          window.location.reload();\n        } catch (e) {\n          this.$toast.error(e);\n        }\n      }).catch(() => {});\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.item.id,\n        key: \"answer\",\n        value: count\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf7d5910\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/AnswerFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"answer-flow-item\",attrs:{\"id\":(\"answer-\" + (_vm.item.id))}},[_vm._ssrNode(\"<header class=\\\"answer-header\\\">\",\"</header>\",[_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":\"40\"}})],1),_vm._ssrNode(\"<div class=\\\"info\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a><p class=\\\"oneline signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.signature))+\"</p></div>\")],2),(_vm.item.vote_count)?_vm._ssrNode(\"<div class=\\\"answer-meta\\\">\",\"</div>\",[_vm._ssrNode(((_vm.item.source_url)?(\"<span><a\"+(_vm._ssrAttr(\"href\",_vm.item.source_url))+\" target=\\\"_blank\\\">\\n        原文链接\\n      </a>\\n       · \\n    </span>\"):\"<!---->\")),(_vm.item.created_at === _vm.item.published_at)?_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      发布于\\n      \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2):_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      编辑于\\n      \"),_c('el-tooltip',{attrs:{\"content\":(\"发布于：\" + (_vm.item.created_at)),\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.item.published_at),callback:function ($$v) {_vm.$set(_vm.item, \"published_at\", $$v)},expression:\"item.published_at\"}})],1)],2),_vm._ssrNode(\"\\n     · \\n    <span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.vote_count)+\" 赞同了该回答\\n    \")+\"</span>\")],2):_vm._e(),_vm._ssrNode(\"<main class=\\\"answer-content\\\">\",\"</main>\",[_c('json-content',{attrs:{\"content\":_vm.item.content}}),_c('social-panel',{attrs:{\"id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"user-id\":_vm.item.user.id,\"liked\":_vm.item.liked,\"marked\":_vm.item.marked,\"rewarded\":_vm.item.rewarded,\"reward-users\":_vm.item.reward_users,\"like-users\":_vm.item.like_users,\"mark-users\":_vm.item.mark_users,\"type\":\"answer\",\"social-commit-path\":\"question/ANSWER_SOCIAL_TOGGLE\",\"user-commit-path\":\"question/FETCH_ANSWER_SOCIAL_USERS\"}})],1),_vm._ssrNode(\"<footer class=\\\"answer-footer\\\">\",\"</footer>\",[_c('vote-button',{attrs:{\"id\":_vm.item.id,\"total\":_vm.item.vote_count,\"score\":_vm.item.voted,\"author-id\":_vm.item.user.id,\"type\":\"answer\"},on:{\"vote\":_vm.handleVoted}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadAnswerComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '添加评论')+\"\\n    \")]),_c('v-share',{attrs:{\"url\":_vm.$alias.answer(_vm.item.id),\"title\":_vm.qaq.title,\"desc\":_vm.item.intro,\"type\":\"button\"}}),(_vm.isMine)?[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog', true)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n        编辑\\n      \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.deleteAnswer}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"\\n        删除\\n      \")])]:_vm._e(),_c('report-dialog',{attrs:{\"id\":_vm.item.id,\"type\":\"answer\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\",\"icon\":\"el-icon-phone\"}},[_vm._v(\"举报\")])],1)],2),_c('v-dialog',{staticClass:\"comment-dialog\",attrs:{\"header\":false,\"footer\":false,\"fullscreen\":true},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticStyle:{\"max-width\":\"700px\",\"margin\":\"0 auto\"}},[_c('comment-main',{attrs:{\"id\":_vm.item.id,\"master-id\":_vm.item.user.id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"answer\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_AnswerFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/AnswerFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(183),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0a953163\"\nvar Component = normalizeComponent(\n  AnswerFlowItem,\n  item_AnswerFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_AnswerFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(184);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"70510e1d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".answer-flow-item{padding:16px 20px;position:relative;margin-bottom:10px;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1);border-radius:2px;overflow:hidden}.answer-flow-item .answer-header{height:40px;margin-bottom:10px}.answer-flow-item .answer-header .user-avatar{float:left;margin-right:10px;width:40px;height:40px;border-radius:20px;overflow:hidden}.answer-flow-item .answer-header .info{overflow:hidden}.answer-flow-item .answer-header .info .nickname{color:#444;font-weight:600;font-size:15px;line-height:1.4}.answer-flow-item .answer-header .info .signature{line-height:1.3;font-size:14px;color:#646464}.answer-flow-item .answer-meta{font-size:14px;line-height:20px;margin-bottom:10px;color:#8590a6}.answer-flow-item .answer-meta a:hover{text-decoration:underline}.answer-flow-item .answer-footer{position:absolute;left:0;bottom:0;width:100%;height:54px;padding:10px 20px}.answer-flow-item .answer-footer:hover .report-btn{opacity:1!important}.answer-flow-item .answer-footer .el-button,.answer-flow-item .answer-footer .v-share{margin-left:16px}.answer-flow-item .answer-footer .el-button--text,.answer-flow-item .answer-footer .share-btn{color:#6d757a!important}.answer-flow-item .answer-footer .v-share{display:inline-block}.answer-flow-item .answer-footer .report-btn{opacity:0}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(152);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/CreateAnswerForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAnswerForm = ({\n  name: \"CreateAnswerForm\",\n  components: {\n    JsonEditor: jsonEditor[\"a\" /* default */]\n  },\n  props: {\n    title: {\n      required: true,\n      type: String\n    },\n    questionId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      required: true,\n      type: Boolean\n    },\n    answerId: {\n      type: Number,\n      default: 0\n    },\n    published: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      id: this.answerId,\n      show: this.value,\n      source_url: \"\",\n      saving: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.editor.resource;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"show\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"value\", val => {\n      this.show = val;\n    });\n    this.loadEditContent();\n  },\n\n  methods: {\n    beforeSubmit(richContent) {\n      if (this.source_url && !/^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i.test(this.source_url)) {\n        this.$toast.error(\"请输入合法转载链接\");\n        return;\n      }\n\n      if (this.saving) {\n        return;\n      }\n\n      this.saving = true;\n\n      if (this.id) {\n        this.submit(richContent);\n      } else {\n        this.$captcha({\n          success: ({\n            data\n          }) => {\n            this.submit(richContent, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n            this.saving = false;\n          },\n          close: () => {\n            this.saving = false;\n          }\n        });\n      }\n    },\n\n    async submit(richContent, geetest = {}) {\n      this.$channel.$emit(\"write-submit\", true);\n      const api = new questionApi[\"a\" /* default */](this);\n\n      try {\n        const form = {\n          question_id: this.questionId,\n          content: richContent.content,\n          intro: richContent.desc.substring(0, 120),\n          do_publish: richContent.publish,\n          source_url: this.source_url.split(\"?\")[0],\n          geetest\n        };\n\n        if (this.id) {\n          form.id = this.id;\n          await api.updateAnswer(form);\n        } else {\n          const result = await api.createAnswer(form);\n          this.id = result.data;\n        }\n\n        if (richContent.publish) {\n          this.$toast.success(typeof result !== \"undefined\" ? result.message : \"发布成功\").then(() => {\n            window.location.href = this.$alias.answer(this.id);\n          });\n        } else {\n          this.$toast.success(\"编辑成功！\");\n          this.$store.commit(\"question/EDIT_ANSWER\", {\n            id: this.id\n          });\n          this.closeEditor();\n        }\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.saving = false;\n      }\n    },\n\n    loadEditContent() {\n      if (this.resource) {\n        this.source_url = this.resource.source_url;\n      }\n    },\n\n    closeEditor() {\n      this.show = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-099700f5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/CreateAnswerForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"footer\":false,\"header\":false,\"fullscreen\":true,\"close\":false,\"width\":\"100%\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"create-answer-form\"}},[_c('h1',{staticClass:\"qaq-title\",domProps:{\"textContent\":_vm._s(_vm.title)}}),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],1),_c('div',{staticClass:\"qaq-editor-footer\"},[_c('div',{staticClass:\"container\"},[_c('el-input',{staticClass:\"source-url\",attrs:{\"placeholder\":\"如果是转载，请复制原文链接至此\",\"size\":\"medium\"},model:{value:(_vm.source_url),callback:function ($$v) {_vm.source_url=$$v},expression:\"source_url\"}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.closeEditor}},[_vm._v(\"\\n        取消\\n      \")]),(!_vm.published)?_c('el-button',{attrs:{\"loading\":_vm.saving,\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('write-save')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.id ? '更新草稿' : '存草稿')+\"\\n      \")]):_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.saving,\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.$channel.$emit('write-publish')}}},[_vm._v(_vm._s(_vm.published ? '更新回答' : _vm.id ? '发布回答' : '提交回答'))])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var question_CreateAnswerForm = (esExports);\n// CONCATENATED MODULE: ./src/components/question/CreateAnswerForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(188),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"43b12fce\"\nvar Component = normalizeComponent(\n  CreateAnswerForm,\n  question_CreateAnswerForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_CreateAnswerForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/QuestionPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var QuestionPanel = ({\n  name: \"QuestionPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    CreateAnswerForm: components_question_CreateAnswerForm\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      loadingFollowers: false,\n      showCommentModal: false,\n      showCreateAnswerForm: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.qaq.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    collapsedContent() {\n      let text = this.qaq.intro.substring(0, 78);\n\n      if (this.qaq.images.length) {\n        text += \"[图片]\";\n      }\n\n      return `${text}...`;\n    },\n\n    followers() {\n      return this.qaq.follow_users;\n    },\n\n    answerPage() {\n      return this.$route.name === \"answer-show\";\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    isMyAnswer() {\n      if (this.isGuest || !this.answerPage) {\n        return false;\n      }\n\n      return this.answer.user.id === this.$store.state.user.id;\n    },\n\n    isMyQAQ() {\n      if (this.isGuest || this.answerPage) {\n        return false;\n      }\n\n      return this.qaq.user.id === this.$store.state.user.id;\n    }\n\n  },\n\n  created() {\n    this.collapsed = this.qaq.intro || this.qaq.images.length;\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-write-answer-dialog\", (isEdit = false) => {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (isEdit) {\n        this.editMyAnswer();\n      } else {\n        this.showCreateAnswerForm = true;\n      }\n    });\n  },\n\n  methods: {\n    async fetchMoreFollowers() {\n      if (this.loadingFollowers) {\n        return;\n      }\n\n      this.loadingFollowers = true;\n      const api = new Api(this);\n      const type = \"follow\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          take: 15,\n          last_id: this.followers.list[this.followers.list.length - 1].id,\n          model: \"question\",\n          type\n        });\n        this.$store.commit(\"question/FETCH_QAQ_SOCIAL_USERS\", {\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingFollowers = false;\n      }\n    },\n\n    toggleFollowQAQ(result) {\n      const user = this.$store.state.user;\n      this.$store.commit(\"question/QAQ_SOCIAL_TOGGLE\", {\n        key: \"follow\",\n        value: result,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    },\n\n    async editMyAnswer() {\n      try {\n        await this.$store.dispatch(\"editor/getData\", {\n          api: new questionApi[\"a\" /* default */](this),\n          id: this.qaq.my_answer.id\n        });\n        this.showCreateAnswerForm = true;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    loadQAQComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-question-${this.id}`);\n      });\n    },\n\n    collapsedQAQ() {\n      this.collapsed = true;\n      window.scrollTo(0, 0);\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.id,\n        key: \"qaq\",\n        value: count\n      });\n    },\n\n    beginWriteAnswer() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showCreateAnswerForm = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc33d1a2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/QuestionPanel.vue\nvar QuestionPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.qaq)?_c('div',{attrs:{\"id\":\"question-panel\"}},[_c('v-layout',[_c('div',{staticClass:\"qaq-question\",attrs:{\"slot\":\"main\"},slot:\"main\"},[_c('ul',{staticClass:\"qaq-tags\"},_vm._l((_vm.qaq.tags),function(tag){return _c('li',{key:tag.id,staticClass:\"tag\"},[_c('a',{staticClass:\"tag-btn\",attrs:{\"href\":_vm.$alias.bangumi(tag.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(tag.name)}})])})),_c('div',{staticClass:\"title\"},[_c('h1',{domProps:{\"textContent\":_vm._s(_vm.qaq.title)}})]),_c('div',{staticClass:\"content\"},[(_vm.collapsed)?_c('div',{staticClass:\"collapsed-content\"},[_vm._v(\"\\n          \"+_vm._s(_vm.collapsedContent)+\"\\n          \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.collapsed = false}}},[_vm._v(\"\\n            显示全部\\n            \"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],1):[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.qaq.content)}}),_vm._l((_vm.qaq.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)})]],2),_c('div',{staticClass:\"panel\"},[_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.qaq.followed,\"theme\":_vm.qaq.followed ? 'info' : 'primary',\"round\":false,\"followed-text\":\"取消关注\",\"un-follow-text\":\"关注问题\",\"size\":\"medium\",\"type\":\"question\"},on:{\"submit\":_vm.toggleFollowQAQ}}),(_vm.qaq.my_answer)?[(_vm.answerPage)?[(_vm.isMyAnswer)?_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.editMyAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n              编辑回答\\n            \")]):(_vm.qaq.my_answer.published_at)?_c('a',{attrs:{\"href\":_vm.$alias.answer(_vm.qaq.my_answer.id),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\"\\n                查看回答\\n              \")])],1):_vm._e()]:[(_vm.qaq.my_answer.published_at)?_c('a',{attrs:{\"href\":_vm.$alias.answer(_vm.qaq.my_answer.id),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\"\\n                查看回答\\n              \")])],1):_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.editMyAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n              编辑回答\\n            \")])]]:_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.beginWriteAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n          写回答\\n        \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadQAQComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n          \"+_vm._s(_vm.qaq.comment_count ? _vm.qaq.comment_count + ' 条评论' : '添加评论')+\"\\n        \")]),_c('v-share',{attrs:{\"url\":_vm.$alias.question(_vm.id),\"title\":_vm.qaq.title,\"desc\":_vm.qaq.intro,\"type\":\"button\"}}),_c('report-dialog',{attrs:{\"id\":_vm.id,\"type\":\"question\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\",\"icon\":\"el-icon-phone\"}},[_vm._v(\"举报\")])],1),(!_vm.collapsed)?_c('el-button',{staticClass:\"fr\",attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.collapsedQAQ}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_vm._v(\"\\n          收起\\n        \")]):_vm._e()],2),_c('v-dialog',{staticClass:\"comment-dialog\",attrs:{\"header\":false,\"footer\":false,\"fullscreen\":true},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticStyle:{\"max-width\":\"700px\",\"margin\":\"0 auto\"}},[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.qaq.user_id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"question\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}})],1)])],1),_c('div',{staticClass:\"question-aside\",attrs:{\"slot\":\"aside\"},slot:\"aside\"},[_c('div',{staticClass:\"meta-item\"},[_c('div',{staticClass:\"meta-text\"},[_vm._v(\"\\n          被浏览 \"+_vm._s(_vm.qaq.view_count)+\"\\n        \")])]),_c('div',{staticClass:\"meta-item\"},[_c('div',{staticClass:\"meta-text\"},[_vm._v(\"\\n          关注者 \"+_vm._s(_vm.followers.total)+\"\\n        \")]),(_vm.followers.total)?_c('ava-dialog',{attrs:{\"users\":_vm.followers.list,\"fetch\":_vm.fetchMoreFollowers,\"title\":(\"《\" + (_vm.followers.total) + \"》人关注了\"),\"loading\":_vm.loadingFollowers,\"no-more\":_vm.followers.noMore}}):_vm._e()],1)])]),_c('create-answer-form',{attrs:{\"title\":_vm.qaq.title,\"question-id\":_vm.id,\"answer-id\":_vm.qaq.my_answer ? _vm.qaq.my_answer.id : 0,\"published\":_vm.qaq.my_answer ? !!_vm.qaq.published_at : false},model:{value:(_vm.showCreateAnswerForm),callback:function ($$v) {_vm.showCreateAnswerForm=$$v},expression:\"showCreateAnswerForm\"}})],1):_vm._e()}\nvar QuestionPanel_staticRenderFns = []\nvar QuestionPanel_esExports = { render: QuestionPanel_render, staticRenderFns: QuestionPanel_staticRenderFns }\n/* harmony default export */ var question_QuestionPanel = (QuestionPanel_esExports);\n// CONCATENATED MODULE: ./src/components/question/QuestionPanel.vue\nfunction QuestionPanel_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(186),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar QuestionPanel_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar QuestionPanel___vue_template_functional__ = false\n/* styles */\nvar QuestionPanel___vue_styles__ = QuestionPanel_injectStyle\n/* scopeId */\nvar QuestionPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar QuestionPanel___vue_module_identifier__ = \"ca9fa844\"\nvar QuestionPanel_Component = QuestionPanel_normalizeComponent(\n  QuestionPanel,\n  question_QuestionPanel,\n  QuestionPanel___vue_template_functional__,\n  QuestionPanel___vue_styles__,\n  QuestionPanel___vue_scopeId__,\n  QuestionPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_QuestionPanel = __webpack_exports__[\"a\"] = (QuestionPanel_Component.exports);\n\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(187);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"8edfb252\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#question-panel .qaq-question .content .collapsed-content,#question-panel .qaq-question .content .text-area p{word-break:break-word!important;word-break:break-all}#question-panel{background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);padding:16px 0;margin-bottom:10px}#question-panel .qaq-question{margin-left:15px}#question-panel .qaq-question .qaq-tags .tag{display:inline-block;margin-right:10px;margin-bottom:10px}#question-panel .qaq-question .title h1{margin-top:12px;margin-bottom:4px;font-size:22px;font-weight:600;line-height:32px;color:#1a1a1a}#question-panel .qaq-question .content .collapsed-content{margin-bottom:1em;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p{margin:1em 0;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p:first-child{margin-top:0}#question-panel .qaq-question .content .image-package .image{margin:15px 0}#question-panel .qaq-question .panel:hover .report-btn{opacity:1}#question-panel .qaq-question .panel .el-button,#question-panel .qaq-question .panel .v-share{margin-right:16px;margin-left:0}#question-panel .qaq-question .panel .el-button--text,#question-panel .qaq-question .panel .share-btn{color:#6d757a!important}#question-panel .qaq-question .panel .v-share{display:inline-block}#question-panel .qaq-question .panel .report-btn{opacity:0}#question-panel .question-aside{margin-left:15px}#question-panel .question-aside .meta-item{margin-top:5px;margin-bottom:10px}#question-panel .question-aside .meta-item .meta-text{font-size:18px;color:#1a1a1a;font-weight:600;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(189);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"53912968\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#create-answer-form{height:calc(100vh - 155px)}#create-answer-form .qaq-title{margin-top:15px;margin-bottom:20px;font-size:22px;font-weight:600}#create-answer-form .json-editor-main .text-preview{padding-bottom:0}#create-answer-form .json-editor-main .image-preview .save-btn,#create-answer-form .json-editor-main .text-preview .footer{display:none}.qaq-editor-footer{position:fixed;left:0;bottom:0;width:100%;height:52px;border-top:1px solid #f6f9fa;padding-top:7px;text-align:right;z-index:1}.qaq-editor-footer .source-url{float:left;width:450px}.qaq-editor-footer .source-url input{border-top:none;border-right:none;border-left:none}.qaq-editor-footer button{margin-left:18px!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(278);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"86bb99ba\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#question-show{background-color:#f6f9fa}#question-show .answers{margin-left:15px}#question-show .answers .answers-title{height:50px;line-height:50px;padding:0 20px;border-bottom:1px solid #f6f9fa;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1)}#question-show .answers .answers-title h2{font-weight:600;font-size:15px}#question-show #no-content{margin-top:30px;margin-bottom:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(280);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4984c06c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#answer-flow-list{overflow:hidden}#answer-flow-list .load-more-btn{width:100%;background-color:#fff;border:none;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);border-radius:2px;height:50px;line-height:50px;margin-bottom:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 390:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/item/AnswerFlowItem.vue + 2 modules\nvar AnswerFlowItem = __webpack_require__(182);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/AnswerFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var AnswerFlowList = ({\n  name: \"AnswerFlowList\",\n  components: {\n    AnswerFlowItem: AnswerFlowItem[\"a\" /* default */]\n  },\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    source() {\n      return this.$store.state.question.answers;\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"question/getAnswers\", {\n          ctx: this,\n          userZone: this.userZone,\n          questionId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d00bd68\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/AnswerFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"answer-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('answer-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_AnswerFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/AnswerFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(279),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"313aba03\"\nvar Component = normalizeComponent(\n  AnswerFlowList,\n  list_AnswerFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_AnswerFlowList = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/question/QuestionPanel.vue + 5 modules\nvar QuestionPanel = __webpack_require__(185);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/question/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  name: \"QuestionShow\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"question/getQAQ\", {\n      id,\n      ctx\n    }), store.dispatch(\"question/getAnswers\", {\n      questionId: id,\n      ctx\n    })]);\n  },\n\n  head() {\n    return {\n      title: `${this.qaq.title} - 提问`\n    };\n  },\n\n  components: {\n    AnswerFlowList: flow_list_AnswerFlowList,\n    QuestionPanel: QuestionPanel[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-98bdb0d8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"question-show\"}},[_c('v-header',{attrs:{\"type\":\"pure\",\"margin-bottom\":\"0\"}}),_c('question-panel'),_c('v-layout',[_c('template',{slot:\"main\"},[(_vm.qaq.answer_count)?_c('div',{staticClass:\"answers\"},[_c('div',{staticClass:\"answers-title\"},[_c('h2',[_vm._v(\"\\n            \"+_vm._s(_vm.qaq.answer_count)+\" 个回答\\n          \")])]),_c('answer-flow-list',{attrs:{\"bangumi-id\":_vm.id}})],1):_c('no-content',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog')}}},[_vm._v(\"开始写第一个回答\")])],1)],1)],2)],1)}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var question_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/question/show.vue\nfunction show_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(277),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = show_injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"2573b496\"\nvar show_Component = show_normalizeComponent(\n  show,\n  question_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_question_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "5.server-bundle.js": "exports.ids = [5];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    async voteAction(is_agree) {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.currentUserId === this.authorId) {\n        this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.vote({\n          type: this.type,\n          id: this.id,\n          is_agree\n        });\n        this.$emit(\"vote\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1156c834\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(126),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"979a7632\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"78030ae6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn:hover{background-color:rgba(0,161,214,.2)}.vote-button .vote-btn.vote-down{margin-left:4px}.vote-button .vote-btn.active{background-color:#00a1d6;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview() {\n      this.$emit(\"preview\", {\n        index: this.index\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08e71f6c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[(_vm.selected && _vm.sectionCount > 1)?_c('el-button',{staticClass:\"delete-btn\",attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitDelete}}):_vm._e(),(_vm.selected && _vm.index)?_c('el-button',{staticClass:\"up-btn\",attrs:{\"icon\":\"el-icon-arrow-up\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":_vm.emitSort}}):_vm._e(),_vm._ssrNode(\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\"><div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div></div></div>\"),_vm._ssrNode(\"<div class=\\\"append-area\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":\"添加文本段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('txt')}}})],1),_c('el-tooltip',{attrs:{\"content\":\"添加图片段落\",\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-picture\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.emitCreate('img')}}})],1)],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"61502488\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    handleImageUploadSuccess(res) {\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: res.data.url,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    beforeUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.$store.state.user.id}/create`;\n      return this.beforeImageUpload(file);\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-db0970b2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-preview\"},[_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[(_vm.item.url)?_vm._ssrNode(\"<div class=\\\"wrapper\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.url)))+\">\"),_c('el-input',{staticClass:\"focus-textarea\",attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],2):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess,\"drag\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将图片拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"10px\"},attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleImageUploadSuccess}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1),(_vm.item.url)?_c('el-button',{staticClass:\"save-btn\",attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")]):_vm._e()],1)])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"79e8110d\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n  },\n\n  methods: {\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd793022\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-preview\"},[_vm._ssrNode(\"<div class=\\\"text-area\\\"><textarea placeholder=\\\"添加文字内容\\\" class=\\\"focus-textarea\\\">\"+_vm._ssrEscape(_vm._s(_vm.text))+\"</textarea></div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('el-button',{staticClass:\"save-btn\",attrs:{\"loading\":_vm.saving,\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")])],1)],2)}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(159),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5bd32f80\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  props: {},\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.sections[this.selectedIndex];\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      const richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      const result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      let result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview({\n      index\n    }) {\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.focusTextarea();\n    },\n\n    handleItemAppend({\n      index,\n      type\n    }) {\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n      this.focusTextarea();\n    },\n\n    handleItemDelete({\n      index\n    }) {\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort({\n      index\n    }) {\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    },\n\n    focusTextarea() {\n      this.$nextTick(() => {\n        const textarea = this.$el.querySelector(\".focus-textarea\");\n        textarea && textarea.focus();\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09796bd8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_vm._ssrNode(\"<div class=\\\"editor-tabs\\\">\",\"</div>\",[_c('transition-group',{staticClass:\"list-complete-wrap\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})}))],1),_c(((_vm.curPreview.type) + \"-preview\"),{tag:\"component\",staticClass:\"editor-preview\",attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"73635ea1\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0dda1000\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-editor-main{height:100%}.json-editor-main .editor-tabs{width:315px;height:100%;overflow-y:auto;float:left;margin-right:10px;padding-right:15px;position:relative}.json-editor-main .list-complete-wrap{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}.json-editor-main .editor-preview{overflow:hidden;min-height:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"19332837\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}.json-item{margin-bottom:30px;height:102px;width:100%;position:relative}.json-item.selected .show-area{border-color:#00a1d6;-webkit-box-shadow:0 0 0 2px rgba(24,144,255,.2);box-shadow:0 0 0 2px rgba(24,144,255,.2)}.json-item .delete-btn{position:absolute;left:62px;top:23px}.json-item .up-btn{position:absolute;right:5px;top:5px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;margin-bottom:10px;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{margin:0 8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"37d07929\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview .body .el-input{margin-top:20px;margin-bottom:50px;padding:0 50px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin:50px auto;width:360px}.image-preview .footer{text-align:right;line-height:60px;height:60px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(160);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1573a35a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .text-area .shim,.text-preview .text-area textarea{word-break:break-word!important;word-break:break-all}.text-preview{height:100%;position:relative;padding-bottom:60px}.text-preview .text-area{position:relative;height:100%;z-index:1}.text-preview .text-area .shim,.text-preview .text-area textarea{background-color:transparent;display:block;width:100%;font-weight:400;font-size:16px;line-height:30px;letter-spacing:0;border-radius:4px}.text-preview .text-area .shim{height:auto;position:relative;visibility:hidden;min-height:100%}.text-preview .text-area textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;padding-right:15px;color:#333}.text-preview .footer{position:absolute;width:100%;height:60px;line-height:60px;padding-right:15px;left:0;bottom:0;text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/AnswerFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var AnswerFlowItem = ({\n  name: \"AnswerFlowItem\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */],\n    VoteButton: VoteButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      showCommentModal: false\n    };\n  },\n\n  computed: {\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.$store.state.user.id === this.item.user.id : false;\n    }\n\n  },\n  methods: {\n    handleVoted(result) {\n      this.$store.commit(\"question/TOGGLE_ANSWER_VOTE\", {\n        id: this.item.id,\n        data: result\n      });\n    },\n\n    loadAnswerComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-answer-${this.item.id}`);\n      });\n    },\n\n    deleteAnswer() {\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        const api = new questionApi[\"a\" /* default */](this);\n\n        try {\n          await api.deleteAnswer({\n            id: this.item.id\n          });\n          window.location.reload();\n        } catch (e) {\n          this.$toast.error(e);\n        }\n      }).catch(() => {});\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.item.id,\n        key: \"answer\",\n        value: count\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf7d5910\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/AnswerFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"answer-flow-item\",attrs:{\"id\":(\"answer-\" + (_vm.item.id))}},[_vm._ssrNode(\"<header class=\\\"answer-header\\\">\",\"</header>\",[_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":\"40\"}})],1),_vm._ssrNode(\"<div class=\\\"info\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a><p class=\\\"oneline signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.signature))+\"</p></div>\")],2),(_vm.item.vote_count)?_vm._ssrNode(\"<div class=\\\"answer-meta\\\">\",\"</div>\",[_vm._ssrNode(((_vm.item.source_url)?(\"<span><a\"+(_vm._ssrAttr(\"href\",_vm.item.source_url))+\" target=\\\"_blank\\\">\\n        原文链接\\n      </a>\\n       · \\n    </span>\"):\"<!---->\")),(_vm.item.created_at === _vm.item.published_at)?_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      发布于\\n      \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2):_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      编辑于\\n      \"),_c('el-tooltip',{attrs:{\"content\":(\"发布于：\" + (_vm.item.created_at)),\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.item.published_at),callback:function ($$v) {_vm.$set(_vm.item, \"published_at\", $$v)},expression:\"item.published_at\"}})],1)],2),_vm._ssrNode(\"\\n     · \\n    <span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.vote_count)+\" 赞同了该回答\\n    \")+\"</span>\")],2):_vm._e(),_vm._ssrNode(\"<main class=\\\"answer-content\\\">\",\"</main>\",[_c('json-content',{attrs:{\"content\":_vm.item.content}}),_c('social-panel',{attrs:{\"id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"user-id\":_vm.item.user.id,\"liked\":_vm.item.liked,\"marked\":_vm.item.marked,\"rewarded\":_vm.item.rewarded,\"reward-users\":_vm.item.reward_users,\"like-users\":_vm.item.like_users,\"mark-users\":_vm.item.mark_users,\"type\":\"answer\",\"social-commit-path\":\"question/ANSWER_SOCIAL_TOGGLE\",\"user-commit-path\":\"question/FETCH_ANSWER_SOCIAL_USERS\"}})],1),_vm._ssrNode(\"<footer class=\\\"answer-footer\\\">\",\"</footer>\",[_c('vote-button',{attrs:{\"id\":_vm.item.id,\"total\":_vm.item.vote_count,\"score\":_vm.item.voted,\"author-id\":_vm.item.user.id,\"type\":\"answer\"},on:{\"vote\":_vm.handleVoted}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadAnswerComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '添加评论')+\"\\n    \")]),_c('v-share',{attrs:{\"url\":_vm.$alias.answer(_vm.item.id),\"title\":_vm.qaq.title,\"desc\":_vm.item.intro,\"type\":\"button\"}}),(_vm.isMine)?[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog', true)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n        编辑\\n      \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.deleteAnswer}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"\\n        删除\\n      \")])]:_vm._e(),_c('report-dialog',{attrs:{\"id\":_vm.item.id,\"type\":\"answer\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\",\"icon\":\"el-icon-phone\"}},[_vm._v(\"举报\")])],1)],2),_c('v-dialog',{staticClass:\"comment-dialog\",attrs:{\"header\":false,\"footer\":false,\"fullscreen\":true},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticStyle:{\"max-width\":\"700px\",\"margin\":\"0 auto\"}},[_c('comment-main',{attrs:{\"id\":_vm.item.id,\"master-id\":_vm.item.user.id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"answer\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_AnswerFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/AnswerFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(183),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0a953163\"\nvar Component = normalizeComponent(\n  AnswerFlowItem,\n  item_AnswerFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_AnswerFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(184);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"70510e1d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".answer-flow-item{padding:16px 20px;position:relative;margin-bottom:10px;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1);border-radius:2px;overflow:hidden}.answer-flow-item .answer-header{height:40px;margin-bottom:10px}.answer-flow-item .answer-header .user-avatar{float:left;margin-right:10px;width:40px;height:40px;border-radius:20px;overflow:hidden}.answer-flow-item .answer-header .info{overflow:hidden}.answer-flow-item .answer-header .info .nickname{color:#444;font-weight:600;font-size:15px;line-height:1.4}.answer-flow-item .answer-header .info .signature{line-height:1.3;font-size:14px;color:#646464}.answer-flow-item .answer-meta{font-size:14px;line-height:20px;margin-bottom:10px;color:#8590a6}.answer-flow-item .answer-meta a:hover{text-decoration:underline}.answer-flow-item .answer-footer{position:absolute;left:0;bottom:0;width:100%;height:54px;padding:10px 20px}.answer-flow-item .answer-footer:hover .report-btn{opacity:1!important}.answer-flow-item .answer-footer .el-button,.answer-flow-item .answer-footer .v-share{margin-left:16px}.answer-flow-item .answer-footer .el-button--text,.answer-flow-item .answer-footer .share-btn{color:#6d757a!important}.answer-flow-item .answer-footer .v-share{display:inline-block}.answer-flow-item .answer-footer .report-btn{opacity:0}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(152);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/CreateAnswerForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAnswerForm = ({\n  name: \"CreateAnswerForm\",\n  components: {\n    JsonEditor: jsonEditor[\"a\" /* default */]\n  },\n  props: {\n    title: {\n      required: true,\n      type: String\n    },\n    questionId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      required: true,\n      type: Boolean\n    },\n    answerId: {\n      type: Number,\n      default: 0\n    },\n    published: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      id: this.answerId,\n      show: this.value,\n      source_url: \"\",\n      saving: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.editor.resource;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"show\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"value\", val => {\n      this.show = val;\n    });\n    this.loadEditContent();\n  },\n\n  methods: {\n    beforeSubmit(richContent) {\n      if (this.source_url && !/^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i.test(this.source_url)) {\n        this.$toast.error(\"请输入合法转载链接\");\n        return;\n      }\n\n      if (this.saving) {\n        return;\n      }\n\n      this.saving = true;\n\n      if (this.id) {\n        this.submit(richContent);\n      } else {\n        this.$captcha({\n          success: ({\n            data\n          }) => {\n            this.submit(richContent, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n            this.saving = false;\n          },\n          close: () => {\n            this.saving = false;\n          }\n        });\n      }\n    },\n\n    async submit(richContent, geetest = {}) {\n      this.$channel.$emit(\"write-submit\", true);\n      const api = new questionApi[\"a\" /* default */](this);\n\n      try {\n        const form = {\n          question_id: this.questionId,\n          content: richContent.content,\n          intro: richContent.desc.substring(0, 120),\n          do_publish: richContent.publish,\n          source_url: this.source_url.split(\"?\")[0],\n          geetest\n        };\n\n        if (this.id) {\n          form.id = this.id;\n          await api.updateAnswer(form);\n        } else {\n          const result = await api.createAnswer(form);\n          this.id = result.data;\n        }\n\n        if (richContent.publish) {\n          this.$toast.success(typeof result !== \"undefined\" ? result.message : \"发布成功\").then(() => {\n            window.location.href = this.$alias.answer(this.id);\n          });\n        } else {\n          this.$toast.success(\"编辑成功！\");\n          this.$store.commit(\"question/EDIT_ANSWER\", {\n            id: this.id\n          });\n          this.closeEditor();\n        }\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.saving = false;\n      }\n    },\n\n    loadEditContent() {\n      if (this.resource) {\n        this.source_url = this.resource.source_url;\n      }\n    },\n\n    closeEditor() {\n      this.show = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-099700f5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/CreateAnswerForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"footer\":false,\"header\":false,\"fullscreen\":true,\"close\":false,\"width\":\"100%\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"create-answer-form\"}},[_c('h1',{staticClass:\"qaq-title\",domProps:{\"textContent\":_vm._s(_vm.title)}}),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],1),_c('div',{staticClass:\"qaq-editor-footer\"},[_c('div',{staticClass:\"container\"},[_c('el-input',{staticClass:\"source-url\",attrs:{\"placeholder\":\"如果是转载，请复制原文链接至此\",\"size\":\"medium\"},model:{value:(_vm.source_url),callback:function ($$v) {_vm.source_url=$$v},expression:\"source_url\"}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.closeEditor}},[_vm._v(\"\\n        取消\\n      \")]),(!_vm.published)?_c('el-button',{attrs:{\"loading\":_vm.saving,\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('write-save')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.id ? '更新草稿' : '存草稿')+\"\\n      \")]):_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.saving,\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.$channel.$emit('write-publish')}}},[_vm._v(_vm._s(_vm.published ? '更新回答' : _vm.id ? '发布回答' : '提交回答'))])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var question_CreateAnswerForm = (esExports);\n// CONCATENATED MODULE: ./src/components/question/CreateAnswerForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(188),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"43b12fce\"\nvar Component = normalizeComponent(\n  CreateAnswerForm,\n  question_CreateAnswerForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_CreateAnswerForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/QuestionPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var QuestionPanel = ({\n  name: \"QuestionPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    CreateAnswerForm: components_question_CreateAnswerForm\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      loadingFollowers: false,\n      showCommentModal: false,\n      showCreateAnswerForm: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.qaq.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    collapsedContent() {\n      let text = this.qaq.intro.substring(0, 78);\n\n      if (this.qaq.images.length) {\n        text += \"[图片]\";\n      }\n\n      return `${text}...`;\n    },\n\n    followers() {\n      return this.qaq.follow_users;\n    },\n\n    answerPage() {\n      return this.$route.name === \"answer-show\";\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    isMyAnswer() {\n      if (this.isGuest || !this.answerPage) {\n        return false;\n      }\n\n      return this.answer.user.id === this.$store.state.user.id;\n    },\n\n    isMyQAQ() {\n      if (this.isGuest || this.answerPage) {\n        return false;\n      }\n\n      return this.qaq.user.id === this.$store.state.user.id;\n    }\n\n  },\n\n  created() {\n    this.collapsed = this.qaq.intro || this.qaq.images.length;\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-write-answer-dialog\", (isEdit = false) => {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (isEdit) {\n        this.editMyAnswer();\n      } else {\n        this.showCreateAnswerForm = true;\n      }\n    });\n  },\n\n  methods: {\n    async fetchMoreFollowers() {\n      if (this.loadingFollowers) {\n        return;\n      }\n\n      this.loadingFollowers = true;\n      const api = new Api(this);\n      const type = \"follow\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          take: 15,\n          last_id: this.followers.list[this.followers.list.length - 1].id,\n          model: \"question\",\n          type\n        });\n        this.$store.commit(\"question/FETCH_QAQ_SOCIAL_USERS\", {\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingFollowers = false;\n      }\n    },\n\n    toggleFollowQAQ(result) {\n      const user = this.$store.state.user;\n      this.$store.commit(\"question/QAQ_SOCIAL_TOGGLE\", {\n        key: \"follow\",\n        value: result,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    },\n\n    async editMyAnswer() {\n      try {\n        await this.$store.dispatch(\"editor/getData\", {\n          api: new questionApi[\"a\" /* default */](this),\n          id: this.qaq.my_answer.id\n        });\n        this.showCreateAnswerForm = true;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    loadQAQComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-question-${this.id}`);\n      });\n    },\n\n    collapsedQAQ() {\n      this.collapsed = true;\n      window.scrollTo(0, 0);\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.id,\n        key: \"qaq\",\n        value: count\n      });\n    },\n\n    beginWriteAnswer() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showCreateAnswerForm = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc33d1a2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/QuestionPanel.vue\nvar QuestionPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.qaq)?_c('div',{attrs:{\"id\":\"question-panel\"}},[_c('v-layout',[_c('div',{staticClass:\"qaq-question\",attrs:{\"slot\":\"main\"},slot:\"main\"},[_c('ul',{staticClass:\"qaq-tags\"},_vm._l((_vm.qaq.tags),function(tag){return _c('li',{key:tag.id,staticClass:\"tag\"},[_c('a',{staticClass:\"tag-btn\",attrs:{\"href\":_vm.$alias.bangumi(tag.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(tag.name)}})])})),_c('div',{staticClass:\"title\"},[_c('h1',{domProps:{\"textContent\":_vm._s(_vm.qaq.title)}})]),_c('div',{staticClass:\"content\"},[(_vm.collapsed)?_c('div',{staticClass:\"collapsed-content\"},[_vm._v(\"\\n          \"+_vm._s(_vm.collapsedContent)+\"\\n          \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.collapsed = false}}},[_vm._v(\"\\n            显示全部\\n            \"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],1):[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.qaq.content)}}),_vm._l((_vm.qaq.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)})]],2),_c('div',{staticClass:\"panel\"},[_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.qaq.followed,\"theme\":_vm.qaq.followed ? 'info' : 'primary',\"round\":false,\"followed-text\":\"取消关注\",\"un-follow-text\":\"关注问题\",\"size\":\"medium\",\"type\":\"question\"},on:{\"submit\":_vm.toggleFollowQAQ}}),(_vm.qaq.my_answer)?[(_vm.answerPage)?[(_vm.isMyAnswer)?_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.editMyAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n              编辑回答\\n            \")]):(_vm.qaq.my_answer.published_at)?_c('a',{attrs:{\"href\":_vm.$alias.answer(_vm.qaq.my_answer.id),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\"\\n                查看回答\\n              \")])],1):_vm._e()]:[(_vm.qaq.my_answer.published_at)?_c('a',{attrs:{\"href\":_vm.$alias.answer(_vm.qaq.my_answer.id),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\"\\n                查看回答\\n              \")])],1):_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.editMyAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n              编辑回答\\n            \")])]]:_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.beginWriteAnswer}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"\\n          写回答\\n        \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadQAQComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n          \"+_vm._s(_vm.qaq.comment_count ? _vm.qaq.comment_count + ' 条评论' : '添加评论')+\"\\n        \")]),_c('v-share',{attrs:{\"url\":_vm.$alias.question(_vm.id),\"title\":_vm.qaq.title,\"desc\":_vm.qaq.intro,\"type\":\"button\"}}),_c('report-dialog',{attrs:{\"id\":_vm.id,\"type\":\"question\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\",\"icon\":\"el-icon-phone\"}},[_vm._v(\"举报\")])],1),(!_vm.collapsed)?_c('el-button',{staticClass:\"fr\",attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.collapsedQAQ}},[_c('i',{staticClass:\"el-icon-arrow-up\"}),_vm._v(\"\\n          收起\\n        \")]):_vm._e()],2),_c('v-dialog',{staticClass:\"comment-dialog\",attrs:{\"header\":false,\"footer\":false,\"fullscreen\":true},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticStyle:{\"max-width\":\"700px\",\"margin\":\"0 auto\"}},[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.qaq.user_id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"question\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}})],1)])],1),_c('div',{staticClass:\"question-aside\",attrs:{\"slot\":\"aside\"},slot:\"aside\"},[_c('div',{staticClass:\"meta-item\"},[_c('div',{staticClass:\"meta-text\"},[_vm._v(\"\\n          被浏览 \"+_vm._s(_vm.qaq.view_count)+\"\\n        \")])]),_c('div',{staticClass:\"meta-item\"},[_c('div',{staticClass:\"meta-text\"},[_vm._v(\"\\n          关注者 \"+_vm._s(_vm.followers.total)+\"\\n        \")]),(_vm.followers.total)?_c('ava-dialog',{attrs:{\"users\":_vm.followers.list,\"fetch\":_vm.fetchMoreFollowers,\"title\":(\"《\" + (_vm.followers.total) + \"》人关注了\"),\"loading\":_vm.loadingFollowers,\"no-more\":_vm.followers.noMore}}):_vm._e()],1)])]),_c('create-answer-form',{attrs:{\"title\":_vm.qaq.title,\"question-id\":_vm.id,\"answer-id\":_vm.qaq.my_answer ? _vm.qaq.my_answer.id : 0,\"published\":_vm.qaq.my_answer ? !!_vm.qaq.published_at : false},model:{value:(_vm.showCreateAnswerForm),callback:function ($$v) {_vm.showCreateAnswerForm=$$v},expression:\"showCreateAnswerForm\"}})],1):_vm._e()}\nvar QuestionPanel_staticRenderFns = []\nvar QuestionPanel_esExports = { render: QuestionPanel_render, staticRenderFns: QuestionPanel_staticRenderFns }\n/* harmony default export */ var question_QuestionPanel = (QuestionPanel_esExports);\n// CONCATENATED MODULE: ./src/components/question/QuestionPanel.vue\nfunction QuestionPanel_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(186),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar QuestionPanel_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar QuestionPanel___vue_template_functional__ = false\n/* styles */\nvar QuestionPanel___vue_styles__ = QuestionPanel_injectStyle\n/* scopeId */\nvar QuestionPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar QuestionPanel___vue_module_identifier__ = \"ca9fa844\"\nvar QuestionPanel_Component = QuestionPanel_normalizeComponent(\n  QuestionPanel,\n  question_QuestionPanel,\n  QuestionPanel___vue_template_functional__,\n  QuestionPanel___vue_styles__,\n  QuestionPanel___vue_scopeId__,\n  QuestionPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_QuestionPanel = __webpack_exports__[\"a\"] = (QuestionPanel_Component.exports);\n\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(187);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"8edfb252\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#question-panel .qaq-question .content .collapsed-content,#question-panel .qaq-question .content .text-area p{word-break:break-word!important;word-break:break-all}#question-panel{background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);padding:16px 0;margin-bottom:10px}#question-panel .qaq-question{margin-left:15px}#question-panel .qaq-question .qaq-tags .tag{display:inline-block;margin-right:10px;margin-bottom:10px}#question-panel .qaq-question .title h1{margin-top:12px;margin-bottom:4px;font-size:22px;font-weight:600;line-height:32px;color:#1a1a1a}#question-panel .qaq-question .content .collapsed-content{margin-bottom:1em;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p{margin:1em 0;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p:first-child{margin-top:0}#question-panel .qaq-question .content .image-package .image{margin:15px 0}#question-panel .qaq-question .panel:hover .report-btn{opacity:1}#question-panel .qaq-question .panel .el-button,#question-panel .qaq-question .panel .v-share{margin-right:16px;margin-left:0}#question-panel .qaq-question .panel .el-button--text,#question-panel .qaq-question .panel .share-btn{color:#6d757a!important}#question-panel .qaq-question .panel .v-share{display:inline-block}#question-panel .qaq-question .panel .report-btn{opacity:0}#question-panel .question-aside{margin-left:15px}#question-panel .question-aside .meta-item{margin-top:5px;margin-bottom:10px}#question-panel .question-aside .meta-item .meta-text{font-size:18px;color:#1a1a1a;font-weight:600;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(189);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"53912968\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#create-answer-form{height:calc(100vh - 155px)}#create-answer-form .qaq-title{margin-top:15px;margin-bottom:20px;font-size:22px;font-weight:600}#create-answer-form .json-editor-main .text-preview{padding-bottom:0}#create-answer-form .json-editor-main .image-preview .save-btn,#create-answer-form .json-editor-main .text-preview .footer{display:none}.qaq-editor-footer{position:fixed;left:0;bottom:0;width:100%;height:52px;border-top:1px solid #f6f9fa;padding-top:7px;text-align:right;z-index:1}.qaq-editor-footer .source-url{float:left;width:450px}.qaq-editor-footer .source-url input{border-top:none;border-right:none;border-left:none}.qaq-editor-footer button{margin-left:18px!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(282);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"8261ce3e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#answer-show{background-color:#f6f6f6}#answer-show .answer{position:relative;margin-left:15px}#answer-show .read-all-btn{width:100%;background-color:#fff;margin-bottom:10px;border:none;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);border-radius:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 391:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/question/QuestionPanel.vue + 5 modules\nvar QuestionPanel = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./src/components/flow/item/AnswerFlowItem.vue + 2 modules\nvar AnswerFlowItem = __webpack_require__(182);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/answer/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  name: \"AnswerShow\",\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"question/getAnswer\", {\n      ctx,\n      id: route.params.id\n    });\n  },\n\n  components: {\n    QuestionPanel: QuestionPanel[\"a\" /* default */],\n    AnswerFlowItem: AnswerFlowItem[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f0ee1f0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/answer/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"answer-show\"}},[_c('v-header',{attrs:{\"type\":\"pure\",\"margin-bottom\":\"0\"}}),_c('question-panel'),_c('v-layout',[_c('template',{slot:\"main\"},[(_vm.answer)?_c('div',{staticClass:\"answer\"},[_c('a',{attrs:{\"href\":_vm.$alias.question(_vm.qaq.id),\"target\":\"_blank\"}},[(_vm.qaq.answer_count > 1)?_c('el-button',{staticClass:\"read-all-btn\"},[_vm._v(\"查看全部 \"+_vm._s(_vm.qaq.answer_count)+\" 个回答\")]):_c('el-button',{staticClass:\"read-all-btn\"},[_vm._v(\"查看问题\")])],1),_c('answer-flow-item',{attrs:{\"item\":_vm.answer}}),_c('a',{attrs:{\"href\":_vm.$alias.question(_vm.qaq.id),\"target\":\"_blank\"}},[(_vm.qaq.answer_count > 1)?_c('el-button',{staticClass:\"read-all-btn\"},[_vm._v(\"查看全部 \"+_vm._s(_vm.qaq.answer_count)+\" 个回答\")]):_c('el-button',{staticClass:\"read-all-btn\"},[_vm._v(\"查看问题\")])],1)],1):_c('no-content',[(_vm.qaq.answer_count)?_c('a',{attrs:{\"href\":_vm.$alias.question(_vm.qaq.id)}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"这个答案在审核中或已被删除，查看其它答案\")])],1):_vm._e()])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var answer_show = (esExports);\n// CONCATENATED MODULE: ./src/views/answer/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(281),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6183ae9d\"\nvar Component = normalizeComponent(\n  show,\n  answer_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_answer_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "6.server-bundle.js": "exports.ids = [6];\nexports.modules = {\n\n/***/ 161:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageAlbumSelect.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageAlbumSelect = ({\n  name: \"ImageAlbumSelect\",\n  props: {\n    placeholder: {\n      type: String,\n      default: \"选择一个相册\"\n    },\n    value: {\n      type: [Number, String],\n      default: \"\"\n    },\n    clear: {\n      type: Boolean,\n      default: true\n    },\n    filter: {\n      type: Function,\n      default: undefined\n    },\n    append: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      selected: this.value,\n      loading: false\n    };\n  },\n\n  computed: {\n    albums() {\n      return this.$store.state.image.albums;\n    },\n\n    selectionAlbum() {\n      return this.filter ? this.filter(this.append.concat(this.albums)) : this.append.concat(this.albums);\n    }\n\n  },\n\n  mounted() {\n    if (!this.albums.length) {\n      this.getUserAlbum();\n    }\n\n    this.$watch(\"value\", val => {\n      this.selected = val;\n    });\n    this.$watch(\"selected\", val => {\n      this.$emit(\"input\", val);\n      this.$emit(\"success\", this.selectionAlbum.filter(_ => _.id === val)[0]);\n    });\n  },\n\n  methods: {\n    async getUserAlbum() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"image/userAlbum\", {\n          ctx: this\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22199e12\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageAlbumSelect.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":true,\"clearable\":_vm.clear,\"loading\":_vm.loading,\"placeholder\":_vm.placeholder},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.selectionAlbum),function(item){return _c('el-option',{key:item.id,staticClass:\"choice-album-item\",attrs:{\"label\":item.name,\"value\":item.id}},[_c('div',{staticClass:\"image-count meta\",domProps:{\"textContent\":_vm._s(item.image_count)}}),(item.is_creator)?_c('div',{staticClass:\"is-creator meta\"},[_vm._v(\"创\")]):_vm._e(),(item.is_cartoon)?_c('div',{staticClass:\"is-cartoon meta\"},[_vm._v(\"漫\")]):_vm._e(),_c('div',{staticClass:\"info\"},[_c('img',{attrs:{\"src\":_vm.$resize(item.poster, { width: 48 })}}),_c('span',{domProps:{\"textContent\":_vm._s(item.name)}})])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageAlbumSelect = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageAlbumSelect.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(170),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2e904126\"\nvar Component = normalizeComponent(\n  ImageAlbumSelect,\n  image_ImageAlbumSelect,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageAlbumSelect = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Footer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Footer = ({\n  name: \"VFooter\",\n\n  data() {\n    return {\n      toggleShareModal: false\n    };\n  },\n\n  computed: {\n    show() {\n      return [\"homepage\", \"invite-user\", \"question-show\"].indexOf(this.$route.name) === -1;\n    },\n\n    friends() {\n      return this.$store.state.pageData ? this.$store.state.pageData.friend_links : [];\n    }\n\n  },\n  methods: {\n    openShareModal() {\n      this.toggleShareModal = true;\n    },\n\n    handleCopySuccess() {\n      this.$toast.success(\"复制成功\");\n      this.toggleShareModal = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07df597c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Footer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('footer',{attrs:{\"id\":\"footer\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"cards\\\">\",\"</ul>\",[_vm._ssrNode(\"<li class=\\\"card-item\\\">\",\"</li>\",[_vm._ssrNode(\"<p>calibur - 天下漫友是一家</p><a href=\\\"/about/hello\\\" target=\\\"_blank\\\">功能简介</a><a href=\\\"javascript:;\\\">分享网站</a>\"),_c('v-dialog',{attrs:{\"custom-class\":_vm.$style.shareTipsModal,\"title\":\"感谢分享\"},model:{value:(_vm.toggleShareModal),callback:function ($$v) {_vm.toggleShareModal=$$v},expression:\"toggleShareModal\"}},[_c('div',{class:_vm.$style.tips},[_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              【calibur.tv】一个纯粹的二次元社区网站，致力于实现\\\"天下漫友是一家\\\"！\\n            \")]),_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！\\n            \")]),_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv\\n            \")])]),_c('div',{class:_vm.$style.footer,attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(\"【calibur.tv】一个纯粹的二次元社区网站，致力于实现'天下漫友是一家'！站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！快来加入我们吧~(^o^)/~ 网址：http://calibur.tv\"),expression:\"`【calibur.tv】一个纯粹的二次元社区网站，致力于实现'天下漫友是一家'！站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv`\"}],class:_vm.$style.copyShareBtn,attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"success\":_vm.handleCopySuccess}},[_vm._v(\"点击复制\")])],1)]),_vm._ssrNode(\"<div><a href=\\\"javascript:;\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/beianbgs.png', { width: 40 })))+\" class=\\\"icon\\\">\\n            沪ICP备17050785号-1\\n          </a></div><div><a href=\\\"http://www.shjbzx.cn/\\\" target=\\\"_blank\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/int-info.png', { width: 40 })))+\" class=\\\"icon\\\">\\n            上海互联网举报中心\\n          </a></div>\")],2),_vm._ssrNode(\"<li class=\\\"card-item\\\"><p>友情链接</p>\"+(_vm._ssrList((_vm.friends),function(item,index){return (\"<a\"+(_vm._ssrAttr(\"href\",item.link))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</a>\")}))+\"</li>\"),_vm._ssrNode(\"<li class=\\\"card-item\\\">\",\"</li>\",[_vm._ssrNode(\"<a href=\\\"https://www.calibur.tv/user/yu-yuan-lin-yin-7/bangumi\\\" target=\\\"_blank\\\" style=\\\"margin:0\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":\"https://image.calibur.tv/owner/logo/animate.gif\",\"width\":\"250\",\"height\":\"100\"}})],1)])],2)])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_Footer = (esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Footer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(163),i.__inject__&&i.__inject__(ssrContext),i)\n;(i=this[\"$style\"] = __webpack_require__(165),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27a640ac\"\nvar Component = normalizeComponent(\n  Footer,\n  layouts_Footer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Footer = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(164);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"583dd14c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#footer{width:100%;padding:40px 0;margin-top:40px;position:relative;z-index:2;background-color:#f6f9fa}#footer .cards{margin-left:20px}#footer .cards .card-item{display:block;min-height:100px;font-size:12px;line-height:1;padding-right:40px;float:left}#footer .cards .card-item:not(:first-child){border-left:1px solid #e5e9ef;padding-left:39px}#footer .cards .card-item p{margin-bottom:16px;font-size:14px;color:#6d757a}#footer .cards .card-item a{margin-bottom:16px;margin-right:10px;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;color:#99a2aa}#footer .cards .card-item a:hover{color:#00a1d6}#footer .cards .card-item div{margin-top:15px}#footer .cards .card-item .icon{width:16px;vertical-align:sub}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(166);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"65c6ce78\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".share-tips-modal-1J_1{text-align:left}.share-tips-modal-1J_1 .tips-tw_1 .p-2L_1{margin:25px 10px 0}.share-tips-modal-1J_1 .tips-tw_1 .footer-2e_1{padding:20px}.share-tips-modal-1J_1 .tips-tw_1 .footer-2e_1 .copy-share-btn-WA_1{float:right;margin-left:10px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"share-tips-modal\": \"share-tips-modal-1J_1\",\n\t\"shareTipsModal\": \"share-tips-modal-1J_1\",\n\t\"tips\": \"tips-tw_1\",\n\t\"p\": \"p-2L_1\",\n\t\"footer\": \"footer-2e_1\",\n\t\"copy-share-btn\": \"copy-share-btn-WA_1\",\n\t\"copyShareBtn\": \"copy-share-btn-WA_1\"\n};\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/components/image/ImageAlbumSelect.vue + 2 modules\nvar ImageAlbumSelect = __webpack_require__(161);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/UploadImageForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var UploadImageForm = ({\n  name: \"UploadImageForm\",\n  components: {\n    ImageAlbumSelect: ImageAlbumSelect[\"a\" /* default */]\n  },\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    appendAlbums: {\n      type: Array,\n      default: () => []\n    },\n    selectedBangumiId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    selectedAlbumId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    isCartoon: {\n      type: Boolean,\n      default: false\n    },\n    exceed: {\n      type: Number,\n      default: 7\n    }\n  },\n\n  data() {\n    const validateImage = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请选择要上传的图片\"));\n      }\n\n      callback();\n    };\n\n    const validateImages = (rule, value, callback) => {\n      if (!value.length) {\n        return callback(new Error(\"至少选择一张图片\"));\n      }\n\n      callback();\n    };\n\n    return {\n      submitting: false,\n      fetchingAlbum: false,\n      pendingUpload: 0,\n      form: {\n        name: \"\",\n        album_id: this.selectedAlbumId,\n        bangumi_id: this.bangumiId,\n        is_cartoon: false,\n        is_creator: false,\n        image: null,\n        images: []\n      },\n      rule: {\n        image: [{\n          validator: validateImage,\n          trigger: \"submit\"\n        }],\n        images: [{\n          validator: validateImages,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.user.id;\n    }\n\n  },\n  methods: {\n    beforeSingleImageUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/image`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleSingleImageUploadSuccess(res) {\n      this.form.image = res.data;\n      this.$toast.success(\"封面上传成功\");\n    },\n\n    handleSingleImageRemove() {\n      this.form.image = null;\n    },\n\n    submitSingleImage() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.form.name.length > 30) {\n            this.$toast.error(\"名字最长 30 个字\");\n            return;\n          }\n\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          this.$captcha({\n            success: async ({\n              data\n            }) => {\n              const api = new imageApi[\"a\" /* default */](this);\n              api.uploadSingleImage(Object.assign({\n                geetest: data\n              }, this.form, this.form.image)).then(result => {\n                this.form.name = \"\";\n                this.form.is_creator = false;\n                this.form.image = null;\n                this.$refs.singleUpload.clearFiles();\n                this.submitting = false;\n                this.$toast.success(result.message).then(() => {\n                  window.location = this.$alias.image(result.data);\n                });\n              }).catch(err => {\n                this.$toast.error(err);\n                this.submitting = false;\n              });\n            },\n            error: e => {\n              this.submitting = false;\n              this.$toast.error(e);\n            },\n            close: () => {\n              this.submitting = false;\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    handleManyImageRemove(file) {\n      if (this.submitting) {\n        return;\n      }\n\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images.splice(index, 1);\n        }\n      });\n    },\n\n    beforeManyImageUpload(file) {\n      this.form.images.push({\n        raw: file,\n        name: file.name,\n        size: file.size,\n        uid: file.uid,\n        percentage: 0,\n        status: \"uploading\"\n      });\n      this.uploadConfig.max = 10;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/album/${this.form.album_id}/image`;\n      this.pendingUpload++;\n      return this.beforeImageUpload(file);\n    },\n\n    handleManyImageUploadSuccess(res, file) {\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images[index] = Object.assign(item, {\n            data: res.data,\n            width: res.data.width,\n            height: res.data.height,\n            size: res.data.size,\n            type: res.data.type,\n            url: this.$resize(res.data.url, {\n              width: 160\n            }),\n            status: \"success\"\n          });\n        }\n      });\n      this.pendingUpload--;\n    },\n\n    handleManyUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images.splice(index, 1);\n        }\n      });\n      this.pendingUpload--;\n    },\n\n    handleManyExceed() {\n      this.$toast.error(`一次最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    submitManyImage() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new imageApi[\"a\" /* default */](this);\n          const albumId = this.form.album_id;\n          api.uploadManyImage({\n            album_id: albumId,\n            images: this.form.images.map(_ => {\n              return {\n                url: _.url.split(\"calibur.tv/\").pop().split(\"?\")[0],\n                size: _.size,\n                type: _.type,\n                width: _.width,\n                height: _.height\n              };\n            })\n          }).then(() => {\n            this.form.album_id = \"\";\n            this.form.images = [];\n            this.$refs.manyUpload.clearFiles();\n            this.$toast.success(\"上传成功\");\n            this.submitting = false;\n\n            if (this.$route.name === \"image-show\" && !(this.$route.params.id - albumId)) {\n              window.location.reload();\n            } else {\n              window.location = this.$alias.image(albumId);\n            }\n          }).catch(err => {\n            this.$toast.error(err);\n            this.submitting = false;\n\n            if (/审核/.test(err)) {\n              setTimeout(() => {\n                window.location.reload();\n              }, 1000);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a05a4f0\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/UploadImageForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[(!_vm.isCartoon)?[_c('el-alert',{staticClass:\"tips\",attrs:{\"type\":\"info\",\"title\":\"\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"如果想要批量上传图片，就选择一个相册（需要先创建）\")]),_c('p',[_vm._v(\"如果想上传单张精品美图，就选择一个番剧\")])]),(!_vm.form.bangumi_id)?_c('el-form-item',{attrs:{\"label\":\"相册\",\"prop\":\"album_id\"}},[_c('image-album-select',{attrs:{\"append\":_vm.appendAlbums,\"placeholder\":\"【批量上传】选择要上传图片的相册\"},model:{value:(_vm.form.album_id),callback:function ($$v) {_vm.$set(_vm.form, \"album_id\", $$v)},expression:\"form.album_id\"}})],1):_vm._e(),(!_vm.form.album_id)?_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumi_id\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"placeholder\":\"【单个上传】选择要投稿的番剧\"},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1):_vm._e()]:_vm._e(),(_vm.form.album_id || _vm.form.bangumi_id)?[(_vm.form.album_id)?[_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"images\"}},[_c('el-upload',{ref:\"manyUpload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleManyUploadError,\"on-success\":_vm.handleManyImageUploadSuccess,\"before-upload\":_vm.beforeManyImageUpload,\"on-remove\":_vm.handleManyImageRemove,\"file-list\":_vm.form.images,\"on-exceed\":_vm.handleManyExceed,\"limit\":_vm.exceed,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"multiple\":\"\",\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submitManyImage}},[_vm._v(\"\\n          确认上传\\n        \")])],1)]:[_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"placeholder\":\"给图片起个名字\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-row',[_c('el-switch',{model:{value:(_vm.form.is_creator),callback:function ($$v) {_vm.$set(_vm.form, \"is_creator\", $$v)},expression:\"form.is_creator\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"如果这幅画是你的作品，请勾选它！\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),(_vm.form.image)?_c('div',{staticClass:\"preview-poster\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.form.image.url, { width: 400, mode: 2 })) + \")\") })}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"image\"}},[_c('el-upload',{ref:\"singleUpload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.handleSingleImageUploadSuccess,\"before-upload\":_vm.beforeSingleImageUpload,\"on-remove\":_vm.handleSingleImageRemove,\"accept\":_vm.imageUploadAccept,\"action\":_vm.imageUploadAction}},[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"small\",\"round\":\"\"}},[_vm._v(\"选择图片\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submitSingleImage}},[_vm._v(\"\\n          确认上传\\n        \")])],1)]]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_UploadImageForm = (esExports);\n// CONCATENATED MODULE: ./src/components/image/UploadImageForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(168),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a05a4f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0b3b8dd1\"\nvar Component = normalizeComponent(\n  UploadImageForm,\n  image_UploadImageForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_UploadImageForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(169);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"767d67b5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tips[data-v-4a05a4f0]{margin-bottom:30px}.tips p[data-v-4a05a4f0]{line-height:20px;margin-top:3px;margin-left:5px}.el-icon-question[data-v-4a05a4f0]{margin-left:10px;cursor:pointer;font-size:20px;vertical-align:middle;color:#ccd0d7}.preview-poster[data-v-4a05a4f0]{height:100px;width:500px;position:absolute;right:0;top:0;background-position:100%;background-size:contain;background-repeat:no-repeat}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(171);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1f9569c0\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".choice-album-item .meta{float:right;height:24px;margin-top:5px;width:24px;line-height:24px;font-size:12px;border-radius:3px;text-align:center;color:#fff;margin-left:10px}.choice-album-item .image-count{background-color:#ccd0d7}.choice-album-item .is-creator{background-color:gold}.choice-album-item .is-cartoon{background-color:#f25d8e}.choice-album-item .info{overflow:hidden}.choice-album-item .info img{width:24px;height:24px;border-radius:3px;margin-right:5px;margin-top:-2px;vertical-align:middle}.choice-album-item .info span{font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/CreateAlbumForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAlbumForm = ({\n  name: \"CreateAlbumForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    bangumiId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    isCartoon: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填名字\"));\n      }\n\n      if (value.length > 30) {\n        return callback(new Error(\"名字最长 30 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateBangumi = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请选择一个相关的番剧\"));\n      }\n\n      callback();\n    };\n\n    const validatePart = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"漫画的集数是必填的\"));\n      }\n\n      callback();\n    };\n\n    const validatePoster = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请给相册选择一个封面\"));\n      }\n\n      callback();\n    };\n\n    return {\n      submitting: false,\n      form: {\n        name: \"\",\n        bangumi_id: this.bangumiId,\n        is_cartoon: this.isCartoon,\n        is_creator: false,\n        part: 0,\n        poster: null\n      },\n      rule: {\n        name: [{\n          validator: validateName,\n          trigger: \"submit\"\n        }],\n        bangumi_id: [{\n          validator: validateBangumi,\n          trigger: \"submit\"\n        }],\n        part: [{\n          validator: validatePart,\n          trigger: \"submit\"\n        }],\n        poster: [{\n          validator: validatePoster,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.user.id;\n    }\n\n  },\n  methods: {\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new imageApi[\"a\" /* default */](this);\n          api.createAlbum(Object.assign({}, this.form, this.form.poster)).then(result => {\n            this.$refs.form.resetFields();\n            this.$refs.upload.clearFiles();\n            this.$toast.success(result.message);\n            this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n            this.submitting = false;\n            this.$emit(\"success\", result.data);\n          }).catch(err => {\n            this.$toast.error(err);\n            this.submitting = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    beforePosterUpload(file) {\n      this.uploadConfig.max = 10;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/album`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAlbumUploadSuccess(res) {\n      this.form.poster = res.data;\n      this.$toast.success(\"封面上传成功\");\n    },\n\n    handlePosterRemove() {\n      this.form.poster = null;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f06c74fe\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/CreateAlbumForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"名字\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.isCartoon ? '填写这一话的名字' : '给相册起一个名字'},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),(_vm.isCartoon)?_c('el-form-item',{attrs:{\"label\":\"集数\",\"prop\":\"part\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.form.part),callback:function ($$v) {_vm.$set(_vm.form, \"part\", $$v)},expression:\"form.part\"}})],1):_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumi_id\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"placeholder\":\"请选择要投稿的番剧\"},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-row',[_c('el-switch',{model:{value:(_vm.form.is_creator),callback:function ($$v) {_vm.$set(_vm.form, \"is_creator\", $$v)},expression:\"form.is_creator\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"只有相册内容全是原创时才应该勾选\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),(_vm.form.poster)?_c('div',{staticClass:\"preview-poster\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.form.poster.url, { width: 400, mode: 2 })) + \")\") })}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"label\":\"封面\",\"prop\":\"poster\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.handleAlbumUploadSuccess,\"before-upload\":_vm.beforePosterUpload,\"on-remove\":_vm.handlePosterRemove,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"small\",\"round\":\"\"}},[_vm._v(\"选择封面\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_CreateAlbumForm = (esExports);\n// CONCATENATED MODULE: ./src/components/image/CreateAlbumForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(173),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f06c74fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"382e6bca\"\nvar Component = normalizeComponent(\n  CreateAlbumForm,\n  image_CreateAlbumForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_CreateAlbumForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(174);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0746411e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".preview-poster[data-v-f06c74fe]{height:100px;width:500px;position:absolute;right:0;top:0;background-position:100%;background-size:contain;background-repeat:no-repeat}.el-icon-question[data-v-f06c74fe]{margin-left:10px;cursor:pointer;font-size:20px;vertical-align:middle;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(191);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"193ce337\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#layout-default{min-height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}#layout-default>.main-view{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(193);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"629182c4\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#music{width:563px;height:115px;position:fixed;bottom:30px;background-color:#fff;-webkit-box-shadow:3px 1px 6px rgba(0,0,0,.25);box-shadow:3px 1px 6px rgba(0,0,0,.25);z-index:10;-webkit-transition:left .6s ease;-o-transition:left .6s ease;transition:left .6s ease}#music,#music .toggle{border-radius:0 4px 4px 0}#music .toggle{width:22px;height:100%;background-color:#00bfef;float:right;color:#fff}#music .M-main{padding:10px;width:541px;height:100%;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;overflow:hidden}#music .M-warp{height:100%}#music .M-warp .M-face{width:95px;height:95px;margin-right:10px;float:left}#music .M-warp .M-control{height:100%;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}#music .M-warp .M-control span{color:#99a2aa;font-size:12px}#music .M-warp .M-control .header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px}#music .M-warp .M-control .header .left{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;max-width:380px}#music .M-warp .M-control .header .menu-btn{width:20px;height:20px;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;color:#6d757a}#music .M-warp .M-control .header .menu-click{-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}#music .M-warp .M-control .center{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex}#music .M-warp .M-control .center .M-model{margin-right:20px}#music .M-warp .M-control .center .M-play-control{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-pack:distribute;justify-content:space-around;margin-right:20px}#music .M-warp .M-control .center .M-play-control,#music .M-warp .M-control .center .M-voice-control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#music .M-warp .M-control .center .M-voice-control .M-all-voice{position:relative;display:inline-block;width:70px;height:9px;vertical-align:middle;margin-left:5px;padding-right:5px}#music .M-warp .M-control .center .M-voice-control .M-cur-voice{position:absolute;left:0;top:0;width:35px;height:3px;background-color:#00bfef}#music .M-warp .M-control .footer{text-align:right}#music .M-allBar{display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;z-index:2}#music .M-allBar .vue-pwa-range-runway{background-color:transparent}#music .M-allBar .vue-pwa-range-progress{-webkit-transition:.4s;-o-transition:.4s;transition:.4s}#music .M-menu{position:absolute;z-index:1;left:0;bottom:100%;width:100%;height:0;background-color:transparent;-webkit-transition:height .8s;-o-transition:height .8s;transition:height .8s;overflow:hidden;padding-right:22px}#music .M-menu .M-menu-wrap{position:relative;width:100%;height:100%}#music .M-menu .header{position:absolute;left:0;top:0;width:100%;height:33px;background-color:#00bfef;border-radius:0 5px 0 0;-webkit-box-shadow:1px 0 1px rgba(0,0,0,.1);box-shadow:1px 0 1px rgba(0,0,0,.1);z-index:1}#music .M-menu .header .list{color:#fff;font-size:14px;font-weight:700;float:left;margin-left:10px;margin-top:8px}#music .M-menu .header .close{display:block;width:20px;height:20px;font-size:20px;line-height:20px;text-align:center;border-radius:50%;background-color:#fff;color:#00bfef;font-family:Microsoft YaHei,Arial,Helvetica,sans-serif;float:right;margin-right:10px;margin-top:6px}#music .M-menu .body{overflow-y:auto;background-color:#fff;-webkit-box-shadow:1px 0 1px rgba(0,0,0,.1);box-shadow:1px 0 1px rgba(0,0,0,.1);height:100%;padding-top:33px}#music .M-menu .body .item,#music .M-menu .body .title{padding:5px 10px}#music .M-menu .body .title{height:30px;border-bottom:1px solid #edece9;position:relative;font-size:14px;color:#333}#music .M-menu .body .item{color:#99a2aa;background-color:#fff;font-size:13px;height:30px;line-height:20px}#music .M-menu .body .item:hover{background-color:#edece9;color:#6d757a}#music .M-menu .body .item:hover .hover{display:block}#music .M-menu .body .item .hover{display:none;position:absolute;right:20px;top:0;height:20px}#music .M-menu .body .item .hover .iconfont{color:#6d757a}#music .M-menu .body .item .hover .play{margin-right:10px}#music .M-menu .body .item .item-left{position:relative;overflow:hidden}#music .M-menu .body .item .item-left .icon{display:block;width:14px;height:14px;background-repeat:no-repeat;background-position:50%;float:left;margin-right:8px}#music .M-menu .body .item .item-left .icon-pause{background-image:url(data:image/gif;base64,R0lGODlhDgAOAJEAAAAAAP///0up5v///yH5BAEAAAMALAAAAAAOAA4AAAIenI+pqyKMHDySybrusw8PrH2dM4omWYbomZIsq7YFADs=)}#music .M-menu .body .item .item-left .icon-play{background-image:url(data:image/gif;base64,R0lGODlhDgAOAIABAEup5v///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkEzQUQ5MjJEQjlBMTFFMThEMDRBNjJDNENEOTY3NjYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkEzQUQ5MjFEQjlBMTFFMThEMDRBNjJDNENEOTY3NjYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmRpZDozMjFGRTgzMjhCREJFMTExQkI4Njk1NTQ5Q0Y0QUZDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMjFGRTgzMjhCREJFMTExQkI4Njk1NTQ5Q0Y0QUZDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkoAAEALAAAAAAOAA4AAAIejI+pqwCMHDySybrusw8HrH2dM4omWYbomZIsq7YFACH5BAkoAAEALAAAAAAOAA4AAAIejI+py+0IwIqHKhsoztLo7oEfJEpjdJpqynHs96oFACH5BAUoAAEALAAAAAAOAA4AAAIdjI+py+0PFQBwLmtwploHC07c+I1hiYrkqaYrUAAAOw==)}#music .M-menu .body .item .item-right{width:120px;float:right}#music .menu-show{height:500px}#music .lg-btn{width:40px;height:40px;font-size:40px;line-height:40px}#music .sm-btn{width:20px;height:20px;font-size:20px;line-height:20px}.M-dot{margin:0 5px;font-size:12px}.M-dot:after{content:\\\"\\\\2022\\\";color:#99a2aa}.M-open{left:0}.M-close{left:-541px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(195);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"e19cee98\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vue-pwa-range-container{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.vue-pwa-range-container,.vue-pwa-range-container>*{display:-webkit-box;display:-ms-flexbox;display:flex}.vue-pwa-range-container .vue-pwa-range{overflow:hidden;border-radius:4px;position:relative;cursor:pointer;-webkit-box-flex:1;-ms-flex:1;flex:1}.vue-pwa-range-container .vue-pwa-range-runway{position:absolute;left:0;right:0;bottom:0;top:0;background-color:#e5e9ef}.vue-pwa-range-container .vue-pwa-range-progress{position:absolute;left:0;display:block;background-color:#00a1d6}.vue-pwa-range-container .vue-pwa-range-loading{position:absolute;display:block;background-color:#00b5e5;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:0;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;border-radius:4px}.vue-pwa-range-container .vue-pwa-range-thumb{background-color:#fff;position:absolute;left:0;top:0;border-radius:50%;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.4);box-shadow:0 1px 3px rgba(0,0,0,.4);cursor:pointer}.vue-pwa-range-container .vue-pwa-range-disabled{opacity:.5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(197);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5253d538\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#creator-button-wrap{position:fixed;width:100%;height:100%;left:0;top:0;pointer-events:none;z-index:12}#creator-button-wrap .mint-palette-button{display:inline-block;border-radius:50%;text-align:center;-webkit-transition:-webkit-transform .1s ease-in-out;transition:-webkit-transform .1s ease-in-out;-o-transition:transform .1s ease-in-out;transition:transform .1s ease-in-out;transition:transform .1s ease-in-out,-webkit-transform .1s ease-in-out;width:60px;height:60px;line-height:60px;color:#fff;position:absolute;bottom:205px;right:60px;pointer-events:auto}#creator-button-wrap .mint-main-button{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;font-size:30px;color:#fff;background-color:#ccd0d7}#creator-button-wrap .mint-main-button:hover{background-color:#b8c0cc}#creator-button-wrap .mint-palette-button-active{-webkit-animation:mint-zoom .5s ease-in-out;animation:mint-zoom .5s ease-in-out}#creator-button-wrap .mint-sub-button-container>*{position:absolute;top:15px;left:15px;width:25px;height:25px;-webkit-transition:-webkit-transform .3s ease-in-out;transition:-webkit-transform .3s ease-in-out;-o-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;transition:transform .3s ease-in-out,-webkit-transform .3s ease-in-out}@-webkit-keyframes mint-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);transform:scale(1.1)}30%{-webkit-transform:scale(.9);transform:scale(.9)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.95);transform:scale(.95)}90%{-webkit-transform:scale(1.01);transform:scale(1.01)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes mint-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}10%{-webkit-transform:scale(1.1);transform:scale(1.1)}30%{-webkit-transform:scale(.9);transform:scale(.9)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.95);transform:scale(.95)}90%{-webkit-transform:scale(1.01);transform:scale(1.01)}to{-webkit-transform:scale(1);transform:scale(1)}}#creator-button-wrap .creator-btn{width:40px;height:40px;border-radius:50%;background-color:#00b5e5;color:#fff;line-height:40px;text-align:center;pointer-events:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(199);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c9f96540\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#side-tools{position:fixed;width:100%;height:100%;left:0;top:0;pointer-events:none;z-index:12}#side-tools .creator-button-box{height:100%;max-width:1400px;position:relative;margin:0 auto;pointer-events:none}#side-tools .tool-btn{background-color:#ccd0d7;width:60px;height:60px;margin-bottom:5px;border-radius:4px;font-size:30px;text-align:center;line-height:60px;color:#fff;-webkit-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s;pointer-events:auto;position:absolute;right:60px}#side-tools .tool-btn:hover{background-color:#b8c0cc}#side-tools .top-btn{bottom:70px}#side-tools .feedback-btn{bottom:135px}#side-tools .creator-btn.icon-tupian{background-color:#ec414d}#side-tools .question-btn{background-color:#0084ff!important}#side-tools .score-btn{background-color:#30a080!important}#side-tools .score-btn a{width:100%;height:100%;display:block}#side-tools .creator-btn.icon-fankui{background-color:RGB(60,134,247)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(201);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5e1bf04c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-post-form .el-upload--picture-card,.create-post-form .el-upload-list__item{width:72px!important;height:72px!important;line-height:80px!important}.create-post-form .el-upload--picture-card,.create-post-form .el-upload-list{float:left}.create-post-form .el-icon-upload-success{position:absolute;top:0;left:15px}.create-post-form .el-icon-question{margin-left:10px;cursor:pointer;font-size:20px;vertical-align:middle;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(203);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4d686c13\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#create-question-form .el-upload--picture-card,#create-question-form .el-upload-list__item{width:72px!important;height:72px!important;line-height:80px!important}#create-question-form .el-upload--picture-card,#create-question-form .el-upload-list{float:left}#create-question-form .el-icon-upload-success{position:absolute;top:0;left:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/layouts/Footer.vue + 2 modules\nvar Footer = __webpack_require__(162);\n\n// CONCATENATED MODULE: ./src/assets/js/draggable.js\nlet isDragging = false;\n/* harmony default export */ var draggable = (function (element, options) {\n  const moveFn = function (event) {\n    if (options.drag) {\n      options.drag(event);\n    }\n  };\n\n  const endFn = function (event) {\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", endFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n\n    if (options.end) {\n      options.end(event);\n    }\n  };\n\n  element.addEventListener(\"mousedown\", event => {\n    if (isDragging) return;\n    event.preventDefault();\n\n    document.onselectstart = function () {\n      return false;\n    };\n\n    document.ondragstart = function () {\n      return false;\n    };\n\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", endFn);\n    isDragging = true;\n\n    if (options.start) {\n      options.start(event);\n    }\n  });\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Range.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Range = ({\n  name: \"VRange\",\n  props: {\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    value: {\n      type: Number,\n      default: 0\n    },\n    loading: {\n      type: Number,\n      default: 0\n    },\n    barsize: {\n      type: Number,\n      default: 6\n    },\n    tailsize: {\n      type: Number,\n      default: 14\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      curRange: this.value,\n      dragState: null,\n      offset: 0\n    };\n  },\n\n  computed: {\n    containerStyle() {\n      let style = {};\n      let size = this.tailsize ? (this.tailsize - this.barsize) / 2 + \"px\" : \"0px\";\n\n      if (this.vertical) {\n        style.paddingLeft = size;\n        style.paddingRight = size;\n        style.height = \"100%\";\n        style.width = (this.tailsize || this.barsize) + \"px\";\n      } else {\n        style.paddingTop = size;\n        style.paddingBottom = size;\n        style.width = \"100%\";\n        style.height = (this.tailsize || this.barsize) + \"px\";\n      }\n\n      return style;\n    },\n\n    progressStyle() {\n      this.getOffset();\n      let style = {};\n      let offset = this.progress();\n\n      if (this.vertical) {\n        style.width = this.barsize + \"px\";\n        style.height = offset + \"%\";\n        style.top = 100 - offset + \"%\";\n      } else {\n        style.width = offset + \"%\";\n        style.height = this.barsize + \"px\";\n        style.left = 0;\n      }\n\n      return style;\n    },\n\n    loadingStyle() {\n      this.getOffset();\n\n      if (this.vertical) {\n        return {\n          height: this.loading / this.max * 100 + \"%\",\n          width: this.barsize + \"px\"\n        };\n      } else {\n        return {\n          width: this.loading / this.max * 100 + \"%\",\n          height: this.barsize + \"px\"\n        };\n      }\n    },\n\n    thumbStyle() {\n      if (!this.tailsize) {\n        return {};\n      }\n\n      this.getOffset();\n      let style = {};\n      style.width = this.tailsize + \"px\";\n      style.height = this.tailsize + \"px\";\n\n      if (this.vertical) {\n        style.top = 100 - this.progress() - this.offset + \"%\";\n      } else {\n        style.left = this.progress() - this.offset + \"%\";\n      }\n\n      return style;\n    }\n\n  },\n  watch: {\n    value(val) {\n      this.curRange = val;\n    },\n\n    curRange(val) {\n      this.$emit(\"input\", val);\n    }\n\n  },\n\n  mounted() {\n    this.getOffset();\n    draggable(this.$refs.thumb, {\n      start: () => {\n        if (this.disabled) return;\n        this.getThumbPosition();\n      },\n      drag: event => {\n        this.handleClick(event);\n      },\n      end: () => {\n        if (this.disabled) return;\n        this.dragState = null;\n      }\n    });\n    window.addEventListener(\"resize\", () => {\n      this.getOffset();\n    });\n  },\n\n  methods: {\n    progress() {\n      const value = this.value;\n      if (typeof value === \"undefined\" || value === null || value - this.min === 0) return 0;\n      return Math.floor((value - this.min) / (this.max - this.min) * 100);\n    },\n\n    getOffset() {\n      if (this.$refs.content) {\n        this.offset = this.tailsize / (this.vertical ? this.$refs.content.offsetHeight : this.$refs.content.offsetWidth) * 50;\n      }\n    },\n\n    handleClick(event) {\n      if (this.disabled) return;\n      this.getOffset();\n      this.getPosition(event);\n    },\n\n    getPosition(event) {\n      const contentBox = this.$refs.content.getBoundingClientRect();\n      let delta, newPosition, baseOffset, maxOffset;\n\n      if (!this.dragState) {\n        this.getThumbPosition();\n      }\n\n      if (this.vertical) {\n        baseOffset = this.dragState.y;\n        maxOffset = contentBox.height;\n        delta = event.pageY - contentBox.top - baseOffset - window.scrollY;\n      } else {\n        baseOffset = this.dragState.x;\n        maxOffset = contentBox.width;\n        delta = event.pageX - contentBox.left - baseOffset - window.scrollX;\n      }\n\n      if (this.step) {\n        const stepCount = Math.ceil((this.max - this.min) / this.step);\n        newPosition = baseOffset + delta - (baseOffset + delta) % (maxOffset / stepCount);\n      } else {\n        newPosition = baseOffset + delta;\n      }\n\n      let newProgress = newPosition / maxOffset;\n\n      if (newProgress < 0) {\n        newProgress = 0;\n      } else if (newProgress > 1) {\n        newProgress = 1;\n      }\n\n      if (this.vertical) {\n        newProgress = 1 - newProgress;\n      }\n\n      const result = Math.round(this.min + newProgress * (this.max - this.min));\n      this.$emit(\"rangeChangeEvent\", result);\n      this.curRange = result;\n    },\n\n    getThumbPosition() {\n      const contentBox = this.$refs.content.getBoundingClientRect();\n      const thumbBox = this.$refs.thumb.getBoundingClientRect();\n      this.dragState = {\n        x: thumbBox.left - contentBox.left,\n        y: thumbBox.top - contentBox.top\n      };\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c57320b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Range.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-pwa-range-container\",class:{ 'vue-pwa-range-disabled': _vm.disabled },style:(_vm.containerStyle),on:{\"touchmove\":function($event){$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();}}},[_vm._ssrNode(\"<div class=\\\"vue-pwa-range\\\"><div class=\\\"vue-pwa-range-runway\\\"></div>\"+((_vm.loading)?(\"<div class=\\\"vue-pwa-range-loading\\\"\"+(_vm._ssrStyle(null,_vm.loadingStyle, null))+\"></div>\"):\"<!---->\")+\"<div class=\\\"vue-pwa-range-progress\\\"\"+(_vm._ssrStyle(null,_vm.progressStyle, null))+\"></div></div><div class=\\\"vue-pwa-range-thumb\\\"\"+(_vm._ssrStyle(null,_vm.thumbStyle, null))+\"></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_Range = (esExports);\n// CONCATENATED MODULE: ./src/components/common/Range.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(194),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"98e1583c\"\nvar Component = normalizeComponent(\n  Range,\n  common_Range,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Range = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Music.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Music = ({\n  components: {\n    vRange: components_common_Range\n  },\n\n  data() {\n    return {\n      source: [{\n        id: 1,\n        src: \"https://image.calibur.tv/owner/music/1.mp3\",\n        name: \"Life Is Like A Boat\",\n        player: \"Rie Fu\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=4251145607,2531835868&fm=85&s=A8036E93E24A56EE1AE5A153030010F3\"\n      }, {\n        id: 2,\n        src: \"https://image.calibur.tv/owner/music/2.mp3\",\n        name: \"だんご大家族\",\n        player: \"茶太\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2980366584,2187856484&fm=171&s=15982F77831E40694CD1DC7E03001039&w=121&h=91&img.JPEG&bpow=448&bpoh=252\"\n      }, {\n        id: 3,\n        src: \"https://image.calibur.tv/owner/music/3.mp3\",\n        name: \"Memories\",\n        player: \"大槻マキ\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3414694364,2917711924&fm=85&s=5402FABE5E1261F5DA2E41640300F061\"\n      }, {\n        id: 4,\n        src: \"https://image.calibur.tv/owner/music/4.mp3\",\n        name: \"残酷な天使のテーゼ\",\n        player: \"高橋洋子\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=2570708825,3778744992&fm=58&bpow=932&bpoh=1067\"\n      }, {\n        id: 5,\n        src: \"https://image.calibur.tv/owner/music/5.mp3\",\n        name: \"Theme of ONE PUNCH MAN\",\n        player: \"宮崎誠\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/73x1bjeh1BF3odCf/it/u=3502363312,3220031789&fm=85&s=15C3FDA65EF29DF51C3CF938030010C3\"\n      }, {\n        id: 6,\n        src: \"https://image.calibur.tv/owner/music/6.mp3\",\n        name: \"Butter-Fly\",\n        player: \"和田光司\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3750807320,2770026803&fm=58\"\n      }, {\n        id: 7,\n        src: \"https://image.calibur.tv/owner/music/7.mp3\",\n        name: \"時代を越える想い\",\n        player: \"和田薫\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=3085520176,2847306273&fm=58&bpow=644&bpoh=768\"\n      }, {\n        id: 8,\n        src: \"https://image.calibur.tv/owner/music/8.mp3\",\n        name: \"Continued Story\",\n        player: \"黒石ひとみ\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3073230744,4164198060&fm=58\"\n      }, {\n        id: 9,\n        src: \"https://image.calibur.tv/owner/music/9.mp3\",\n        name: \"あなたがいた森\",\n        player: \"樹海\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=2475402386,230787783&fm=58\"\n      }, {\n        id: 10,\n        src: \"https://image.calibur.tv/owner/music/10.mp3\",\n        name: \"翼をください \",\n        player: \"林原めぐみ\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1225371658,1348139348&fm=172&app=19&f=JPEG?w=121&h=91&s=DB9503C64E4636515857D7B20300D00F&bpow=400&bpoh=250\"\n      }, {\n        id: 11,\n        src: \"https://image.calibur.tv/owner/music/11.mp3\",\n        name: \"secret base ~君がくれたもの~ \",\n        player: \"茅野愛衣\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3257225204,3825220231&fm=58\"\n      }, {\n        id: 12,\n        src: \"https://image.calibur.tv/owner/music/12.mp3\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=4023072402,3220604678&fm=58&bpow=1280&bpoh=1254\",\n        player: \"平野绫\",\n        name: \"God knows...\"\n      }, {\n        id: 13,\n        src: \"https://image.calibur.tv/owner/music/13.mp3\",\n        name: \"Gamble Rumble\",\n        player: \"日本群星\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=898061995,2496832578&fm=58\"\n      }, {\n        id: 14,\n        src: \"https://image.calibur.tv/owner/music/14.mp3\",\n        name: \"遠い空へ\",\n        player: \"三輪学\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=840459020,736145682&fm=58\"\n      }, {\n        id: 15,\n        src: \"https://image.calibur.tv/owner/music/15.mp3\",\n        name: \"雪どけのあの川の流れのように\",\n        player: \"三枝夕夏 IN db\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2108051172,1763104311&fm=58\"\n      }, {\n        id: 16,\n        src: \"https://image.calibur.tv/owner/music/16.mp3\",\n        name: \"One more time, One more chance\",\n        player: \"山崎まさよし\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1618533673,3779234904&fm=58\"\n      }, {\n        id: 17,\n        src: \"https://image.calibur.tv/owner/music/17.mp3\",\n        name: \"ヒカリ\",\n        player: \"樹海\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3633046244,4153138975&fm=58\"\n      }, {\n        id: 18,\n        src: \"https://image.calibur.tv/owner/music/18.mp3\",\n        name: \"地球ぎ\",\n        player: \"松澤由美\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3923877014,165725923&fm=58&bpow=480&bpoh=728\"\n      }, {\n        id: 19,\n        src: \"https://image.calibur.tv/owner/music/19.mp3\",\n        name: \"Wind\",\n        player: \"Akeboshi\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3287911437,3680177977&fm=58&bpow=571&bpoh=421\"\n      }, {\n        id: 20,\n        src: \"https://image.calibur.tv/owner/music/20.mp3\",\n        name: \"Brothers\",\n        player: \"群星\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=1079743037,4016790706&fm=85&s=80006FB706434AED2C29256303007078\"\n      }, {\n        id: 21,\n        src: \"https://image.calibur.tv/owner/music/21.mp3\",\n        name: \"コネクト\",\n        player: \"ClariS\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1043104536,2579742317&fm=58\"\n      }, {\n        id: 22,\n        src: \"https://image.calibur.tv/owner/music/22.mp3\",\n        name: \"Glassy Sky\",\n        player: \"Donna Burke\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2790305043,3258702299&fm=58\"\n      }, {\n        id: 23,\n        src: \"https://image.calibur.tv/owner/music/23.mp3\",\n        name: \"My Song\",\n        player: \"Yui\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1802538637,158839725&fm=171&app=20&f=JPEG?w=121&h=91&s=C41AC43951767C39DC7918DA030080B4&bpow=480&bpoh=270\"\n      }, {\n        id: 24,\n        src: \"https://image.calibur.tv/owner/music/24.mp3\",\n        name: \"NEXT TO YOU\",\n        player: \"Ken Arai\",\n        selected: true,\n        playing: false,\n        img: \"https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=1307757296,4262664801&fm=179&app=42&f=JPEG?w=150&h=150\"\n      }, {\n        id: 25,\n        src: \"https://image.calibur.tv/owner/music/25.mp3\",\n        name: \"町, 時の流れ, 人\",\n        player: \"Key Sounds Label\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1488271269,3385060447&fm=58\"\n      }, {\n        id: 26,\n        src: \"https://image.calibur.tv/owner/music/26.mp3\",\n        name: \"Dear Friends\",\n        player: \"TRIPLANE\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2627866346,475109417&fm=27&gp=0.jpg\"\n      }, {\n        id: 27,\n        src: \"https://image.calibur.tv/owner/music/27.mp3\",\n        name: \"世界が終るまでは…\",\n        player: \"WANDS\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=712966633,2295645920&fm=58\"\n      }, {\n        id: 28,\n        src: \"https://image.calibur.tv/owner/music/28.mp3\",\n        name: \"again\",\n        player: \"Yui\",\n        selected: true,\n        playing: false,\n        img: \"https://ss0.baidu.com/73t1bjeh1BF3odCf/it/u=3860908664,40817184&fm=85&s=EA9B6E8FC66366B45E3125670300C042\"\n      }, {\n        id: 29,\n        src: \"https://image.calibur.tv/owner/music/29.mp3\",\n        name: \"潮鳴り\",\n        player: \"Key Sounds Label\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=351792085,464043388&fm=179&app=42&f=JPEG?w=121&h=140\"\n      }, {\n        id: 30,\n        src: \"https://image.calibur.tv/owner/music/30.mp3\",\n        name: \"想い出は遠くの日々\",\n        player: \"天門\",\n        selected: true,\n        playing: false,\n        img: \"https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1618533673,3779234904&fm=58\"\n      }],\n      open: false,\n      needInit: true,\n      status: {\n        playing: false,\n        silent: false,\n        menuShow: false,\n        voice: 50,\n        current: 0,\n        duration: 0\n      },\n      time: {\n        cur: \"00:00\",\n        all: \"00:00\"\n      },\n      now: {},\n      player: null\n    };\n  },\n\n  computed: {\n    musics() {\n      const array = this.source.map(_ => _);\n\n      for (let i = array.length; i; i--) {\n        let j = Math.floor(Math.random() * i);\n        [array[i - 1], array[j]] = [array[j], array[i - 1]];\n      }\n\n      return array;\n    }\n\n  },\n\n  mounted() {\n    const audio = this.$refs.audio;\n    this.player = audio;\n    audio.volume = 0.5;\n    audio.addEventListener(\"ended\", () => {\n      this.status.playing = false;\n      this.next(true);\n    });\n    audio.addEventListener(\"durationchange\", () => {\n      const duration = audio.duration;\n      const timeArr = this.formatSeconds(duration);\n      this.status.duration = duration;\n      this.time.all = timeArr[0] ? `${timeArr[0]}:${timeArr[1]}:${timeArr[2]}` : `${timeArr[1]}:${timeArr[2]}`;\n    });\n    audio.addEventListener(\"timeupdate\", () => {\n      const current = audio.currentTime;\n      const timeArr = this.formatSeconds(current);\n      this.status.current = current;\n      this.time.cur = timeArr[0] ? `${timeArr[0]}:${timeArr[1]}:${timeArr[2]}` : `${timeArr[1]}:${timeArr[2]}`;\n    });\n    audio.addEventListener(\"error\", () => {\n      this.next(true);\n    });\n  },\n\n  methods: {\n    musicToggle() {\n      this.open = !this.open;\n\n      if (this.needInit) {\n        this.needInit = false;\n        this.loadSource(this.musics[0], false);\n      }\n    },\n\n    next(isNext) {\n      const musicCount = this.musics.length;\n\n      if (!musicCount) {\n        return;\n      }\n\n      const id = this.now.id;\n      let resultIndex = -1;\n      this.musics.forEach((item, index) => {\n        if (item.id === id) {\n          if (isNext) {\n            if (index === musicCount - 1) {\n              resultIndex = 0;\n            } else {\n              resultIndex = index + 1;\n            }\n          } else {\n            if (!index) {\n              resultIndex = musicCount - 1;\n            } else {\n              resultIndex = index - 1;\n            }\n          }\n        }\n      });\n\n      if (resultIndex !== -1) {\n        this.loadSource(this.musics[resultIndex]);\n      }\n    },\n\n    volume(val) {\n      this.player.muted = !val;\n      this.status.voice = val;\n      this.player.volume = val / 100;\n    },\n\n    loadSource(item, autoPlay = true) {\n      if (this.now.playing !== undefined) {\n        if (this.now.id === item.id) {\n          return;\n        }\n\n        this.now.playing = false;\n      }\n\n      item.playing = true;\n      this.now = item;\n      this.player.setAttribute(\"src\", this.now.src);\n\n      if (autoPlay) {\n        this.player.play();\n        this.status.playing = true;\n      }\n    },\n\n    formatSeconds(second) {\n      let [h, m, s] = [0, 0, 0];\n\n      if (second > 60) {\n        m = parseInt(second / 60);\n        s = (second % 60).toFixed(0);\n\n        if (m > 60) {\n          h = parseInt(m / 60);\n          m = parseInt(m % 60);\n        }\n      } else {\n        s = parseInt(second);\n      }\n\n      s = s < 10 ? \"0\" + s : s;\n      m = m < 10 ? \"0\" + m : m;\n      return [h, m, s];\n    },\n\n    handleMuteBtnClick() {\n      this.status.silent = !this.status.silent;\n      this.player.muted = !this.player.muted;\n    },\n\n    handlePlayBtnClick() {\n      this.status.playing = !this.status.playing;\n      this.player.paused ? this.player.play() : this.player.pause();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62fc48ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Music.vue\nvar Music_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[ _vm.open ? 'M-open' : 'M-close' ],attrs:{\"id\":\"music\"}},[_vm._ssrNode(\"<audio></audio><button class=\\\"toggle\\\"><i class=\\\"iconfont icon-yinle\\\"></i></button>\"),_vm._ssrNode(\"<div class=\\\"M-main\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"M-warp\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.now.img))+\" class=\\\"M-face\\\">\"),_vm._ssrNode(\"<div class=\\\"M-control\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\"><div class=\\\"left\\\"><a>\"+_vm._ssrEscape(_vm._s(_vm.now.name))+\"</a><span class=\\\"M-dot\\\"></span><a>\"+_vm._ssrEscape(_vm._s(_vm.now.player))+\"</a></div><button\"+(_vm._ssrClass(\"menu-btn\",{ 'menu-click' : _vm.status.menuShow }))+\"><i class=\\\"iconfont icon-liebiao\\\"></i></button></div>\"),_vm._ssrNode(\"<div class=\\\"center\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"M-play-control\\\"><button class=\\\"sm-btn\\\"><i class=\\\"iconfont icon-svgprevious\\\"></i></button><button class=\\\"lg-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.status.playing ? 'icon-icon-' : 'icon-bofang1' ]))+\"></i></button><button class=\\\"sm-btn\\\"><i class=\\\"iconfont icon-iconfontsvgnext\\\"></i></button></div>\"),_vm._ssrNode(\"<div class=\\\"M-voice-control\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"sm-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.status.silent ? 'icon-jingyin' : 'icon-zengdayinliang' ]))+\"></i></button>\"),_vm._ssrNode(\"<span class=\\\"M-all-voice\\\">\",\"</span>\",[_c('v-range',{attrs:{\"barsize\":3,\"tailsize\":9},on:{\"rangeChangeEvent\":_vm.volume},model:{value:(_vm.status.voice),callback:function ($$v) {_vm.$set(_vm.status, \"voice\", $$v)},expression:\"status.voice\"}})],1)],2)],2),_vm._ssrNode(\"<div class=\\\"footer\\\"><span>\"+_vm._ssrEscape(_vm._s(_vm.time.cur)+\" / \"+_vm._s(_vm.time.all))+\"</span></div>\")],2)],2),_vm._ssrNode(\"<span class=\\\"M-allBar\\\">\",\"</span>\",[_c('v-range',{attrs:{\"max\":_vm.status.duration,\"barsize\":3,\"tailsize\":0,\"disabled\":true},model:{value:(_vm.status.current),callback:function ($$v) {_vm.$set(_vm.status, \"current\", $$v)},expression:\"status.current\"}})],1)]),_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"M-menu\",{ 'menu-show': _vm.status.menuShow }))+\"><div class=\\\"M-menu-wrap\\\"><div class=\\\"header\\\"><h3 class=\\\"list\\\">歌曲列表</h3><button class=\\\"close\\\">×</button></div><div class=\\\"body\\\"><div class=\\\"title item\\\"><div class=\\\"item-right\\\">歌手</div><div class=\\\"item-left\\\">歌曲</div></div>\"+(_vm._ssrList((_vm.musics),function(item,index){return (\"<div class=\\\"item\\\"><div class=\\\"item-right oneline\\\">\"+_vm._ssrEscape(_vm._s(item.player))+\"</div><div class=\\\"item-left\\\"><div><span\"+(_vm._ssrClass(null,['icon', _vm.status.playing ? 'icon-play' : 'icon-pause']))+(_vm._ssrStyle(null,null, { display: (item.playing) ? '' : 'none' }))+\"></span><a>\"+_vm._ssrEscape(_vm._s(item.name))+\"</a></div><div class=\\\"hover\\\"><button title=\\\"点击播放\\\" class=\\\"sm-btn play\\\"><i class=\\\"iconfont icon-tongji\\\"></i></button></div></div></div>\")}))+\"</div></div></div>\")],2)}\nvar Music_staticRenderFns = []\nvar Music_esExports = { render: Music_render, staticRenderFns: Music_staticRenderFns }\n/* harmony default export */ var layouts_Music = (Music_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Music.vue\nfunction Music_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(192),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Music_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Music___vue_template_functional__ = false\n/* styles */\nvar Music___vue_styles__ = Music_injectStyle\n/* scopeId */\nvar Music___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Music___vue_module_identifier__ = \"2af16334\"\nvar Music_Component = Music_normalizeComponent(\n  Music,\n  layouts_Music,\n  Music___vue_template_functional__,\n  Music___vue_styles__,\n  Music___vue_scopeId__,\n  Music___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Music = (Music_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Creator.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Creator = ({\n  name: \"MtPaletteButton\",\n  props: {\n    offset: {\n      type: Number,\n      // 扇面偏移角，默认是四分之π，配合默认方向lt\n      default: Math.PI / 5\n    },\n    direction: {\n      type: String,\n      default: \"lt\" // lt t rt this.radius rb b lb l 取值有8个方向，左上、上、右上、右、右下、下、左下、左，默认为左上\n\n    },\n    radius: {\n      type: Number,\n      default: 90\n    },\n    mainButtonStyle: {\n      type: String,\n      // 应用到 mint-main-button 上的 class\n      default: \"\"\n    }\n  },\n  data: function () {\n    return {\n      transforming: false,\n      // 是否正在执行动画\n      expanded: false // 是否已经展开子按钮\n\n    };\n  },\n\n  mounted() {\n    this.slotChildren = [];\n\n    for (let i = 0; i < this.$slots.default.length; i++) {\n      if (this.$slots.default[i].elm.nodeType !== 3) {\n        this.slotChildren.push(this.$slots.default[i]);\n      }\n    }\n\n    let css = \"\";\n    let directionArc = Math.PI * (3 + Math.max([\"lt\", \"t\", \"rt\", \"r\", \"rb\", \"b\", \"lb\", \"l\"].indexOf(this.direction), 0)) / 4;\n\n    for (let i = 0; i < this.slotChildren.length; i++) {\n      const arc = (Math.PI - this.offset * 2) / (this.slotChildren.length - 1) * i + this.offset + directionArc;\n      const x = (Math.cos(arc) * this.radius).toFixed(2);\n      const y = (Math.sin(arc) * this.radius).toFixed(2);\n      css += \".expand .palette-button-\" + this._uid + \"-sub-\" + i + \"{transform:translate(\" + x + \"px,\" + y + \"px) rotate(720deg);transition-delay:\" + 0.03 * i + \"s}\";\n      this.slotChildren[i].elm.className += \" palette-button-\" + this._uid + \"-sub-\" + i;\n    }\n\n    this.styleNode = document.createElement(\"style\");\n    this.styleNode.type = \"text/css\";\n    this.styleNode.rel = \"stylesheet\";\n    this.styleNode.title = \"palette button style\";\n    this.styleNode.appendChild(document.createTextNode(css));\n    document.getElementsByTagName(\"head\")[0].appendChild(this.styleNode);\n  },\n\n  destroyed() {\n    if (this.styleNode) {\n      this.styleNode.parentNode.removeChild(this.styleNode);\n    }\n  },\n\n  methods: {\n    toggle(event) {\n      if (!this.transforming) {\n        if (this.expanded) {\n          this.collapse(event);\n        } else {\n          this.expand(event);\n        }\n      }\n    },\n\n    onMainAnimationEnd(event) {\n      this.transforming = false;\n      this.$emit(\"expanded\");\n    },\n\n    expand(event) {\n      this.$backdrop.show({\n        ele: this.$el,\n        click: () => {\n          this.collapse();\n        }\n      });\n      this.expanded = true;\n      this.transforming = true;\n      this.$emit(\"expand\", event);\n    },\n\n    collapse(event) {\n      this.$backdrop.hide();\n      this.expanded = false;\n      this.$emit(\"collapse\", event);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4067276c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Creator.vue\nvar Creator_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"creator-button-wrap\"}},[_vm._ssrNode(\"<div class=\\\"creator-button-box\\\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"mint-palette-button\",{ expand: _vm.expanded, 'mint-palette-button-active': _vm.transforming }))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"mint-sub-button-container\\\">\",\"</div>\",[_vm._t(\"default\")],2),_c('el-tooltip',{attrs:{\"placement\":\"right\",\"effect\":\"dark\",\"content\":\"创作\"}},[_c('button',{staticClass:\"mint-main-button\",style:(_vm.mainButtonStyle),on:{\"click\":_vm.toggle}},[_c('i',{staticClass:\"el-icon-edit-outline\"})])])],1)])])}\nvar Creator_staticRenderFns = []\nvar Creator_esExports = { render: Creator_render, staticRenderFns: Creator_staticRenderFns }\n/* harmony default export */ var layouts_Creator = (Creator_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Creator.vue\nfunction Creator_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(196),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Creator_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Creator___vue_template_functional__ = false\n/* styles */\nvar Creator___vue_styles__ = Creator_injectStyle\n/* scopeId */\nvar Creator___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Creator___vue_module_identifier__ = \"4f371ead\"\nvar Creator_Component = Creator_normalizeComponent(\n  Creator,\n  layouts_Creator,\n  Creator___vue_template_functional__,\n  Creator___vue_styles__,\n  Creator___vue_scopeId__,\n  Creator___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Creator = (Creator_Component.exports);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/Feedback.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Feedback = ({\n  name: \"CreateFeedback\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      show: this.value,\n      placeholder: \"\",\n      preContent: \"\",\n      options: [{\n        label: \"功能建议\",\n        value: 1\n      }, {\n        label: \"遇到错误\",\n        value: 2\n      }, {\n        label: \"资源报错\",\n        value: 4\n      }, {\n        label: \"求资源\",\n        value: 5\n      }, {\n        label: \"求偶像\",\n        value: 6\n      }, {\n        label: \"求漫画\",\n        value: 7\n      }, {\n        label: \"其它问题\",\n        value: 3\n      }],\n      forms: {\n        type: \"\",\n        desc: \"\"\n      },\n      rules: {\n        type: [{\n          type: \"number\",\n          required: true,\n          message: \"请选择反馈类型\",\n          trigger: \"change\"\n        }],\n        desc: [{\n          required: true,\n          max: 100,\n          message: \"请填写反馈内容，最多100字\",\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  watch: {\n    value(val) {\n      this.show = val;\n    },\n\n    show(val) {\n      this.$emit(\"input\", val);\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-feedback\", ({\n      type,\n      desc,\n      placeholder\n    }) => {\n      this.forms.type = type || \"\";\n      this.preContent = desc || \"{?}\";\n      this.placeholder = placeholder || \"非常感谢您的反馈，请填写详细信息方便我们解决\";\n      this.show = true;\n    });\n  },\n\n  methods: {\n    submit() {\n      this.$refs.forms.validate(async valid => {\n        if (valid) {\n          const api = new userApi[\"a\" /* default */](this);\n          await api.feedback({\n            type: this.forms.type,\n            desc: this.preContent.replace(\"{?}\", this.forms.desc),\n            ua: navigator.userAgent\n          });\n          this.show = false;\n          this.$refs.forms.resetFields();\n          this.$toast.success(\"反馈成功，感谢您的反馈！\");\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09923104\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/Feedback.vue\nvar Feedback_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"title\":\"用户反馈\",\"submit-text\":\"提交\",\"cancel-text\":\"\"},on:{\"submit\":_vm.submit},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('el-form',{ref:\"forms\",attrs:{\"model\":_vm.forms,\"rules\":_vm.rules,\"label-width\":\"55px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"反馈类型\"},model:{value:(_vm.forms.type),callback:function ($$v) {_vm.$set(_vm.forms, \"type\", $$v)},expression:\"forms.type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_c('el-form-item',{attrs:{\"label\":\"详情\",\"prop\":\"desc\"}},[_c('el-input',{attrs:{\"rows\":6,\"placeholder\":_vm.placeholder,\"type\":\"textarea\"},model:{value:(_vm.forms.desc),callback:function ($$v) {_vm.$set(_vm.forms, \"desc\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"forms.desc\"}})],1)],1)],1)}\nvar Feedback_staticRenderFns = []\nvar Feedback_esExports = { render: Feedback_render, staticRenderFns: Feedback_staticRenderFns }\n/* harmony default export */ var user_Feedback = (Feedback_esExports);\n// CONCATENATED MODULE: ./src/components/user/Feedback.vue\nvar Feedback_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Feedback___vue_template_functional__ = false\n/* styles */\nvar Feedback___vue_styles__ = null\n/* scopeId */\nvar Feedback___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Feedback___vue_module_identifier__ = \"3e330060\"\nvar Feedback_Component = Feedback_normalizeComponent(\n  Feedback,\n  user_Feedback,\n  Feedback___vue_template_functional__,\n  Feedback___vue_styles__,\n  Feedback___vue_scopeId__,\n  Feedback___vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_Feedback = (Feedback_Component.exports);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/CreatePostForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CreatePostForm = ({\n  name: \"CreatePostForm\",\n  mixins: [upload[\"a\" /* default */]],\n\n  data() {\n    return {\n      forms: {\n        title: \"\",\n        bangumiId: \"\",\n        content: \"\",\n        is_creator: false\n      },\n      rules: {\n        title: [{\n          required: true,\n          max: 40,\n          message: \"请输入帖子标题，最多40字\",\n          trigger: \"submit\"\n        }],\n        bangumiId: [{\n          type: \"number\",\n          required: true,\n          message: \"请选择相应番剧\",\n          trigger: \"submit\"\n        }],\n        content: [{\n          required: true,\n          max: 1000,\n          message: \"内容不能为空，且不超过1000字\",\n          trigger: \"submit\"\n        }]\n      },\n      images: [],\n      exceed: 6,\n      loadingFetchBangumi: false,\n      submitting: false\n    };\n  },\n\n  computed: {\n    bangumiId() {\n      return this.$route.name === \"bangumi-show\" ? parseInt(this.$route.params.id, 10) : 0;\n    }\n\n  },\n  methods: {\n    submit() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n      this.$refs.forms.validate(valid => {\n        if (valid) {\n          this.$captcha({\n            success: async ({\n              data\n            }) => {\n              try {\n                const result = await this.$store.dispatch(\"post/create\", {\n                  title: this.forms.title,\n                  bangumiId: this.forms.bangumiId,\n                  desc: this.forms.content.substring(0, 120),\n                  content: this.forms.content,\n                  images: this.images.map(item => item.img),\n                  geetest: data,\n                  ctx: this,\n                  is_creator: this.forms.is_creator\n                });\n                this.images = [];\n                this.$refs.forms.resetFields();\n                this.$emit(\"submit\");\n                this.submitting = false;\n                this.$toast.success(result.message).then(() => {\n                  window.location = this.$alias.post(result.data);\n                });\n              } catch (err) {\n                this.$toast.error(err);\n                this.submitting = false;\n              }\n            },\n            error: e => {\n              this.submitting = false;\n              this.$toast.error(e);\n            },\n            close: () => {\n              this.submitting = false;\n            }\n          });\n        } else {\n          this.submitting = false;\n          return false;\n        }\n      });\n    },\n\n    handleError(err, file) {\n      console.log(err);\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    handleRemove(file) {\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n    },\n\n    handleSuccess(res, file) {\n      this.images.push({\n        id: file.uid,\n        img: res.data\n      });\n    },\n\n    handleExceed() {\n      this.$toast.error(`最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    beforeUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.uploadConfig.max = 5;\n      this.uploadConfig.params = {\n        userId: this.$store.state.user.id,\n        id: 0,\n        type: \"post\"\n      };\n      return this.beforeImageUpload(file);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bfed673\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/CreatePostForm.vue\nvar CreatePostForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"forms\",staticClass:\"create-post-form\",attrs:{\"model\":_vm.forms,\"rules\":_vm.rules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写帖子标题\"},model:{value:(_vm.forms.title),callback:function ($$v) {_vm.$set(_vm.forms, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"forms.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumiId\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"placeholder\":\"请选择要投稿的番剧\"},model:{value:(_vm.forms.bangumiId),callback:function ($$v) {_vm.$set(_vm.forms, \"bangumiId\", $$v)},expression:\"forms.bangumiId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-switch',{model:{value:(_vm.forms.is_creator),callback:function ($$v) {_vm.$set(_vm.forms, \"is_creator\", $$v)},expression:\"forms.is_creator\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"如果帖子是转载的，请不要勾选\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1),_c('el-form-item',{attrs:{\"label\":\"图片\"}},[_c('el-upload',{ref:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleError,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"limit\":_vm.exceed,\"before-upload\":_vm.beforeUpload,\"multiple\":\"\",\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"rows\":10,\"type\":\"textarea\",\"placeholder\":\"1000字以内\",\"resize\":\"none\"},model:{value:(_vm.forms.content),callback:function ($$v) {_vm.$set(_vm.forms, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"forms.content\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],1)],1)}\nvar CreatePostForm_staticRenderFns = []\nvar CreatePostForm_esExports = { render: CreatePostForm_render, staticRenderFns: CreatePostForm_staticRenderFns }\n/* harmony default export */ var post_CreatePostForm = (CreatePostForm_esExports);\n// CONCATENATED MODULE: ./src/components/post/CreatePostForm.vue\nfunction CreatePostForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(200),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CreatePostForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreatePostForm___vue_template_functional__ = false\n/* styles */\nvar CreatePostForm___vue_styles__ = CreatePostForm_injectStyle\n/* scopeId */\nvar CreatePostForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreatePostForm___vue_module_identifier__ = \"5b52bf94\"\nvar CreatePostForm_Component = CreatePostForm_normalizeComponent(\n  CreatePostForm,\n  post_CreatePostForm,\n  CreatePostForm___vue_template_functional__,\n  CreatePostForm___vue_styles__,\n  CreatePostForm___vue_scopeId__,\n  CreatePostForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_CreatePostForm = (CreatePostForm_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/image/UploadImageForm.vue + 2 modules\nvar UploadImageForm = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./src/components/image/CreateAlbumForm.vue + 2 modules\nvar CreateAlbumForm = __webpack_require__(172);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/CreateImagePanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateImagePanel = ({\n  name: \"UploadImageModal\",\n  components: {\n    UploadImageForm: UploadImageForm[\"a\" /* default */],\n    CreateAlbumForm: CreateAlbumForm[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      selectedAlbumId: \"\",\n      createdAlbum: [],\n      uploadHeaders: {\n        token: \"\"\n      },\n      bangumiRoles: {},\n      bangumis: [],\n      options: [],\n      roles: [],\n      loadingUserBangumiFetch: false,\n      loadingUploadTypeFetch: false,\n      loadingUserAlbumFetch: false,\n      show: false,\n      submitting: false,\n      form: {\n        bangumiId: \"\",\n        size: \"\",\n        tags: \"\",\n        roleId: \"\",\n        albumId: \"\",\n        creator: false,\n        images: []\n      },\n      albumForm: {\n        name: \"\",\n        bangumiId: \"\",\n        poster: [],\n        isCartoon: false,\n        creator: false\n      },\n      action: \"上传图片\",\n      exceed: 10,\n      pendingUpload: 0\n    };\n  },\n\n  computed: {\n    albums() {\n      return this.$store.state.image.albums;\n    },\n\n    user() {\n      return this.$store.state.user;\n    },\n\n    zone() {\n      return this.user.zone;\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"show-upload-image-modal\", () => {\n      this.show = true;\n    });\n  },\n\n  methods: {\n    handleAlbumCreated(album) {\n      this.createdAlbum.unshift(album);\n      this.selectedAlbumId = album.id;\n      this.action = \"上传图片\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-157cf821\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/CreateImagePanel.vue\nvar CreateImagePanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{staticClass:\"create-image-modal\",attrs:{\"loading\":_vm.submitting,\"footer\":false,\"title\":\"上传图片\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('el-radio-group',{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.action),callback:function ($$v) {_vm.action=$$v},expression:\"action\"}},[_c('el-radio-button',{attrs:{\"label\":\"上传图片\"}}),_c('el-radio-button',{attrs:{\"label\":\"创建相册\"}})],1),(_vm.action === '上传图片')?_c('upload-image-form',{attrs:{\"selected-album-id\":_vm.selectedAlbumId,\"append-albums\":_vm.createdAlbum}}):(_vm.action === '创建相册')?_c('create-album-form',{on:{\"success\":_vm.handleAlbumCreated}}):_vm._e()],1)}\nvar CreateImagePanel_staticRenderFns = []\nvar CreateImagePanel_esExports = { render: CreateImagePanel_render, staticRenderFns: CreateImagePanel_staticRenderFns }\n/* harmony default export */ var image_CreateImagePanel = (CreateImagePanel_esExports);\n// CONCATENATED MODULE: ./src/components/image/CreateImagePanel.vue\nvar CreateImagePanel_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreateImagePanel___vue_template_functional__ = false\n/* styles */\nvar CreateImagePanel___vue_styles__ = null\n/* scopeId */\nvar CreateImagePanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreateImagePanel___vue_module_identifier__ = \"3af69882\"\nvar CreateImagePanel_Component = CreateImagePanel_normalizeComponent(\n  CreateImagePanel,\n  image_CreateImagePanel,\n  CreateImagePanel___vue_template_functional__,\n  CreateImagePanel___vue_styles__,\n  CreateImagePanel___vue_scopeId__,\n  CreateImagePanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_CreateImagePanel = (CreateImagePanel_Component.exports);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/CreateQuestionForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateQuestionForm = ({\n  name: \"CreateQuestionForm\",\n  mixins: [upload[\"a\" /* default */]],\n\n  data() {\n    const validateTitle = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"请输入问题标题\"));\n      }\n\n      if (value.length > 30) {\n        callback(new Error(\"标题最多 30 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateTag = (rule, value, callback) => {\n      if (!value.length) {\n        callback(new Error(\"至少选择一个相关番剧\"));\n      }\n\n      if (value.length > 5) {\n        callback(new Error(\"最多 5 个话题\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        title: \"\",\n        tags: [],\n        content: \"\"\n      },\n      rules: {\n        title: [{\n          validator: validateTitle,\n          trigger: \"change\"\n        }],\n        tags: [{\n          validator: validateTag,\n          trigger: \"submit\"\n        }]\n      },\n      images: [],\n      exceed: 7,\n      submitting: false\n    };\n  },\n\n  methods: {\n    beforeUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.$store.state.user.id}/question`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleError(err, file) {\n      console.log(err);\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    handleRemove(file) {\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n    },\n\n    handleExceed() {\n      this.$toast.error(`最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    handleSuccess(res, file) {\n      this.images.push({\n        id: file.uid,\n        img: res.data\n      });\n    },\n\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          this.$captcha({\n            success: async ({\n              data\n            }) => {\n              const api = new questionApi[\"a\" /* default */](this);\n\n              try {\n                const result = await api.createQuestion({\n                  title: this.form.title,\n                  tags: this.form.tags,\n                  intro: this.form.content.substring(0, 120),\n                  content: this.form.content,\n                  images: this.images.map(item => item.img),\n                  geetest: data\n                });\n                this.images = [];\n                this.$refs.form.resetFields();\n                this.$emit(\"submit\");\n                this.submitting = false;\n                this.$toast.success(result.message).then(() => {\n                  window.location = this.$alias.question(result.data);\n                });\n              } catch (err) {\n                this.$toast.error(err);\n                this.submitting = false;\n              }\n            },\n            error: e => {\n              this.submitting = false;\n              this.$toast.error(e);\n            },\n            close: () => {\n              this.submitting = false;\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29c26593\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/CreateQuestionForm.vue\nvar CreateQuestionForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"id\":\"create-question-form\",\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"maxlength\":\"30\",\"placeholder\":\"问题标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"tags\"}},[_c('bangumi-search',{attrs:{\"multiple\":true,\"followed\":true,\"limit\":5,\"placeholder\":\"添加番剧标签\"},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"rows\":5,\"placeholder\":\"问题背景，条件等详细信息\",\"type\":\"textarea\",\"maxlength\":\"1000\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片\"}},[_c('el-upload',{ref:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleError,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"limit\":_vm.exceed,\"before-upload\":_vm.beforeUpload,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"multiple\":\"\",\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交问题\")])],1)],1)}\nvar CreateQuestionForm_staticRenderFns = []\nvar CreateQuestionForm_esExports = { render: CreateQuestionForm_render, staticRenderFns: CreateQuestionForm_staticRenderFns }\n/* harmony default export */ var question_CreateQuestionForm = (CreateQuestionForm_esExports);\n// CONCATENATED MODULE: ./src/components/question/CreateQuestionForm.vue\nfunction CreateQuestionForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(202),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CreateQuestionForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreateQuestionForm___vue_template_functional__ = false\n/* styles */\nvar CreateQuestionForm___vue_styles__ = CreateQuestionForm_injectStyle\n/* scopeId */\nvar CreateQuestionForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreateQuestionForm___vue_module_identifier__ = \"5b75aef6\"\nvar CreateQuestionForm_Component = CreateQuestionForm_normalizeComponent(\n  CreateQuestionForm,\n  question_CreateQuestionForm,\n  CreateQuestionForm___vue_template_functional__,\n  CreateQuestionForm___vue_styles__,\n  CreateQuestionForm___vue_scopeId__,\n  CreateQuestionForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_CreateQuestionForm = (CreateQuestionForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Tools.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var Tools = ({\n  name: \"SideTools\",\n  components: {\n    vCreator: components_layouts_Creator,\n    vFeedback: components_user_Feedback,\n    CreatePostForm: components_post_CreatePostForm,\n    CreateImagePanel: components_image_CreateImagePanel,\n    CreateQuestionForm: components_question_CreateQuestionForm\n  },\n\n  data() {\n    return {\n      showToTop: false,\n      showPostModal: false,\n      showQuestionModal: false\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    show() {\n      return [\"homepage\", \"invite-user\"].indexOf(this.$route.name) === -1;\n    },\n\n    userLevel() {\n      if (this.isGuest) {\n        return 0;\n      } else {\n        return this.$store.state.user.exp.level;\n      }\n    }\n\n  },\n\n  mounted() {\n    this.computeShow();\n    document.addEventListener(\"scroll\", this.$utils.throttle(() => {\n      this.computeShow();\n    }, 500));\n    window.addEventListener(\"resize\", this.$utils.throttle(() => {\n      this.computeShow();\n    }, 500));\n    this.$channel.$on(\"show-create-post-modal\", () => {\n      this.$store.state.login ? this.showPostModal = true : this.$channel.$emit(\"sign-in\");\n    });\n    this.$channel.$on(\"show-create-question-modal\", () => {\n      this.$store.state.login ? this.showQuestionModal = true : this.$channel.$emit(\"sign-in\");\n    });\n  },\n\n  methods: {\n    handlePostClick() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showPostModal = true;\n    },\n\n    handleQuestionClick() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.userLevel < 3) {\n        this.$toast.info(\"3级以后才能提问\");\n        return;\n      }\n\n      this.showQuestionModal = true;\n    },\n\n    handleScoreClick() {\n      if (this.userLevel < 3) {\n        this.$toast.info(\"3级以后才能写漫评\");\n        return;\n      }\n\n      window.location = this.$alias.createScore;\n    },\n\n    handleImageClick() {\n      if (!this.$store.state.login) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"show-upload-image-modal\");\n    },\n\n    handleFeedbackClick() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: \"\",\n        desc: \"{?}\",\n        placeholder: \"非常感谢您的反馈，请填写详细信息方便我们解决\"\n      });\n    },\n\n    computeShow() {\n      this.showToTop = window.scrollY > window.innerHeight;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6edee590\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Tools.vue\nvar Tools_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],attrs:{\"id\":\"side-tools\"}},[_c('v-creator',[_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"dark\",\"content\":\"传图片\"}},[_c('button',{staticClass:\"creator-btn iconfont icon-tupian\",on:{\"click\":_vm.handleImageClick}})]),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"dark\",\"content\":\"发帖\"}},[_c('button',{staticClass:\"creator-btn iconfont icon-fankui\",on:{\"click\":_vm.handlePostClick}})]),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"dark\",\"content\":\"写漫评\"}},[(_vm.userLevel > 2)?_c('button',{staticClass:\"creator-btn score-btn\"},[_c('a',{attrs:{\"href\":_vm.$alias.createScore,\"target\":\"_blank\"}},[_c('i',{staticClass:\"iconfont icon-fatie1\"})])]):_c('button',{staticClass:\"creator-btn score-btn\",on:{\"click\":_vm.handleScoreClick}},[_c('i',{staticClass:\"iconfont icon-fatie1\"})])]),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"dark\",\"content\":\"提问\"}},[_c('button',{staticClass:\"creator-btn question-btn\",on:{\"click\":_vm.handleQuestionClick}},[_c('i',{staticClass:\"el-icon-question\"})])])],1),_vm._ssrNode(\"<div class=\\\"creator-button-box\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"placement\":\"right\",\"effect\":\"dark\",\"content\":\"反馈\"}},[_c('button',{staticClass:\"tool-btn feedback-btn\",on:{\"click\":_vm.handleFeedbackClick}},[_c('i',{staticClass:\"el-icon-service\"})])]),_c('el-tooltip',{attrs:{\"placement\":\"right\",\"effect\":\"dark\",\"content\":\"返回\"}},[_c('transition',{attrs:{\"name\":\"el-fade-in\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showToTop),expression:\"showToTop\"}],staticClass:\"tool-btn top-btn\",on:{\"click\":function($event){_vm.$scrollToY(0)}}},[_c('i',{staticClass:\"el-icon-arrow-up\"})])])],1)],1),(!_vm.isGuest)?[_c('v-dialog',{attrs:{\"footer\":false,\"title\":\"发帖\"},model:{value:(_vm.showPostModal),callback:function ($$v) {_vm.showPostModal=$$v},expression:\"showPostModal\"}},[_c('create-post-form',{on:{\"submit\":function($event){_vm.showPostModal = false}}})],1),_c('v-dialog',{attrs:{\"footer\":false,\"title\":\"写下你的问题\"},model:{value:(_vm.showQuestionModal),callback:function ($$v) {_vm.showQuestionModal=$$v},expression:\"showQuestionModal\"}},[_c('create-question-form',{on:{\"submit\":function($event){_vm.showQuestionModal = false}}})],1),_c('create-image-panel')]:_vm._e(),_c('v-feedback')],2)}\nvar Tools_staticRenderFns = []\nvar Tools_esExports = { render: Tools_render, staticRenderFns: Tools_staticRenderFns }\n/* harmony default export */ var layouts_Tools = (Tools_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Tools.vue\nfunction Tools_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(198),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Tools_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Tools___vue_template_functional__ = false\n/* styles */\nvar Tools___vue_styles__ = Tools_injectStyle\n/* scopeId */\nvar Tools___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Tools___vue_module_identifier__ = \"88f341c8\"\nvar Tools_Component = Tools_normalizeComponent(\n  Tools,\n  layouts_Tools,\n  Tools___vue_template_functional__,\n  Tools___vue_styles__,\n  Tools___vue_scopeId__,\n  Tools___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Tools = (Tools_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/default.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var layouts_default = ({\n  name: \"DefaultLayout\",\n  components: {\n    vFooter: Footer[\"a\" /* default */],\n    vCreator: components_layouts_Creator,\n    SideTools: components_layouts_Tools,\n    vMusic: components_layouts_Music\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1fc6a22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/default.vue\nvar default_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"layout-default\"}},[_c('router-view',{staticClass:\"main-view\"}),_c('v-footer'),_c('v-music'),_c('no-ssr',[_c('side-tools')],1)],1)}\nvar default_staticRenderFns = []\nvar default_esExports = { render: default_render, staticRenderFns: default_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_layouts_default = (default_esExports);\n// CONCATENATED MODULE: ./src/layouts/default.vue\nfunction default_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(190),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar default_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar default___vue_template_functional__ = false\n/* styles */\nvar default___vue_styles__ = default_injectStyle\n/* scopeId */\nvar default___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar default___vue_module_identifier__ = \"49e095cb\"\nvar default_Component = default_normalizeComponent(\n  layouts_default,\n  selectortype_template_index_0_src_layouts_default,\n  default___vue_template_functional__,\n  default___vue_styles__,\n  default___vue_scopeId__,\n  default___vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_default = __webpack_exports__[\"default\"] = (default_Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "7.server-bundle.js": "exports.ids = [7];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(260);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ce5a3564\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#post-show .title-wrap{height:56px;border-bottom:1px solid #bbbdbf}#post-show .title-wrap h1{font-weight:400;font-size:16px;margin-left:20px;line-height:55px;overflow:hidden}#post-show .title-wrap .creator_badge,#post-show .title-wrap .nice_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:16px 5px 0 0}#post-show .title-wrap .nice_badge{background-color:#f25d8e}#post-show .title-wrap .creator_badge{background-color:#daa520}#post-show .title-wrap .control{float:right;line-height:55px;margin-left:15px}#post-show .title-wrap .control .floor{font-size:12px;color:#5a5e66;margin-left:10px}#post-show .post-main .user{width:180px;float:left}#post-show .post-main .user .avatar{display:block;margin:20px auto 5px;border:1px solid #e5e9ef;width:80px;height:80px;border-radius:40px;overflow:hidden}#post-show .post-main .user .nickname{display:block;background:#fff;width:98px;height:28px;line-height:24px;margin:0 auto;text-align:center}#post-show .post-main .content{background:#fff;padding:22px 0 14px;border-top:1px solid #e5e9ef;overflow:hidden}#post-show .post-main .content .main{min-height:80px}#post-show .post-main .content .image{margin-bottom:12px}#post-show .post-main .content .text-area{line-height:24px;padding:2px 0;font-size:14px;overflow:hidden;word-wrap:break-word}#post-show .post-main .content .footer{color:#99a2aa;line-height:26px;font-size:12px}#post-show .post-main .content .footer .info-bar{height:40px;line-height:40px}#post-show .post-main .content .footer .info-bar .footer-item{margin-right:20px;display:inline-block;float:left}#post-show .post-main .content .footer .info-bar .v-share{float:right}#post-show .col-aside{padding:20px}#post-show .col-aside .bangumi-panel{margin-top:30px;margin-left:30px}#post-show .create-post-form{margin-left:-50px}#post-show .create-post-form button{width:100%}#post-show #comment-wrap .sub-comment-list-wrap{background-color:#f7f8fa;position:relative;margin-left:180px}#post-show #comment-wrap .sub-comment-list-wrap .comments{padding:4px 15px}#post-show #comment-wrap .sub-comment-list-wrap .comments li{display:block;width:100%}#post-show #comment-wrap .sub-comment-list-wrap .comments .avatar{width:32px;height:32px;border-radius:16px;overflow:hidden}#post-show #comment-wrap .sub-comment-list-wrap .comment-reply-area{padding:0 15px 10px;height:45px;line-height:35px}#post-show #comment-wrap .sub-comment-list-wrap .comment-reply-area .open-comment{float:right;font-size:13px;margin-top:10px}#post-show #comment-wrap .sub-comment-list-wrap .comment-reply-area .total{margin-left:10px}#post-show #comment-wrap #comment-list-footer{margin-left:180px;margin-right:5px}#post-show .load-more-btn{margin-left:0!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(262);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"705b5c41\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.post-comment-item .user{width:180px;float:left}.post-comment-item .user .avatar{display:block;margin:34px auto 5px}.post-comment-item .user .nickname{display:block;width:98px;height:28px;line-height:24px;margin:0 auto;text-align:center}.post-comment-item .content{overflow:hidden;border-top:1px solid #e5e9ef;padding-top:22px;margin-top:14px}.post-comment-item .content .main{min-height:80px}.post-comment-item .content .image{margin-bottom:12px}.post-comment-item .content .text-package{line-height:24px;padding:2px 0;font-size:14px;overflow:hidden;word-wrap:break-word}.post-comment-item .content .likes-wrap{text-align:center;margin:50px 0}.post-comment-item .content .footer{color:#99a2aa;line-height:26px;font-size:12px}.post-comment-item .content .footer .info-bar{height:40px;line-height:40px}.post-comment-item .content .footer .info-bar .delete-btn,.post-comment-item .content .footer .info-bar .floor-count,.post-comment-item .content .footer .info-bar .like-btn{margin-right:20px}.post-comment-item .content .footer .info-bar .v-share{float:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(264);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6227678f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-sub-comment-list-wrap{position:relative;background-color:#f7f8fa;margin-left:175px;padding:0 15px;border-radius:5px}.post-sub-comment-list-wrap .comments-collapsed-btn{position:absolute;right:5px;top:-27px;font-size:13px}.post-sub-comment-list-wrap .sub-comment-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px}.post-sub-comment-list-wrap .sub-comment-footer .more button{margin-left:5px}.post-sub-comment-list-wrap .sub-comment-footer .more .total{margin-left:10px;color:#99a2aa;font-size:12px}.post-sub-comment-list-wrap .sub-comment-footer .toggle{font-size:13px}.post-sub-comment-list-wrap .footer-reply-area{padding:15px 0}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(266);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"b2926572\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-sub-comment-item .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-sub-comment-item{padding-top:15px;line-height:20px;color:#99a2aa}.post-sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.post-sub-comment-item:hover .report-btn{opacity:1!important}.post-sub-comment-item .comment-content{font-size:14px;color:#222;word-break:break-all}.post-sub-comment-item .avatar{margin-right:10px;vertical-align:middle;display:inline-block}.post-sub-comment-item .reply-area{text-align:right;line-height:13px;font-size:12px}.post-sub-comment-item .reply-area button,.post-sub-comment-item .reply-area time{margin-left:5px}.post-sub-comment-item .reply-area .report-btn{opacity:0}.post-sub-comment-item .comment-reply-form{margin-top:10px;padding:15px 0 15px 5px;height:58px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(268);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4c01b850\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-comment-form{margin-top:40px}.post-comment-form .el-upload--picture-card,.post-comment-form .el-upload-list__item{width:72px!important;height:72px!important;line-height:80px!important}.post-comment-form .el-upload--picture-card,.post-comment-form .el-upload-list{float:left}.post-comment-form .el-icon-upload-success{position:absolute;top:0;left:15px}.post-comment-form .submit-btn{width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 384:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostSubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostSubCommentItem = ({\n  name: \"PostSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    toggleCommentArea() {\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          type: \"post\",\n          ctx: this,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-542d73c7\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostSubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_c('user-card',{attrs:{\"zone\":_vm.comment.from_user_zone,\"id\":_vm.comment.from_user_id}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.comment.from_user_name)}})],1),(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n    回复\\n    \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.to_user_name)+\"\\n    \")])]:_vm._e(),_vm._ssrNode(\"\\n  :\\n  <span class=\\\"comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\"),_vm._ssrNode(\"<div class=\\\"reply-area\\\">\",\"</div>\",[_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":\"post_reply\"}},[_vm._v(\"举报\")]),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}}),_vm._ssrNode(((_vm.canDelete)?(\"<button>删除</button>\"):\"<!---->\")+((!_vm.isMine)?(\"<button>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.showReplyArea ? '收起' : '回复')+\"\\n    \")+\"</button>\"):\"<!---->\"))],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id,\"type\":\"post\"},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var post_PostSubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/post/PostSubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(265),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fd48a08\"\nvar Component = normalizeComponent(\n  PostSubCommentItem,\n  post_PostSubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostSubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostSubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostSubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    PostSubCommentItem: components_post_PostSubCommentItem,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      collapsed: false,\n      showReplyArea: false,\n      loading: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    parentId() {\n      return this.parentComment.id;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    computeCollapsedBtnText() {\n      if (this.hasComment) {\n        if (this.collapsed) {\n          return `回复(${this.comments.total})`;\n        }\n\n        return \"收起回复\";\n      }\n\n      if (this.showReplyArea) {\n        return \"收起\";\n      }\n\n      return \"回复\";\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    }\n\n  },\n  methods: {\n    clickCollapsedBtn() {\n      if (this.hasComment) {\n        this.collapsed = !this.collapsed;\n      } else {\n        this.showReplyArea = !this.showReplyArea;\n      }\n    },\n\n    toggleCommentArea() {\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: \"post\",\n          id: this.parentId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-388a206c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostSubCommentList.vue\nvar PostSubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-sub-comment-list-wrap\"},[_vm._ssrNode(\"<button class=\\\"comments-collapsed-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.computeCollapsedBtnText))+\"</button>\"),_c('el-collapse-transition',[(_vm.hasComment && !_vm.collapsed)?_c('div',{staticClass:\"post-sub-comment-list\"},_vm._l((_vm.comments.list),function(comment){return _c('post-sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId}})})):_vm._e()]),(_vm.hasComment && !_vm.collapsed)?_vm._ssrNode(\"<div class=\\\"sub-comment-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"more\\\">\",\"</div>\",[(!_vm.comments.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.loadMore}},[_vm._v(\"点击加载更多\")]):_vm._e(),_vm._ssrNode(\"<span class=\\\"total\\\">\"+_vm._ssrEscape(\"共\"+_vm._s(_vm.comments.total)+\"条\")+\"</span>\")],2),_vm._ssrNode(\"<button class=\\\"toggle\\\">我也说一句</button>\")],2):_vm._e(),_c('comment-reply-form',{staticClass:\"footer-reply-area\",attrs:{\"id\":_vm.parentId,\"to-user-id\":_vm.authorId,\"type\":\"post\"},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],2)}\nvar PostSubCommentList_staticRenderFns = []\nvar PostSubCommentList_esExports = { render: PostSubCommentList_render, staticRenderFns: PostSubCommentList_staticRenderFns }\n/* harmony default export */ var post_PostSubCommentList = (PostSubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/post/PostSubCommentList.vue\nfunction PostSubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(263),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar PostSubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar PostSubCommentList___vue_template_functional__ = false\n/* styles */\nvar PostSubCommentList___vue_styles__ = PostSubCommentList_injectStyle\n/* scopeId */\nvar PostSubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar PostSubCommentList___vue_module_identifier__ = \"49da0213\"\nvar PostSubCommentList_Component = PostSubCommentList_normalizeComponent(\n  PostSubCommentList,\n  post_PostSubCommentList,\n  PostSubCommentList___vue_template_functional__,\n  PostSubCommentList___vue_styles__,\n  PostSubCommentList___vue_scopeId__,\n  PostSubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostSubCommentList = (PostSubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostCommentItem = ({\n  name: \"PostCommentItem\",\n  components: {\n    PostSubCommentList: components_post_PostSubCommentList\n  },\n  props: {\n    post: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.post[\"from_user_id\"];\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.post.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: \"post\",\n          id: this.post.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          type: \"post\",\n          ctx: this,\n          id: this.post.id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b7f9c3c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostCommentItem.vue\nvar PostCommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.post.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.post.from_user_id,\"zone\":_vm.post.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.post.from_user_avatar,\"size\":\"80\"}}),_c('p',{staticClass:\"nickname oneline\",domProps:{\"textContent\":_vm._s(_vm.post.from_user_name)}})],1)],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"main\\\">\",\"</div>\",[_vm._l((_vm.post.images),function(img,idx){return _vm._ssrNode(\"<div class=\\\"image-package\\\">\",\"</div>\",[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}),_vm._ssrNode(\"<div class=\\\"text-package\\\">\"+(_vm._s(_vm.post.content))+\"</div>\")],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"info-bar\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"like-btn\\\">\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.post.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.post.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.post.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button>\"+((_vm.canDelete)?(\"<button class=\\\"delete-btn\\\">删除</button>\"):\"<!---->\")+\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(_vm._s(_vm.post.floor_count)+\"楼\")+\"</span>\"),_c('v-time',{staticClass:\"floor-count\",model:{value:(_vm.post.created_at),callback:function ($$v) {_vm.$set(_vm.post, \"created_at\", $$v)},expression:\"post.created_at\"}}),_c('report-dialog',{attrs:{\"id\":_vm.post.id,\"type\":\"post_comment\"}},[_vm._v(\"举报\")])],2)])]),_c('post-sub-comment-list',{attrs:{\"parent-comment\":_vm.post}})],1)}\nvar PostCommentItem_staticRenderFns = []\nvar PostCommentItem_esExports = { render: PostCommentItem_render, staticRenderFns: PostCommentItem_staticRenderFns }\n/* harmony default export */ var post_PostCommentItem = (PostCommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/post/PostCommentItem.vue\nfunction PostCommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(261),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar PostCommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar PostCommentItem___vue_template_functional__ = false\n/* styles */\nvar PostCommentItem___vue_styles__ = PostCommentItem_injectStyle\n/* scopeId */\nvar PostCommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar PostCommentItem___vue_module_identifier__ = \"12ccefac\"\nvar PostCommentItem_Component = PostCommentItem_normalizeComponent(\n  PostCommentItem,\n  post_PostCommentItem,\n  PostCommentItem___vue_template_functional__,\n  PostCommentItem___vue_styles__,\n  PostCommentItem___vue_scopeId__,\n  PostCommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostCommentItem = (PostCommentItem_Component.exports);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostCommentForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostCommentForm = ({\n  name: \"PostCommentForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    id: {\n      type: Number,\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      forms: {\n        content: \"\"\n      },\n      rules: {\n        content: [{\n          required: true,\n          min: 1,\n          max: 1000,\n          message: \"内容不能为空，1000字以内\",\n          trigger: \"submit\"\n        }]\n      },\n      images: [],\n      exceed: 5\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    formatImages() {\n      return this.images.map(item => item.img);\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$refs.forms.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.$store.commit(\"comment/SET_SUBMITTING\", {\n            result: true\n          });\n\n          try {\n            const result = await this.$store.dispatch(\"comment/createMainComment\", {\n              content: this.forms.content,\n              images: this.formatImages,\n              type: \"post\",\n              id: this.id,\n              ctx: this\n            });\n            this.forms = {\n              content: \"\"\n            };\n            this.images = [];\n            this.$refs.uploader.clearFiles();\n            this.$toast.success(result.message);\n            this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n            setTimeout(() => {\n              const dom = document.getElementById(`comment-${result.data.id}`);\n              dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n            }, 400);\n          } catch (e) {\n            this.$toast.error(e);\n          } finally {\n            this.$store.commit(\"comment/SET_SUBMITTING\", {\n              result: false\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    handleRemove(file) {\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n    },\n\n    handleSuccess(res, file) {\n      this.images.push({\n        id: file.uid,\n        img: res.data\n      });\n    },\n\n    handleExceed() {\n      this.$toast.error(`最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    beforeUpload(file) {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.uploadConfig.max = 5;\n      this.uploadConfig.params = {\n        userId: this.$store.state.user.id,\n        id: this.id,\n        type: \"post\"\n      };\n      return this.beforeImageUpload(file);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11d92d70\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostCommentForm.vue\nvar PostCommentForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"forms\",staticClass:\"post-comment-form\",attrs:{\"model\":_vm.forms,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"content\"}},[_c('el-input',{attrs:{\"rows\":3,\"type\":\"textarea\",\"placeholder\":\"1000字以内\",\"resize\":\"vertical\"},model:{value:(_vm.forms.content),callback:function ($$v) {_vm.$set(_vm.forms, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"forms.content\"}})],1),_c('el-form-item',[_c('el-upload',{ref:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleImageUploadError,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"limit\":_vm.exceed,\"before-upload\":_vm.beforeUpload,\"multiple\":\"\",\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表评论\")])],1)],1)}\nvar PostCommentForm_staticRenderFns = []\nvar PostCommentForm_esExports = { render: PostCommentForm_render, staticRenderFns: PostCommentForm_staticRenderFns }\n/* harmony default export */ var post_PostCommentForm = (PostCommentForm_esExports);\n// CONCATENATED MODULE: ./src/components/post/PostCommentForm.vue\nfunction PostCommentForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(267),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar PostCommentForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar PostCommentForm___vue_template_functional__ = false\n/* styles */\nvar PostCommentForm___vue_styles__ = PostCommentForm_injectStyle\n/* scopeId */\nvar PostCommentForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar PostCommentForm___vue_module_identifier__ = \"2e4d7e46\"\nvar PostCommentForm_Component = PostCommentForm_normalizeComponent(\n  PostCommentForm,\n  post_PostCommentForm,\n  PostCommentForm___vue_template_functional__,\n  PostCommentForm___vue_styles__,\n  PostCommentForm___vue_scopeId__,\n  PostCommentForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostCommentForm = (PostCommentForm_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/post/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"PostShow\",\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    const only = route.query.only ? parseInt(route.query.only, 10) ? 1 : 0 : 0;\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"post/getPost\", {\n      id,\n      ctx,\n      only\n    }), store.dispatch(\"comment/getMainComments\", {\n      ctx,\n      id,\n      type: \"post\",\n      onlySeeMaster: only,\n      seeReplyId: route.query[\"comment-id\"]\n    })]);\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    PostCommentItem: components_post_PostCommentItem,\n    PostCommentForm: components_post_PostCommentForm,\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n\n  head() {\n    return {\n      title: `${this.post.title} - 帖子`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: this.$utils.truncate(this.post.content)\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `calibur,帖子,天下漫友是一家,${this.post.title},${this.bangumi.name}`\n      }]\n    };\n  },\n\n  data() {\n    return {\n      loadingToggleLike: false,\n      loadingToggleMark: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.post.info;\n    },\n\n    bangumi() {\n      return this.resource.bangumi;\n    },\n\n    post() {\n      return this.resource.post;\n    },\n\n    master() {\n      return this.resource.user;\n    },\n\n    total() {\n      return this.$store.state.comment.total + 1;\n    },\n\n    onlySeeMaster() {\n      return !!parseInt(this.$route.query.only, 10);\n    },\n\n    isMaster() {\n      if (!this.$store.state.login) {\n        return false;\n      }\n\n      return this.$store.state.user.id === this.master.id;\n    }\n\n  },\n  methods: {\n    scrollToReplyForm() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      const wrap = document.getElementById(\"bottom-comment-post-form\");\n\n      if (wrap) {\n        this.$scrollToY(this.$utils.getOffsetTop(wrap), 400);\n        wrap.querySelector(\"textarea\").focus();\n      }\n    },\n\n    switchOnlyMaster() {\n      window.location = this.$alias.post(this.post.id, {\n        only: this.onlySeeMaster ? 0 : 1\n      });\n    },\n\n    deletePost() {\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        await this.$store.dispatch(\"post/deletePost\", {\n          ctx: this,\n          id: this.post.id\n        });\n        window.location = this.$alias.bangumi(this.bangumi.id);\n      }).catch(e => {\n        this.$toast.error(e);\n      });\n    },\n\n    async toggleLike() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMaster) {\n        this.$toast.info(\"不能赞赏自己的帖子\");\n        return;\n      }\n\n      if (this.loadingToggleLike) {\n        return;\n      }\n\n      this.loadingToggleLike = true;\n\n      try {\n        const result = await this.$store.dispatch(\"post/toggleLike\", {\n          ctx: this,\n          id: this.post.id\n        });\n\n        if (result) {\n          this.$store.commit(\"USE_COIN\");\n        }\n      } catch (err) {\n        this.$toast.error(err);\n      } finally {\n        this.loadingToggleLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMaster) {\n        this.$toast.info(\"不能收藏自己的帖子\");\n        return;\n      }\n\n      if (this.loadingToggleMark) {\n        return;\n      }\n\n      this.loadingToggleMark = true;\n\n      try {\n        await this.$store.dispatch(\"post/toggleMark\", {\n          ctx: this,\n          id: this.post.id\n        });\n      } catch (err) {\n        this.$toast.error(err);\n      } finally {\n        this.loadingToggleMark = false;\n      }\n    },\n\n    handleBangumiFollow(result) {\n      this.$store.commit(\"post/FOLLOW_BANGUMI\", result);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf0e1c52\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/post/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"post-show\"}},[_c('v-header'),_c('v-layout',[_c('section',{attrs:{\"slot\":\"main\"},slot:\"main\"},[_c('header',[_c('div',{staticClass:\"title-wrap\"},[_c('div',{staticClass:\"control\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.switchOnlyMaster}},[_vm._v(_vm._s(_vm.onlySeeMaster ? '取消只看楼主' : '只看楼主'))]),_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.scrollToReplyForm}},[_vm._v(\"回复\")]),(_vm.isMaster)?_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.deletePost}},[_vm._v(\"删除\")]):_vm._e(),_c('span',{staticClass:\"floor\"},[_vm._v(\"共\"+_vm._s(_vm.total)+\"条\")])],1),(_vm.post.is_nice)?_c('div',{staticClass:\"nice_badge\"},[_vm._v(\"精\")]):_vm._e(),(_vm.post.is_creator)?_c('div',{staticClass:\"creator_badge\"},[_vm._v(\"原创\")]):_vm._e(),_c('h1',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.post.title)}})])]),_c('main',[_c('el-row',{staticClass:\"post-main\"},[_c('div',{staticClass:\"user\"},[_c('user-card',{attrs:{\"id\":_vm.master.id,\"zone\":_vm.master.zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.master.avatar,\"size\":\"80\"}}),_c('p',{staticClass:\"nickname oneline\",domProps:{\"textContent\":_vm._s(_vm.master.nickname)}})],1)],1),_c('div',{staticClass:\"content\"},[_vm._l((_vm.post.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}),_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.post.content)}}),_c('social-panel',{attrs:{\"id\":_vm.post.id,\"is-creator\":_vm.post.is_creator,\"user-id\":_vm.master.id,\"liked\":_vm.post.liked,\"marked\":_vm.post.marked,\"rewarded\":_vm.post.rewarded,\"reward-users\":_vm.post.reward_users,\"like-users\":_vm.post.like_users,\"mark-users\":_vm.post.mark_users,\"type\":\"post\"}}),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"info-bar\"},[_c('span',{staticClass:\"footer-item\"},[_vm._v(\"1楼\")]),_c('v-time',{staticClass:\"footer-item\",model:{value:(_vm.post.created_at),callback:function ($$v) {_vm.$set(_vm.post, \"created_at\", $$v)},expression:\"post.created_at\"}}),_c('report-dialog',{attrs:{\"id\":_vm.post.id,\"is-creator\":_vm.post.is_creator,\"type\":\"post\",\"title\":\"帖子违规举报\"}},[_vm._v(\"举报\")]),_c('v-share',{attrs:{\"desc\":_vm.post.desc,\"type\":\"panel\"}})],1)])],2)]),_c('comment-main',{attrs:{\"id\":_vm.post.id,\"only-see-master\":_vm.onlySeeMaster,\"master-id\":_vm.master.id,\"empty-text\":\"\",\"type\":\"post\"},scopedSlots:_vm._u([{key:\"comment-item\",fn:function(ref){\nvar comment = ref.comment;\nreturn _c('post-comment-item',{attrs:{\"post\":comment,\"master-id\":_vm.master.id}})}}])},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"}),_c('div',{attrs:{\"slot\":\"reply\",\"id\":\"bottom-comment-post-form\"},slot:\"reply\"},[_c('post-comment-form',{attrs:{\"id\":_vm.post.id,\"master-id\":_vm.master.id}})],1)])],1)]),_c('aside',{attrs:{\"slot\":\"aside\"},slot:\"aside\"},[_c('v-bangumi-panel',{staticClass:\"bangumi-panel\",attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed,\"summary\":_vm.bangumi.summary},on:{\"follow\":_vm.handleBangumiFollow}})],1)])],1)}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var post_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/post/show.vue\nfunction show_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(259),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = show_injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"d59f448a\"\nvar show_Component = show_normalizeComponent(\n  show,\n  post_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_post_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "8.server-bundle.js": "exports.ids = [8];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      const target = e.target;\n      const isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      let imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        const img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      let prevIndex;\n      let nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      const image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      const imageWidth = image.width;\n      const imageHeight = image.height;\n      const maxWidth = this.maxWidth;\n      const maxHeight = this.maxHeight;\n      let finalWidth;\n      let finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight;\n        const heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight;\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / widthRadio, 10);\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight;\n        finalWidth = parseInt(imageWidth / heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c25cc24\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(123),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4ba27814\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"585a4787\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview-3a_0 .container-GX_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_0 .bar-1K_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_0 .bar-1K_0.top-bar-1S_0{top:0}.image-preview-3a_0 .bar-1K_0.foot-bar-2c_0{bottom:0}.image-preview-3a_0 .wrap-13_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_0 .item-2Y_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_0 .top-bar-1S_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_0 .top-bar-1S_0 .close-ZW_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_0 .foot-bar-2c_0{text-align:center}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_0 .next-btn-30_0,.image-preview-3a_0 .prev-btn-1N_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_0 .next-btn-30_0 i,.image-preview-3a_0 .prev-btn-1N_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_0 .next-btn-30_0 i:hover,.image-preview-3a_0 .prev-btn-1N_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_0 .prev-btn-1N_0{left:0;text-align:left}.image-preview-3a_0 .next-btn-30_0{right:0;text-align:right}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_0\",\n\t\"imagePreview\": \"image-preview-3a_0\",\n\t\"container\": \"container-GX_0\",\n\t\"bar\": \"bar-1K_0\",\n\t\"top-bar\": \"top-bar-1S_0\",\n\t\"topBar\": \"top-bar-1S_0\",\n\t\"foot-bar\": \"foot-bar-2c_0\",\n\t\"footBar\": \"foot-bar-2c_0\",\n\t\"wrap\": \"wrap-13_0\",\n\t\"item\": \"item-2Y_0\",\n\t\"close\": \"close-ZW_0\",\n\t\"download\": \"download-3r_0\",\n\t\"prev-btn\": \"prev-btn-1N_0\",\n\t\"prevBtn\": \"prev-btn-1N_0\",\n\t\"next-btn\": \"next-btn-30_0\",\n\t\"nextBtn\": \"next-btn-30_0\"\n};\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/lists/Parts.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Parts = ({\n  name: \"VParts\",\n  props: {\n    list: {\n      type: Array,\n      required: true\n    },\n    alias: {\n      type: Function,\n      required: true\n    },\n    value: {\n      type: Boolean,\n      default: false\n    },\n    isFirst: {\n      type: Boolean,\n      default: true\n    },\n    forceAll: {\n      type: Boolean,\n      default: false\n    },\n    allData: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      maxWidth: 0,\n      take: 0,\n      part: 0,\n      page: 0,\n      showAll: this.value\n    };\n  },\n\n  computed: {\n    id() {\n      return parseInt(this.$route.params.id, 10);\n    },\n\n    filterList() {\n      if (this.forceAll || this.showAll) {\n        return this.list;\n      }\n\n      const begin = (this.page - 1) * this.take;\n      return this.list.slice(begin, begin + this.take);\n    },\n\n    showMoreBtn() {\n      return this.forceAll ? this.forceAll && this.isFirst : this.isFirst && this.take < this.list.length;\n    }\n\n  },\n  watch: {\n    value(val) {\n      this.showAll = val;\n    },\n\n    showAll(val) {\n      this.$emit(\"input\", val);\n    }\n\n  },\n\n  mounted() {\n    this.computeMaxWidth();\n    this.$watch(\"list\", () => {\n      this.computeMaxWidth();\n    });\n  },\n\n  methods: {\n    computeMaxWidth() {\n      let maxlength = 0;\n      this.allData.forEach(video => {\n        const templength = video.name.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n        if (maxlength < templength) {\n          maxlength = templength;\n        }\n      });\n      this.maxWidth = 46 + maxlength * 8;\n      this.$nextTick(() => {\n        this.computePage();\n      });\n    },\n\n    computePage() {\n      try {\n        this.take = Math.floor(this.$el.offsetWidth / (this.maxWidth + 8)) * 2;\n      } catch (e) {\n        this.take = 5;\n      }\n\n      this.list.forEach((item, index) => {\n        if (item.id === this.id) {\n          this.part = index + 1;\n        }\n      });\n      this.page = Math.ceil(this.part / this.take);\n    },\n\n    handleFilter() {\n      this.showAll = !this.showAll;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5381aa29\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/lists/Parts.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.maxWidth)?_c('ul',{staticClass:\"v-parts\"},[_vm._l((_vm.filterList),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.alias(item.id)))+(_vm._ssrClass(\"oneline\",{ 'active' : _vm.id === item.id }))+(_vm._ssrStyle(null,{ width: (_vm.maxWidth + \"px\") }, null))+\">\",\"</a>\",[_vm._t(\"default\",null,{item:item})],2)])}),_vm._ssrNode(((_vm.showMoreBtn)?(\"<button class=\\\"more\\\">\"+_vm._ssrEscape(\"\\n    \"+_vm._s(_vm.showAll ? '收起' : '展开')+\"\\n  \")+\"</button>\"):\"<!---->\"))],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var lists_Parts = (esExports);\n// CONCATENATED MODULE: ./src/components/lists/Parts.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(180),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"22b7876d\"\nvar Component = normalizeComponent(\n  Parts,\n  lists_Parts,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_lists_Parts = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(181);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"f5b29d5a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".v-parts{margin-bottom:5px;position:relative;padding-right:55px}.v-parts li{float:left;margin:0 8px 8px 0}.v-parts .more,.v-parts a{border:1px solid #ccd0d7;height:30px;color:#222;border-radius:4px;display:block;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;padding:0 15px 0 8px;font-size:14px;line-height:28px}.v-parts .more span,.v-parts a span{min-width:16px;margin-right:5px;display:inline-block;text-align:right}.v-parts .more:hover,.v-parts a:hover{border-color:#00b5e5;background-color:#00b5e5;color:#fff}.v-parts .more{position:absolute;right:0;top:0;width:50px;padding-right:8px;text-align:center}.v-parts .active{border-color:#00b5e5;background-color:#00b5e5;color:#fff!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(276);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"2a7c0a4e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-show .image-banner .panel{position:relative;top:100px;left:0;color:#fff;min-width:260px;max-width:500px;background-color:rgba(30,30,34,.8);padding:20px}#image-show .image-banner .panel h1{font-size:32px;font-weight:300;line-height:48px}#image-show .image-banner .panel p{margin-top:5px;line-height:20px}#image-show .image-banner .follow{position:absolute;right:20%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}#image-show .image-banner .v-share{position:absolute;right:40px;bottom:10px}#image-show nav{margin-bottom:20px}#image-show nav .breadcrumb{overflow:hidden}#image-show nav .edit-area{float:right}#image-show .images-wrap{margin-bottom:20px}#image-show .images-wrap .image-package{position:relative}#image-show .images-wrap .image-package .sort-btn{position:absolute;right:20px;width:50px;height:50px;font-size:30px;text-align:center;line-height:50px;background-color:rgba(0,0,0,.3);color:#fff;opacity:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;-webkit-box-shadow:0 0 1pc 1px hsla(0,0%,100%,.2);box-shadow:0 0 1pc 1px hsla(0,0%,100%,.2)}#image-show .images-wrap .image-package .sort-btn:hover{background-color:rgba(0,0,0,.6)}#image-show .images-wrap .image-package .delete-btn{left:20px;top:20px;right:auto}#image-show .images-wrap .image-package .to-prev{top:20px}#image-show .images-wrap .image-package .to-next{bottom:20px}#image-show .images-wrap .image-package:hover .sort-btn{opacity:1}#image-show .album-footer{min-height:260px;position:relative}#image-show .album-footer .publish-time{font-size:14px;color:#8590a6}#image-show .album-footer .publish-time .report-btn{float:right}#image-show .album-footer .v-parts{margin-top:20px}#image-show .album-footer .bangumi-panel{position:absolute;right:0;top:0}#image-show .no-image{text-align:center;margin-top:30px;margin-bottom:20px;color:#6d757a;font-size:13px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 389:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/components/lists/Parts.vue + 2 modules\nvar Parts = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/EditAlbumForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var EditAlbumForm = ({\n  name: \"EditAlbumForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    albumId: {\n      required: true,\n      type: Number\n    },\n    album: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      submitting: false,\n      form: {\n        id: this.albumId,\n        bangumi_id: this.bangumiId,\n        name: this.album.name,\n        is_cartoon: this.album.is_cartoon,\n        is_creator: this.album.is_creator,\n        part: this.album.part,\n        poster: this.album.source\n      }\n    };\n  },\n\n  computed: {\n    isCartoon() {\n      return this.form.is_cartoon;\n    },\n\n    currentUserId() {\n      return this.$store.state.user.id;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (!this.form.poster) {\n        this.$toast.error(\"必须选择一个封面\");\n        return;\n      }\n\n      const name = this.form.name;\n\n      if (!name) {\n        this.$toast.error(\"名字不能为空\");\n        return;\n      }\n\n      if (name.length > 30) {\n        this.$toast.error(\"名字不能超过 30 个字\");\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n      const api = new imageApi[\"a\" /* default */](this);\n\n      try {\n        await api.editAlbum(Object.assign({}, this.form, this.form.poster, {\n          url: this.form.poster.url.split(\"calibur.tv/\").pop()\n        }));\n        this.$toast.success(\"操作成功\");\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    },\n\n    beforePosterUpload(file) {\n      this.uploadConfig.max = 3;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/album`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAlbumUploadSuccess(res) {\n      this.form.poster = res.data;\n      this.$toast.success(\"封面上传成功\");\n    },\n\n    handlePosterRemove() {\n      this.form.poster = null;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67b92a13\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/EditAlbumForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"名字\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.isCartoon ? '填写这一话的名字' : '给相册起一个名字'},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),(_vm.isCartoon)?_c('el-form-item',{attrs:{\"label\":\"集数\",\"prop\":\"part\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.form.part),callback:function ($$v) {_vm.$set(_vm.form, \"part\", $$v)},expression:\"form.part\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"封面\",\"prop\":\"poster\"}},[(_vm.form.poster)?_c('img',{staticStyle:{\"width\":\"auto\"},attrs:{\"src\":_vm.$resize(_vm.form.poster.url),\"height\":\"200\"}}):_vm._e(),_c('el-upload',{ref:\"upload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.handleAlbumUploadSuccess,\"before-upload\":_vm.beforePosterUpload,\"on-remove\":_vm.handlePosterRemove,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"small\",\"round\":\"\"}},[_vm._v(\"选择封面\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_EditAlbumForm = (esExports);\n// CONCATENATED MODULE: ./src/components/image/EditAlbumForm.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7607283c\"\nvar Component = normalizeComponent(\n  EditAlbumForm,\n  image_EditAlbumForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_EditAlbumForm = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/EditImageForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var EditImageForm = ({\n  name: \"EditImageForm\",\n  props: {\n    image: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      submitting: false,\n      form: {\n        bangumi_id: this.image.bangumi_id,\n        name: this.image.name\n      }\n    };\n  },\n\n  methods: {\n    async submit() {\n      if (this.form.name.length > 30) {\n        this.$toast.error(\"名字最长 30 个字\");\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = false;\n      const api = new imageApi[\"a\" /* default */](this);\n\n      try {\n        await api.editSingleImage({\n          id: this.image.id,\n          name: this.form.name,\n          bangumi_id: this.form.bangumi_id\n        });\n        this.$toast.success(\"操作成功\");\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae005e8c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/EditImageForm.vue\nvar EditImageForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"placeholder\":\"给图片起个名字\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"番剧\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"clear\":false},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认编辑\")])],1)],1)}\nvar EditImageForm_staticRenderFns = []\nvar EditImageForm_esExports = { render: EditImageForm_render, staticRenderFns: EditImageForm_staticRenderFns }\n/* harmony default export */ var image_EditImageForm = (EditImageForm_esExports);\n// CONCATENATED MODULE: ./src/components/image/EditImageForm.vue\nvar EditImageForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar EditImageForm___vue_template_functional__ = false\n/* styles */\nvar EditImageForm___vue_styles__ = null\n/* scopeId */\nvar EditImageForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar EditImageForm___vue_module_identifier__ = \"5ec4a728\"\nvar EditImageForm_Component = EditImageForm_normalizeComponent(\n  EditImageForm,\n  image_EditImageForm,\n  EditImageForm___vue_template_functional__,\n  EditImageForm___vue_styles__,\n  EditImageForm___vue_scopeId__,\n  EditImageForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_EditImageForm = (EditImageForm_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/image/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"ImageShow\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"image/show\", {\n      ctx,\n      id\n    }), store.dispatch(\"comment/getMainComments\", {\n      ctx,\n      id,\n      type: \"image\",\n      seeReplyId: route.query[\"comment-id\"]\n    })]);\n  },\n\n  components: {\n    vParts: Parts[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    EditAlbumForm: components_image_EditAlbumForm,\n    EditImageForm: components_image_EditImageForm,\n    SocialPanel: SocialPanel[\"a\" /* default */],\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      loadingFollowAlbum: false,\n      loadingEditImages: false,\n      showAllPart: false,\n      openEditModal: false\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.image.show;\n    },\n\n    user() {\n      return this.info.user;\n    },\n\n    source() {\n      return this.info.source;\n    },\n\n    images() {\n      return this.info.images;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    cartoon() {\n      return [];\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.user.id === this.$store.state.user.id : false;\n    },\n\n    editable() {\n      return this.$store.state.login ? this.info.is_cartoon ? this.bangumi.is_master : this.user.id === this.$store.state.user.id : false;\n    },\n\n    albumType() {\n      if (!this.info.is_album) {\n        return \"图片\";\n      }\n\n      if (this.info.is_cartoon) {\n        return \"漫画\";\n      }\n\n      return \"相册\";\n    }\n\n  },\n  methods: {\n    handleFollowAction(result) {\n      this.$store.commit(\"image/SHOW_FOLLOW_BANGUMI\", {\n        result\n      });\n    },\n\n    async handleAlbumLike() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能为自己的相册点赞\");\n        return;\n      }\n\n      if (this.loadingFollowAlbum) {\n        return;\n      }\n\n      this.loadingFollowAlbum = true;\n\n      if (this.info.is_creator && !this.info.liked) {\n        this.$confirm(\"原创相册点赞需要金币, 是否继续?\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(() => {\n          this.submitLikeRequest();\n        }).catch(() => {});\n        return;\n      }\n\n      this.submitLikeRequest();\n    },\n\n    async submitLikeRequest() {\n      const api = new imageApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.toggleLike({\n          id: this.id\n        });\n        this.$store.commit(\"image/SHOW_TOGGLE_LIKE\", {\n          result\n        });\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingFollowAlbum = false;\n      }\n    },\n\n    async handleSortBtnClick(index, toNext) {\n      if (this.loadingEditImages) {\n        this.$toast.error(\"正在操作，请稍候...\");\n        return;\n      }\n\n      this.loadingEditImages = true;\n\n      try {\n        await this.$store.dispatch(\"image/sortAlbumImage\", {\n          prev: toNext ? index : index - 1,\n          next: toNext ? index + 1 : index,\n          ctx: this,\n          id: this.id\n        });\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingEditImages = false;\n      }\n    },\n\n    handleImageDelete(index) {\n      if (this.loadingEditImages) {\n        this.$toast.error(\"正在操作，请稍候...\");\n        return;\n      }\n\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        this.loadingEditImages = true;\n\n        try {\n          await this.$store.dispatch(\"image/deleteAlbumImage\", {\n            index,\n            ctx: this,\n            id: this.id\n          });\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingEditImages = false;\n        }\n      }).catch(e => {});\n    },\n\n    handleDeleteAlbum() {\n      this.$prompt(`请输入${this.albumType}的名字`, \"删除确认\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        if (value !== this.info.name) {\n          this.$toast.error(\"名字不对\");\n          return;\n        }\n\n        const api = new imageApi[\"a\" /* default */](this);\n        api.deleteAlbum({\n          id: this.info.id\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n          setTimeout(() => {\n            window.location.reload();\n          }, 1000);\n        }).catch(err => {\n          this.$toast.error(err);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9daca44\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/image/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('div',{attrs:{\"id\":\"image-show\"}},[(_vm.info.is_cartoon)?_c('v-header',{staticClass:\"image-banner\",attrs:{\"banner\":_vm.source.url,\"height\":\"400px\",\"type\":\"mask\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"panel\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"《\"+_vm._s(_vm.info.name)+\"》\")]),_c('p',{staticClass:\"author\"},[_vm._v(\"\\n          UP：\\n          \"),_c('a',{attrs:{\"href\":_vm.$alias.user(_vm.user.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(_vm.user.nickname)}}),_vm._v(\"\\n           · \\n          共：\"+_vm._s(_vm.info.image_count)+\"张\\n        \")])])]),_c('v-share',{attrs:{\"type\":\"panel\"}})],1):_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('nav',[(_vm.editable && _vm.isMine)?_c('div',{staticClass:\"edit-area\"},[_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.openEditModal = true}}},[_vm._v(\"\\n            编辑\\n          \")]),_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\",\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.handleDeleteAlbum}},[_vm._v(\"\\n            删除\\n          \")]),_c('v-dialog',{attrs:{\"title\":(\"编辑\" + _vm.albumType),\"footer\":false},model:{value:(_vm.openEditModal),callback:function ($$v) {_vm.openEditModal=$$v},expression:\"openEditModal\"}},[(_vm.info.is_album)?_c('edit-album-form',{attrs:{\"bangumi-id\":_vm.bangumi.id,\"album-id\":_vm.info.id,\"album\":_vm.info}}):_c('edit-image-form',{attrs:{\"image\":_vm.info}})],1)],1):_vm._e(),_c('h1',{staticClass:\"breadcrumb\"},[_c('a',{attrs:{\"href\":\"/\",\"target\":\"_blank\"}},[_vm._v(\"主站\")]),(_vm.bangumi)?_c('a',{attrs:{\"href\":_vm.$alias.bangumi(_vm.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(_vm.bangumi.name)}}):_vm._e(),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(_vm._s(_vm.albumType))]),_vm._v(\"\\n          \"+_vm._s(_vm.info.name)+\"\\n        \")])]),_c('div',{staticClass:\"images-wrap\"},[(_vm.info.is_album)?_c('image-preview',{attrs:{\"images\":_vm.images}},[_vm._l((_vm.images),function(img,idx){return _c('div',{key:img.id,staticClass:\"image-package\",attrs:{\"id\":(\"image-\" + (img.id))}},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}}),(_vm.editable)?[_c('button',{staticClass:\"sort-btn delete-btn el-icon-close\",on:{\"click\":function($event){_vm.handleImageDelete(idx)}}}),_c('button',{staticClass:\"sort-btn to-prev el-icon-caret-top\",on:{\"click\":function($event){_vm.handleSortBtnClick(idx, false)}}}),_c('button',{staticClass:\"sort-btn to-next el-icon-caret-bottom\",on:{\"click\":function($event){_vm.handleSortBtnClick(idx, true)}}})]:_vm._e()],2)}),(!_vm.info.image_count)?_c('p',{staticClass:\"no-image\"},[_vm._v(\"\\n            还没有上传图片\\n          \")]):_vm._e()],2):_c('image-preview',{attrs:{\"images\":[_vm.source]}},[_c('div',{staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.source.url,\"width\":_vm.source.width,\"height\":_vm.source.height,\"full\":true}})],1)])],1),_c('div',{staticClass:\"album-footer\"},[_c('div',{staticClass:\"publish-time\"},[_vm._v(\"\\n          UP：\\n          \"),_c('user-card',{attrs:{\"id\":_vm.user.id,\"zone\":_vm.user.zone}},[_vm._v(\"\\n            \"+_vm._s(_vm.user.nickname)+\"\\n          \")]),_vm._v(\"\\n           · \\n          \"),_c('span',[_vm._v(\"\\n            发布于：\"),_c('v-time',{model:{value:(_vm.info.created_at),callback:function ($$v) {_vm.$set(_vm.info, \"created_at\", $$v)},expression:\"info.created_at\"}})],1),_c('report-dialog',{attrs:{\"id\":_vm.id,\"type\":\"image\"}},[_vm._v(\"举报\")])],1),(_vm.info.is_cartoon)?_c('v-parts',{attrs:{\"list\":_vm.info.parts,\"alias\":_vm.$alias.image,\"all-data\":_vm.info.parts},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn _c('span',{},[_vm._v(\"\\n            \"+_vm._s(item.part)+\"：\"+_vm._s(item.name)+\"\\n          \")])}}]),model:{value:(_vm.showAllPart),callback:function ($$v) {_vm.showAllPart=$$v},expression:\"showAllPart\"}}):_vm._e(),_c('social-panel',{attrs:{\"id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"user-id\":_vm.user.id,\"liked\":_vm.info.liked,\"marked\":_vm.info.marked,\"rewarded\":_vm.info.rewarded,\"like-users\":_vm.info.like_users,\"reward-users\":_vm.info.reward_users,\"mark-users\":_vm.info.mark_users,\"type\":\"image\"}})],1),_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.user.id,\"type\":\"image\"}})],1),_c('template',{slot:\"aside\"},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"所属番剧\")]),_c('v-bangumi-panel',{staticClass:\"bangumi-panel\",attrs:{\"id\":_vm.bangumi.id,\"name\":_vm.bangumi.name,\"avatar\":_vm.bangumi.avatar,\"summary\":_vm.bangumi.summary,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleFollowAction}})],1)],2)],1):_vm._e()}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var image_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/image/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(275),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"0c98fe12\"\nvar show_Component = show_normalizeComponent(\n  show,\n  image_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_image_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "9.server-bundle.js": "exports.ids = [9];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/lists/Parts.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Parts = ({\n  name: \"VParts\",\n  props: {\n    list: {\n      type: Array,\n      required: true\n    },\n    alias: {\n      type: Function,\n      required: true\n    },\n    value: {\n      type: Boolean,\n      default: false\n    },\n    isFirst: {\n      type: Boolean,\n      default: true\n    },\n    forceAll: {\n      type: Boolean,\n      default: false\n    },\n    allData: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      maxWidth: 0,\n      take: 0,\n      part: 0,\n      page: 0,\n      showAll: this.value\n    };\n  },\n\n  computed: {\n    id() {\n      return parseInt(this.$route.params.id, 10);\n    },\n\n    filterList() {\n      if (this.forceAll || this.showAll) {\n        return this.list;\n      }\n\n      const begin = (this.page - 1) * this.take;\n      return this.list.slice(begin, begin + this.take);\n    },\n\n    showMoreBtn() {\n      return this.forceAll ? this.forceAll && this.isFirst : this.isFirst && this.take < this.list.length;\n    }\n\n  },\n  watch: {\n    value(val) {\n      this.showAll = val;\n    },\n\n    showAll(val) {\n      this.$emit(\"input\", val);\n    }\n\n  },\n\n  mounted() {\n    this.computeMaxWidth();\n    this.$watch(\"list\", () => {\n      this.computeMaxWidth();\n    });\n  },\n\n  methods: {\n    computeMaxWidth() {\n      let maxlength = 0;\n      this.allData.forEach(video => {\n        const templength = video.name.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n        if (maxlength < templength) {\n          maxlength = templength;\n        }\n      });\n      this.maxWidth = 46 + maxlength * 8;\n      this.$nextTick(() => {\n        this.computePage();\n      });\n    },\n\n    computePage() {\n      try {\n        this.take = Math.floor(this.$el.offsetWidth / (this.maxWidth + 8)) * 2;\n      } catch (e) {\n        this.take = 5;\n      }\n\n      this.list.forEach((item, index) => {\n        if (item.id === this.id) {\n          this.part = index + 1;\n        }\n      });\n      this.page = Math.ceil(this.part / this.take);\n    },\n\n    handleFilter() {\n      this.showAll = !this.showAll;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5381aa29\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/lists/Parts.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.maxWidth)?_c('ul',{staticClass:\"v-parts\"},[_vm._l((_vm.filterList),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.alias(item.id)))+(_vm._ssrClass(\"oneline\",{ 'active' : _vm.id === item.id }))+(_vm._ssrStyle(null,{ width: (_vm.maxWidth + \"px\") }, null))+\">\",\"</a>\",[_vm._t(\"default\",null,{item:item})],2)])}),_vm._ssrNode(((_vm.showMoreBtn)?(\"<button class=\\\"more\\\">\"+_vm._ssrEscape(\"\\n    \"+_vm._s(_vm.showAll ? '收起' : '展开')+\"\\n  \")+\"</button>\"):\"<!---->\"))],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var lists_Parts = (esExports);\n// CONCATENATED MODULE: ./src/components/lists/Parts.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(180),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"22b7876d\"\nvar Component = normalizeComponent(\n  Parts,\n  lists_Parts,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_lists_Parts = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(181);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"f5b29d5a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".v-parts{margin-bottom:5px;position:relative;padding-right:55px}.v-parts li{float:left;margin:0 8px 8px 0}.v-parts .more,.v-parts a{border:1px solid #ccd0d7;height:30px;color:#222;border-radius:4px;display:block;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;padding:0 15px 0 8px;font-size:14px;line-height:28px}.v-parts .more span,.v-parts a span{min-width:16px;margin-right:5px;display:inline-block;text-align:right}.v-parts .more:hover,.v-parts a:hover{border-color:#00b5e5;background-color:#00b5e5;color:#fff}.v-parts .more{position:absolute;right:0;top:0;width:50px;padding-right:8px;text-align:center}.v-parts .active{border-color:#00b5e5;background-color:#00b5e5;color:#fff!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(239);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"fa61bbb2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#video-show #video-metas{margin-bottom:20px;overflow:hidden;position:relative;min-height:30px;padding-right:60px}#video-show #video-metas .season-title{padding-bottom:10px;margin-left:10px}#video-show .video-info{padding-top:60px;margin-bottom:20px}#video-show .video-info .v-share{height:40px;float:right}#video-show .video-info .video-report{margin-right:15px;margin-top:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(241);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"d82e0f20\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vue-pwa-video{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%!important;position:relative;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);min-height:400px;background-color:#000;z-index:0}.vue-pwa-video #video-wrap{width:100%;height:100%}.vue-pwa-video .not-play-screen{position:absolute;left:0;top:0;width:100%;height:100%;color:#fff;text-align:center;z-index:999;overflow:hidden}.vue-pwa-video .not-play-screen p{width:100%;margin-top:150px;line-height:24px}.vue-pwa-video .not-play-screen a{display:inline-block;border-radius:5px;border:1px solid #fff;padding:10px 15px;margin:20px 8px 0}.vue-pwa-video .not-play-screen a:hover{background-color:hsla(0,0%,100%,.3)}.vue-pwa-video container{position:relative;display:block;width:100%;height:100%}.vue-pwa-video video{width:100%;height:100%;display:block;background-color:#000;cursor:pointer}.vue-pwa-video .hidden-cursor{cursor:none}.vue-pwa-video video:active,.vue-pwa-video video:focus{outline:none}.vue-pwa-video chimee-control{overflow:visible!important;visibility:visible!important}.vue-pwa-video chimee-control-wrap{width:100%;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1)}.vue-pwa-video .chimee-control-fixed container chimee-control chimee-control-wrap{bottom:-40px!important}.vue-pwa-video chimee-progresstime{color:#99a2aa!important;font-size:13px;margin-right:10px}.vue-pwa-video chimee-volume-bar{margin-top:-2px}.vue-pwa-video chimee-next{margin-left:10px;margin-right:5px}.vue-pwa-video chimee-next i{color:#99a2aa;font-size:22px}.vue-pwa-video chimee-next i:hover{color:#6d757a}.vue-pwa-video chimee-progressbar-all,.vue-pwa-video chimee-volume-bar-all{background-color:#00a1d6!important}.vue-pwa-video chimee-progressbar-buffer{background-color:#00b5e5}.vue-pwa-video chimee-progressbar-ball,.vue-pwa-video chimee-volume-bar-all:after{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.4);box-shadow:0 1px 3px rgba(0,0,0,.4);width:14px!important;height:14px!important}.vue-pwa-video .chimee-progressbar-line,.vue-pwa-video chimee-volume-bar-all,.vue-pwa-video chimee-volume-bar-bg{height:6px!important;border-radius:4px}.vue-pwa-video chimee-center-state-loading{-webkit-box-sizing:content-box;box-sizing:content-box}.vue-pwa-video chimee-volume-bar-all:after{top:-4px}.vue-pwa-video chimee-progressbar-tip{background-color:#e5e9ef;color:#6b6b6b;font-size:12px}.vue-pwa-video chimee-playbackrate{width:3em!important;margin-left:-5px;margin-right:10px;padding:0}.vue-pwa-video chimee-playbackrate chimee-playbackrate-text{color:#6b6b6b}.vue-pwa-video chimee-control-state{margin-right:0}.vue-pwa-video chimee-volume-state{margin-right:4px}.vue-pwa-video chimee-progressbar-bg,.vue-pwa-video chimee-volume-bar-bg{background-color:#e5e9ef!important}.vue-pwa-video chimee-center-state-error{color:#fff!important;font-size:16px!important;text-shadow:none;font-weight:400}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 372:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/videoApi.js\nvar videoApi = __webpack_require__(18);\n\n// EXTERNAL MODULE: external \"chimee\"\nvar external__chimee_ = __webpack_require__(86);\nvar external__chimee__default = /*#__PURE__*/__webpack_require__.n(external__chimee_);\n\n// EXTERNAL MODULE: external \"chimee-plugin-controlbar\"\nvar external__chimee_plugin_controlbar_ = __webpack_require__(87);\nvar external__chimee_plugin_controlbar__default = /*#__PURE__*/__webpack_require__.n(external__chimee_plugin_controlbar_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Video.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var Video = ({\n  name: \"VVideo\",\n  props: {\n    source: {\n      type: [String, Object],\n      default: \"\",\n      required: true\n    },\n    otherSrc: {\n      type: Boolean,\n      required: true\n    },\n    keyboard: {\n      type: Boolean,\n      default: true\n    },\n    cover: {\n      type: Boolean,\n      default: false\n    },\n    screenclick: {\n      type: Boolean,\n      default: true\n    },\n    showvioce: {\n      type: Boolean,\n      default: true\n    },\n    next: {\n      type: String,\n      default: \"\"\n    },\n    debug: {\n      type: Boolean,\n      default: false\n    },\n    isGuest: {\n      required: true,\n      type: Boolean\n    },\n    blocked: {\n      required: true,\n      type: Boolean\n    },\n    poster: {\n      type: String,\n      default: \"\"\n    },\n    mustReward: {\n      type: Boolean,\n      default: false\n    },\n    needMinLevel: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      player: null,\n      notMove: false,\n      timer: 0,\n      isFull: false\n    };\n  },\n\n  computed: {\n    isFlv() {\n      return this.source.split(\"?\")[0].split(\".\").pop().toLowerCase() === \"flv\";\n    },\n\n    showLevelThrottle() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.exp.level < this.needMinLevel;\n      }\n\n      return true;\n    }\n\n  },\n\n  mounted() {\n    if (this.otherSrc || this.isGuest) {\n      return;\n    }\n\n    if (this.showLevelThrottle || this.mustReward) {\n      return;\n    }\n\n    external__chimee__default.a.install(external__chimee_plugin_controlbar__default.a);\n    new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 373)).then(chimeePluginCenterState => {\n      external__chimee__default.a.install(chimeePluginCenterState);\n\n      if (this.isFlv) {\n        new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 374)).then(module => {\n          this.initVideo({\n            flvKernel: module,\n            statePlugin: chimeePluginCenterState\n          });\n        });\n      } else {\n        this.initVideo({\n          flvKernel: null,\n          statePlugin: chimeePluginCenterState\n        });\n      }\n    });\n  },\n\n  methods: {\n    initVideo({\n      flvKernel,\n      statePlugin\n    }) {\n      const self = this;\n      this.player = new external__chimee__default.a({\n        wrapper: \"#video-wrap\",\n        src: this.source,\n        poster: this.poster,\n        controls: true,\n        autoplay: false,\n        kernels: flvKernel ? {\n          flv: flvKernel\n        } : {},\n        noDefaultContextMenu: true,\n        plugin: [{\n          name: external__chimee_plugin_controlbar__default.a.name,\n          majorColor: \"#99a2aa\",\n          hoverColor: \"#6d757a\",\n          children: self.next ? {\n            play: true,\n            next: {\n              tag: \"chimee-next\",\n              html: `<i class=\"iconfont icon-skip_next\"></i>`,\n              event: {\n                click() {\n                  window.location = self.next;\n                }\n\n              }\n            },\n            progressBar: {\n              layout: \"one-line\"\n            },\n            progressTime: true,\n            volume: true,\n            playbackrate: {\n              list: [{\n                name: \"0.5\",\n                value: 0.5\n              }, {\n                name: \"1.0\",\n                value: 1,\n                default: true\n              }, {\n                name: \"1.2\",\n                value: 1.2\n              }, {\n                name: \"2.0\",\n                value: 2\n              }]\n            },\n            screen: true\n          } : {\n            play: true,\n            progressBar: {\n              layout: \"one-line\"\n            },\n            progressTime: true,\n            volume: true,\n            playbackrate: {\n              list: [{\n                name: \"0.5\",\n                value: 0.5\n              }, {\n                name: \"1.0\",\n                value: 1,\n                default: true\n              }, {\n                name: \"1.2\",\n                value: 1.2\n              }, {\n                name: \"2.0\",\n                value: 2\n              }]\n            },\n            screen: true\n          }\n        }, {\n          name: statePlugin.name\n        }]\n      });\n      this.player.on(\"playing\", () => {\n        this.$emit(\"playing\");\n      });\n      document.addEventListener(\"fullscreenchange\", () => {\n        this.handleFullScreen();\n      });\n      document.addEventListener(\"mozfullscreenchange\", () => {\n        this.handleFullScreen();\n      });\n      document.addEventListener(\"webkitfullscreenchange\", () => {\n        this.handleFullScreen();\n      });\n      document.addEventListener(\"msfullscreenchange\", () => {\n        this.handleFullScreen();\n      });\n    },\n\n    cursorMoveFunc() {\n      this.notMove = false;\n      document.getElementsByTagName(\"video\")[0].classList.remove(\"hidden-cursor\");\n    },\n\n    handleFullScreen() {\n      const isFull = this.checkIsFullScreen();\n      this.isFull = isFull;\n      const video = document.getElementsByTagName(\"video\")[0];\n\n      if (isFull) {\n        document.body.addEventListener(\"mousemove\", this.cursorMoveFunc);\n        setInterval(() => {\n          this.notMove = true;\n          setTimeout(() => {\n            if (this.notMove && this.checkIsFullScreen()) {\n              video.classList.add(\"hidden-cursor\");\n            }\n          }, 1000);\n        }, 2000);\n      } else {\n        video.classList.remove(\"hidden-cursor\");\n        document.body.removeEventListener(\"mousemove\", this.cursorMoveFunc);\n\n        if (this.timer) {\n          clearInterval(this.timer);\n        }\n      }\n    },\n\n    checkIsFullScreen() {\n      return !!(this.invokeFieldOrMethod(document, \"FullScreen\") || this.invokeFieldOrMethod(document, \"IsFullScreen\") || document.IsFullScreen);\n    },\n\n    invokeFieldOrMethod(ele, method) {\n      let usablePrefixMethod;\n      [\"webkit\", \"moz\", \"ms\", \"o\", \"\"].forEach(function (prefix) {\n        if (usablePrefixMethod) return;\n\n        if (prefix === \"\") {\n          method = method.slice(0, 1).toLowerCase() + method.slice(1);\n        }\n\n        let typePrefixMethod = typeof ele[prefix + method];\n\n        if (typePrefixMethod + \"\" !== \"undefined\") {\n          if (typePrefixMethod === \"function\") {\n            usablePrefixMethod = ele[prefix + method]();\n          } else {\n            usablePrefixMethod = ele[prefix + method];\n          }\n        }\n      });\n      return usablePrefixMethod;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2beaa676\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Video.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-pwa-video\"},[_vm._ssrNode(((!_vm.source)?(\"<div class=\\\"not-play-screen\\\"><p>这个资源消失了_〆(´Д｀ )</p></div>\"):(_vm.otherSrc)?(\"<div class=\\\"not-play-screen\\\"><p>应版权方要求 (⇀‸↼‶)，该视频暂不提供站内播放</p><a\"+(_vm._ssrAttr(\"href\",_vm.source))+\" target=\\\"_blank\\\">播放链接</a></div>\"):(_vm.isGuest)?(\"<div class=\\\"not-play-screen\\\"><p>流量压力太大了 (ಥ_ಥ)，需要登录才能看番</p><a>立即登录</a></div>\"):(_vm.blocked)?(\"<div class=\\\"not-play-screen\\\"><p>\\n      由于你消耗的视频流量过高，被系统判定为机器人恶意攻击，已被禁止看视频功能\\n      <br>\\n      如果看到这条信息，代表你不是机器人，那么请加官方QQ群，帮你解禁\\n    </p><a href=\\\"https://www.calibur.tv/post/2282\\\" target=\\\"_blank\\\">  为什么要限流？</a><a href=\\\"/about/hello\\\" target=\\\"_blank\\\">查看加群方式</a></div>\"):(_vm.mustReward)?(\"<div class=\\\"not-play-screen\\\"><p>\\n      由于站内视频流量过大，站长资金难以维持，该视频需要投食之后才能播放\\n      <br>\\n      金币可通过签到等方式获得\\n    </p><a href=\\\"https://www.calibur.tv/post/2282\\\" target=\\\"_blank\\\">  为什么要限流？</a><a href=\\\"/about/hello\\\" target=\\\"_blank\\\">  什么是金币？</a></div>\"):(_vm.showLevelThrottle)?(\"<div class=\\\"not-play-screen\\\"><p>\"+_vm._ssrEscape(\"\\n      由于站内视频流量过大，站长资金难以维持，该视频需要你的等级至少 \"+_vm._s(_vm.needMinLevel)+\" 才能播放\\n    \")+\"</p><a href=\\\"https://www.calibur.tv/post/2282\\\" target=\\\"_blank\\\">  为什么要限流？</a><a href=\\\"https://www.calibur.tv/post/2279\\\" target=\\\"_blank\\\">  如何升级？</a></div>\"):(\"<div id=\\\"video-wrap\\\"\"+(_vm._ssrClass(null,[_vm.isFull ? '' : 'chimee-control-fixed']))+\"></div>\")))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_Video = (esExports);\n// CONCATENATED MODULE: ./src/components/Video.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(240),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4332c0c2\"\nvar Component = normalizeComponent(\n  Video,\n  components_Video,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Video = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/lists/Parts.vue + 2 modules\nvar Parts = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/video/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"VideoShow\",\n\n  head() {\n    let resultPart = this.video.part;\n    let season = \"\";\n    let title = \"\";\n\n    if (this.season) {\n      this.list.forEach((videos, index) => {\n        videos.data.forEach(video => {\n          if (video.id === this.video.id) {\n            resultPart = video.part - videos.base;\n            season = this.season.name[index];\n          }\n        });\n      });\n    }\n\n    if (season) {\n      if (season === this.video.name) {\n        title = `${this.bangumi.name} : ${season} - 视频`;\n      } else {\n        title = `${this.bangumi.name} : ${season} : 第${resultPart}话 ${this.video.name} - 视频`;\n      }\n    } else {\n      title = `${this.bangumi.name} : 第${resultPart}话 ${this.video.name} - 视频`;\n    }\n\n    return {\n      title,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: this.bangumi.summary\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `${this.bangumi.name}，第${this.video.part}话，${this.video.name}，在线观看 动画片大全 动漫在线播放 日本动漫 好看的动漫 二次元网站`\n      }]\n    };\n  },\n\n  components: {\n    vVideo: src_components_Video,\n    vPart: Parts[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"video/getShow\", {\n      id,\n      ctx\n    }), store.dispatch(\"comment/getMainComments\", {\n      ctx,\n      id,\n      type: \"video\",\n      seeReplyId: route.query[\"comment-id\"]\n    })]);\n  },\n\n  data() {\n    return {\n      showAll: false,\n      firstPlay: true\n    };\n  },\n\n  computed: {\n    id() {\n      return parseInt(this.$route.params.id, 10);\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    videoPackage() {\n      return this.$store.state.video;\n    },\n\n    video() {\n      return this.videoPackage.info;\n    },\n\n    list() {\n      return this.videoPackage.list.videos;\n    },\n\n    videos() {\n      if (!this.season) {\n        return this.list[0].data;\n      }\n\n      let result = [];\n      this.list.forEach(videos => {\n        result = result.concat(videos.data);\n      });\n      return result;\n    },\n\n    bangumi() {\n      return this.videoPackage.bangumi;\n    },\n\n    season() {\n      return this.$store.state.video.season;\n    },\n\n    nextPartVideo() {\n      let nextId = 0;\n      this.videos.forEach((video, index) => {\n        if (video.id === this.id && index !== this.videos.length - 1) {\n          nextId = this.videos[index + 1].id;\n        }\n      });\n      return nextId ? this.$alias.video(nextId) : \"\";\n    },\n\n    useOtherSiteSource() {\n      return this.video.other_site;\n    },\n\n    computeVideoSrc() {\n      return this.video.src;\n    }\n\n  },\n  methods: {\n    handlePlaying() {\n      if (this.firstPlay) {\n        this.firstPlay = false;\n        const api = new videoApi[\"a\" /* default */](this);\n        api.playing(this.id);\n      }\n    },\n\n    handleVideoReportClick() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 4,\n        desc: `【PC】-《${this.bangumi.name}》视频有错误，视频 id：${this.id}：错误详情为：{?}`,\n        placeholder: \"请填写错误详情\"\n      });\n    },\n\n    handleFollowAction(result) {\n      this.$store.commit(\"video/FOLLOW_ALBUM_BANGUMI\", {\n        result\n      });\n    },\n\n    handleRewardAction() {\n      if (this.videoPackage.mustReward) {\n        window.location.reload();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dd5a452e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/video/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"video-show\"}},[_c('v-header'),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<nav>\"+((_vm.bangumi && _vm.video)?(\"<h1 class=\\\"breadcrumb\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.index))+\" target=\\\"_blank\\\">主站</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.bangumi.id)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.bangumi.name))+\"</a>\"+_vm._ssrEscape(\"\\n        第\"+_vm._s(_vm.video.part)+\"话 \"+_vm._s(_vm.video.name)+\"\\n      \")+\"</h1>\"):\"<!---->\")+\"</nav>\"),_vm._ssrNode(\"<div id=\\\"video-metas\\\" class=\\\"container\\\">\",\"</div>\",[(_vm.season && _vm.showAll)?_vm._l((_vm.list),function(items,idx){return _vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<h6 class=\\\"season-title\\\">\"+_vm._ssrEscape(_vm._s(_vm.season.name[idx]))+\"</h6>\"),_c('v-part',{attrs:{\"list\":items.data,\"alias\":_vm.$alias.video,\"is-first\":idx === 0,\"force-all\":true,\"all-data\":_vm.videos},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(item.part - items.base))]),_vm._v(_vm._s(item.name)+\"\\n            \")]}}]),model:{value:(_vm.showAll),callback:function ($$v) {_vm.showAll=$$v},expression:\"showAll\"}})],2)}):_c('v-part',{attrs:{\"list\":_vm.videos,\"all-data\":_vm.videos,\"alias\":_vm.$alias.video},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s(item.part))]),_vm._v(_vm._s(item.name)+\"\\n        \")]}}]),model:{value:(_vm.showAll),callback:function ($$v) {_vm.showAll=$$v},expression:\"showAll\"}})],2),_c('v-layout',[_c('template',{slot:\"main\"},[_c('v-video',{attrs:{\"source\":_vm.computeVideoSrc,\"other-src\":_vm.useOtherSiteSource,\"video\":((_vm.bangumi.name) + \" 第 \" + (_vm.video.part) + \" 话 \" + (_vm.video.name)),\"poster\":_vm.$resize(_vm.video.poster, { width: 800 }),\"next\":_vm.nextPartVideo,\"is-guest\":_vm.isGuest,\"blocked\":_vm.videoPackage.blocked,\"must-reward\":_vm.videoPackage.mustReward && !_vm.video.rewarded,\"need-min-level\":_vm.videoPackage.needMinLevel},on:{\"playing\":_vm.handlePlaying}}),_c('div',{staticClass:\"video-info\"},[_c('social-panel',{attrs:{\"id\":_vm.video.id,\"is-creator\":_vm.video.is_creator,\"user-id\":_vm.video.user_id,\"liked\":_vm.video.liked,\"marked\":_vm.video.marked,\"rewarded\":_vm.video.rewarded,\"reward-users\":_vm.video.reward_users,\"like-users\":_vm.video.like_users,\"mark-users\":_vm.video.mark_users,\"type\":\"video\"},on:{\"reward-callback\":_vm.handleRewardAction}}),_c('v-share',{attrs:{\"type\":\"panel\"}}),_c('el-button',{staticClass:\"video-report\",attrs:{\"type\":\"warning\",\"size\":\"medium\",\"round\":\"\"},on:{\"click\":_vm.handleVideoReportClick}},[_vm._v(\"资源报错\")])],1),_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.video.user_id,\"type\":\"video\"}})],1),_c('template',{slot:\"aside\"},[_c('v-bangumi-panel',{staticClass:\"bangumi-panel\",attrs:{\"id\":_vm.bangumi.id,\"name\":_vm.bangumi.name,\"avatar\":_vm.bangumi.avatar,\"summary\":_vm.bangumi.summary,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleFollowAction}})],1)],2)],2)],1)}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var video_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/video/show.vue\nfunction show_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(238),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = show_injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"42fa16f2\"\nvar show_Component = show_normalizeComponent(\n  show,\n  video_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_video_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ })\n\n};;",
    "10.server-bundle.js": "exports.ids = [10];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    },\n    userCommitPath: {\n      type: String,\n      default: \"\"\n    },\n    socialCommitPath: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loadingUsers: false,\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loadingReward) {\n          return;\n        }\n\n        this.loadingReward = true;\n        const api = new toggleApi[\"a\" /* default */](this);\n\n        try {\n          const result = await api.reward({\n            id: this.id,\n            type: this.type\n          });\n\n          if (result) {\n            this.$store.commit(\"USE_COIN\");\n          }\n\n          this.commitResult(\"reward\", result);\n          this.$emit(\"reward-callback\");\n          this.$toast.success(\"操作成功\");\n        } catch (e) {\n          this.$toast.error(e);\n        } finally {\n          this.loadingReward = false;\n        }\n      }).catch(() => {});\n    },\n\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能喜欢自己的内容\");\n        return;\n      }\n\n      if (this.loadingLike) {\n        return;\n      }\n\n      this.loadingLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"like\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingLike = false;\n      }\n    },\n\n    async toggleMark() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能收藏自己的内容\");\n        return;\n      }\n\n      if (this.loadingMark) {\n        return;\n      }\n\n      this.loadingMark = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.mark({\n          id: this.id,\n          type: this.type\n        });\n        this.commitResult(\"mark\", result);\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingMark = false;\n      }\n    },\n\n    async fetchUsers() {\n      if (this.loadingUsers) {\n        return;\n      }\n\n      this.loadingUsers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = this.isCreator ? \"reward\" : \"like\";\n\n      try {\n        const result = await api.users({\n          id: this.id,\n          type,\n          model: this.type,\n          take: this.take,\n          last_id: this.isCreator ? this.rewardUsers.list[this.rewardUsers.list.length - 1].id : this.likeUsers.list[this.likeUsers.list.length - 1].id\n        });\n        this.$store.commit(this.userCommitPath || `${this.type}/FETCH_SOCIAL_USERS`, {\n          id: this.id,\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n\n    commitResult(key, value) {\n      const user = this.$store.state.user;\n      const type = this.type;\n      this.$store.commit(this.socialCommitPath || `${type}/SOCIAL_TOGGLE`, {\n        id: this.id,\n        key,\n        value,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a417184\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"users\\\">\",\"</div>\",[(_vm.isCreator)?_c('ava-dialog',{attrs:{\"users\":_vm.rewardUsers.list,\"no-more\":_vm.rewardUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"投食的人\"}}):_c('ava-dialog',{attrs:{\"users\":_vm.likeUsers.list,\"no-more\":_vm.likeUsers.noMore,\"loading\":_vm.loadingUsers,\"fetch\":_vm.fetchUsers,\"title\":\"喜欢的人\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(115),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a516c308\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5ac15472\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".social-panel{margin:50px 0}.social-panel .buttons{text-align:center}.social-panel .users{margin-top:25px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(284);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"cb580bf2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#score-show .score-header .star-row:after,#score-show .score-header .star-row:before{content:\\\"\\\";clear:both;display:table}#score-show .score-header .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}#score-show .score-body{word-break:break-word!important;word-break:break-all}#score-show .score-header .control-btn{float:right;margin-top:3px;margin-right:15px}#score-show .score-header .total{float:right;font-weight:700;font-size:30px;letter-spacing:1px;color:#f90;margin-right:10px}#score-show .score-header .title{overflow:hidden;margin-top:0}#score-show .score-header .user{margin-bottom:20px;line-height:30px}#score-show .score-header .user .avatar{margin-right:10px;display:inline-block;vertical-align:middle}#score-show .score-header .star-row{margin-bottom:20px}#score-show .score-header .star-row .star-item{float:left;margin-right:60px;margin-bottom:10px}#score-show .score-header .star-row .star-item:nth-child(5n){margin-right:0}#score-show .score-header .star-row .star-item .label{font-size:13px;margin-bottom:3px;color:#6d757a}#score-show .score-body{margin-bottom:30px;font-size:16px;color:#222;line-height:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 392:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/score/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"ScoreShow\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"score/getShow\", {\n      ctx,\n      id\n    }), store.dispatch(\"comment/getMainComments\", {\n      ctx,\n      id,\n      type: \"score\",\n      seeReplyId: route.query[\"comment-id\"]\n    })]);\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    JsonContent: JsonContent[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n\n  data() {\n    const labelMap = {\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    return {\n      labelMap,\n      columns: Object.keys(labelMap),\n      loadingToggleLike: false\n    };\n  },\n\n  computed: {\n    info() {\n      const result = {};\n      Object.keys(this.$store.state.score.show).forEach(key => {\n        const value = this.$store.state.score.show[key];\n        result[key] = this.columns.indexOf(key) !== -1 ? +value : value;\n      });\n      return result;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    user() {\n      return this.info.user;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.user.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (this.loadingToggleLike) {\n        return;\n      }\n\n      this.loadingToggleLike = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.like({\n          type: \"score\",\n          id: this.info.id\n        });\n        this.$store.commit(\"score/LIKE_SCORE\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingToggleLike = false;\n      }\n    },\n\n    handleBangumiFollow(result) {\n      this.$store.commit(\"score/FOLLOW_BANGUMI\", result);\n    },\n\n    deleteScore() {\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        const api = new scoreApi[\"a\" /* default */](this);\n\n        try {\n          await api.delete({\n            id: this.info.id\n          });\n          this.$toast.success(\"操作成功\");\n          setTimeout(() => {\n            window.location.reload();\n          }, 1000);\n        } catch (e) {\n          this.$toast.error(e);\n        }\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66cd0338\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/score/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-show\"}},[_c('v-header'),(_vm.info)?_c('v-layout',[_c('template',{slot:\"main\"},[_c('div',{staticClass:\"score-header\"},[_c('div',[_c('div',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.info.total)+\"分\")]),(_vm.isMine)?[_c('el-button',{staticClass:\"control-btn\",attrs:{\"round\":\"\",\"plain\":\"\",\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.deleteScore}},[_vm._v(\"删除\")]),_c('a',{attrs:{\"href\":_vm.$alias.editScore(_vm.info.id)}},[_c('el-button',{staticClass:\"control-btn\",attrs:{\"round\":\"\",\"plain\":\"\",\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"编辑\")])],1)]:_vm._e(),_c('div',{staticClass:\"title\"},[_c('h1',{staticClass:\"sub-title\",domProps:{\"textContent\":_vm._s(_vm.info.title)}}),_c('div',{staticClass:\"user\"},[_vm._v(\"\\n              作者：\\n              \"),_c('user-card',{attrs:{\"id\":_vm.user.id,\"zone\":_vm.user.zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(_vm.user.nickname)}})],1),_vm._v(\"\\n               · \\n              发表于：\\n              \"),_c('el-tooltip',{attrs:{\"content\":_vm.info.published_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.info.published_at),callback:function ($$v) {_vm.$set(_vm.info, \"published_at\", $$v)},expression:\"info.published_at\"}})],1),(_vm.info.like_count)?[_vm._v(\"\\n                 · \\n                赞：\"+_vm._s(_vm.info.like_count)+\"\\n              \")]:_vm._e(),(_vm.info.comment_count)?[_vm._v(\"\\n                 · \\n                评论：\"+_vm._s(_vm.info.comment_count)+\"\\n              \")]:_vm._e(),_vm._v(\"\\n               · \\n              \"),_c('report-dialog',{attrs:{\"id\":_vm.info.id,\"type\":\"score\"}},[_vm._v(\"\\n                举报\\n              \")])],2)])],2),_c('div',{staticClass:\"star-row\"},_vm._l((_vm.columns),function(item,index){return _c('div',{key:index,staticClass:\"star-item\"},[_c('div',{staticClass:\"label\",domProps:{\"textContent\":_vm._s(_vm.labelMap[item])}}),_c('el-tooltip',{attrs:{\"content\":((_vm.info[item] * 2) + \"分\"),\"placement\":\"top\",\"effect\":\"dark\"}},[_c('el-rate',{attrs:{\"disabled\":\"\",\"allow-half\":\"\"},model:{value:(_vm.info[item]),callback:function ($$v) {_vm.$set(_vm.info, item, $$v)},expression:\"info[item]\"}})],1)],1)}))]),_c('div',{staticClass:\"score-body\"},[_c('json-content',{attrs:{\"content\":_vm.info.content}})],1),_c('social-panel',{attrs:{\"id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"user-id\":_vm.user.id,\"liked\":_vm.info.liked,\"marked\":_vm.info.marked,\"rewarded\":_vm.info.rewarded,\"reward-users\":_vm.info.reward_users,\"mark-users\":_vm.info.mark_users,\"like-users\":_vm.info.like_users,\"type\":\"score\"}}),_c('comment-main',{attrs:{\"id\":_vm.info.id,\"master-id\":_vm.user.id,\"type\":\"score\"}})],1),_c('template',{slot:\"aside\"},[_c('v-bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed,\"summary\":_vm.bangumi.summary},on:{\"follow\":_vm.handleBangumiFollow}})],1)],2):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var score_show = (esExports);\n// CONCATENATED MODULE: ./src/views/score/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(283),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5faf56bb\"\nvar Component = normalizeComponent(\n  show,\n  score_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_score_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "11.server-bundle.js": "exports.ids = [11];\nexports.modules = {\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      const target = e.target;\n      const isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      let imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        const img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      let prevIndex;\n      let nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      const image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      const imageWidth = image.width;\n      const imageHeight = image.height;\n      const maxWidth = this.maxWidth;\n      const maxHeight = this.maxHeight;\n      let finalWidth;\n      let finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight;\n        const heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight;\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / widthRadio, 10);\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight;\n        finalWidth = parseInt(imageWidth / heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c25cc24\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(123),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4ba27814\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"585a4787\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview-3a_0 .container-GX_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_0 .bar-1K_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_0 .bar-1K_0.top-bar-1S_0{top:0}.image-preview-3a_0 .bar-1K_0.foot-bar-2c_0{bottom:0}.image-preview-3a_0 .wrap-13_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_0 .item-2Y_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_0 .top-bar-1S_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_0 .top-bar-1S_0 .close-ZW_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_0 .foot-bar-2c_0{text-align:center}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_0 .next-btn-30_0,.image-preview-3a_0 .prev-btn-1N_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_0 .next-btn-30_0 i,.image-preview-3a_0 .prev-btn-1N_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_0 .next-btn-30_0 i:hover,.image-preview-3a_0 .prev-btn-1N_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_0 .prev-btn-1N_0{left:0;text-align:left}.image-preview-3a_0 .next-btn-30_0{right:0;text-align:right}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_0\",\n\t\"imagePreview\": \"image-preview-3a_0\",\n\t\"container\": \"container-GX_0\",\n\t\"bar\": \"bar-1K_0\",\n\t\"top-bar\": \"top-bar-1S_0\",\n\t\"topBar\": \"top-bar-1S_0\",\n\t\"foot-bar\": \"foot-bar-2c_0\",\n\t\"footBar\": \"foot-bar-2c_0\",\n\t\"wrap\": \"wrap-13_0\",\n\t\"item\": \"item-2Y_0\",\n\t\"close\": \"close-ZW_0\",\n\t\"download\": \"download-3r_0\",\n\t\"prev-btn\": \"prev-btn-1N_0\",\n\t\"prevBtn\": \"prev-btn-1N_0\",\n\t\"next-btn\": \"next-btn-30_0\",\n\t\"nextBtn\": \"next-btn-30_0\"\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostShowItem\",\n  components: {\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5f79ac2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-show-item\"},[_vm._ssrNode(\"<div class=\\\"header clearfix\\\">\",\"</div>\",[(_vm.item.user)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":32}})],1):(_vm.item.bangumi)?_c('el-tooltip',{attrs:{\"content\":_vm.item.bangumi.name,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"24\"}})],1)]):_vm._e(),_vm._ssrNode(\"<span class=\\\"time\\\">\",\"</span>\",[_vm._ssrNode(\"\\n      发表于: \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2),_vm._ssrNode(((_vm.item.top_at && _vm.bangumiId)?(\"<div class=\\\"top_badge\\\">置顶</div>\"):\"<!---->\")+((_vm.item.is_nice)?(\"<div class=\\\"nice_badge\\\">精</div>\"):\"<!---->\")+((_vm.item.is_creator)?(\"<div class=\\\"creator_badge\\\">原创</div>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"title oneline href-fade-blue\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</a>\")],2),_vm._ssrNode(((_vm.item.user)?(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\"+_vm._ssrEscape(\"\\n    :\\n    \"+_vm._s(_vm.item.desc)+\"\\n  \")+\"</p>\"):(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\">\"+_vm._ssrEscape(_vm._s(_vm.item.desc))+\"</p>\"))),(_vm.item.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",[_c('image-preview',{attrs:{\"images\":_vm.item.images,\"download\":false,\"query\":\"image-box\"}},_vm._l((_vm.item.images),function(image,index){return _c('div',{key:index,staticClass:\"image-box\"},[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)}))],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"counter\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.comment_count))+\"</span>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(((!_vm.bangumiId && !_vm.userZone)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\"):\"<!---->\")),_c('v-share',{attrs:{\"url\":_vm.$alias.post(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.desc,\"type\":\"button\"}}),_vm._ssrNode(\"<span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-dianzan1\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span>\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(129),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1214cb76\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(130);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4aa4607b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-show-item .header .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-show-item{float:none;padding:10px 10px 10px 65px;position:relative}.post-show-item:not(:last-child){border-bottom:1px dotted #e4e6eb}.post-show-item .header{position:relative;height:32px}.post-show-item .header .bangumi-avatar{display:block;float:left;margin-right:10px;margin-top:4px}.post-show-item .header .user-avatar{display:block;float:left;margin-right:7px}.post-show-item .header .title{font-size:14px;line-height:32px;display:block}.post-show-item .header .time{float:right;display:block;line-height:32px;color:#999;font-size:12px;margin-left:10px}.post-show-item .header .creator_badge,.post-show-item .header .nice_badge,.post-show-item .header .top_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:5px 5px 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.post-show-item .header .top_badge{background-color:#00a1d6}.post-show-item .header .nice_badge{background-color:#f25d8e}.post-show-item .header .creator_badge{background-color:#daa520}.post-show-item .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-show-item .content.min-height{min-height:44px}.post-show-item .content a{font-size:12px;line-height:22px;color:#262626;font-weight:600}.post-show-item .images{height:90px;overflow:hidden;margin-top:10px;margin-bottom:15px}.post-show-item .images .image-box{margin-right:10px;height:100%;position:relative;float:left}.post-show-item .images .image-box:after{content:\\\"\\\";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0}.post-show-item .images .image-box:hover:after{opacity:.1}.post-show-item .images .image-box img{height:100%;width:auto}.post-show-item .counter{position:absolute;left:0;top:12px;width:50px;height:30px;line-height:26px;font-size:12px;text-align:center;background-color:RGB(247,247,247);display:block;border:1px solid #e4e6eb;border-radius:3px}.post-show-item .footer{text-align:right;font-size:13px;color:#99a2aa}.post-show-item .footer .bangumi{float:left;font-size:12px;line-height:20px}.post-show-item .footer .v-share{display:inline-block}.post-show-item .footer .v-share .share-btn{color:#99a2aa;font-size:12px}.post-show-item .footer span{margin-left:15px}.post-show-item .footer i,.post-show-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      noScore: 0\n    };\n  },\n\n  computed: {\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-480210f4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.item.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('a',{attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{staticClass:\"bangumi-avatar\",attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}})],1),(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.noScore),callback:function ($$v) {_vm.noScore=$$v},expression:\"noScore\"}})],1)],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.score(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"content\\\"><div class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</div><div class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></a><div class=\\\"footer\\\"><span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8e2f1ac2\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"fa241dbc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".score-flow-item .header .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.score-flow-item{padding-bottom:15px;padding-top:20px}.score-flow-item:not(:last-child){border-bottom:1px solid #f4f5f7}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .created-at{float:right;color:#99a2aa;font-size:12px;line-height:30px}.score-flow-item .header .about{overflow:hidden}.score-flow-item .header .about .bangumi-avatar,.score-flow-item .header .about .user-avatar{display:inline-block;vertical-align:middle;margin-right:8px}.score-flow-item .header .about .bangumi-avatar{border-radius:3px;border:1px solid #e5e9ef}.score-flow-item .header .about .name{line-height:30px;font-size:12px;margin-right:20px}.score-flow-item .header .about .name,.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle}.score-flow-item .content{display:block}.score-flow-item .content .title{color:#212121;cursor:pointer;font-size:16px;line-height:30px;font-weight:700;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.score-flow-item .content .intro{font-size:14px;margin-top:8px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .content:hover .title{color:#00a1d6}.score-flow-item .footer{margin-top:16px;line-height:16px;color:#99a2aa}.score-flow-item .footer span{margin-right:15px}.score-flow-item .footer i,.score-flow-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee965ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"98\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover fr\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_c('user-card',{attrs:{\"id\":_vm.item.lover.id,\"zone\":_vm.item.lover.zone}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.item.lover.nickname)}}),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"size\":\"20\"}})],1)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n        粉丝:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        金币:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n      \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(135),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6ae7c1de\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(136);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3a80fbe1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cartoon-role-flow-item .summary .lover .image{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child){border-bottom:1px solid #f0f0f0}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item .avatar{float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .summary{overflow:hidden;height:100px}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:20px;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a;margin-top:20px}.cartoon-role-flow-item .summary .lover .image{display:inline-block;vertical-align:middle;margin-left:10px}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(286);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"35d80590\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#search-index .search-panel{margin-top:20px;margin-bottom:30px}#search-index .search-panel .search-input-wrap{width:650px;height:45px;margin:0 auto}#search-index .search-panel .search-input-wrap .search-input-text{border:2px solid #ccd0d7;border-radius:4px}#search-index .search-panel .search-input-wrap .search-input-text input{padding:11px 15px}#search-index .search-panel .search-input-wrap .search-input-btn{background-color:#00a1d6;color:#fff;font-size:16px;letter-spacing:2px;line-height:42px;text-align:center;width:90px;border-radius:4px;font-weight:700;margin-left:10px}#search-index .search-panel .search-input-wrap .search-input-btn:hover{background-color:#00b5e5}#search-index .search-panel .search-input-wrap .search-suggestions{width:549px;border:1px solid #ccd0d7;background-color:#fff;border-radius:4px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.16);box-shadow:0 2px 4px rgba(0,0,0,.16);top:110%;left:0}#search-index .search-panel .search-input-wrap .search-suggestions li.active,#search-index .search-panel .search-input-wrap .search-suggestions li:hover{background-color:#e5e9ef}#search-index .no-content{margin-top:30px}#search-index .load-more-btn{width:100%}#search-index .loading-wrap{position:relative;width:100%;height:100px}#search-index .loading-wrap .el-icon-loading{color:#00b5e5;font-size:24px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(288);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5c9df0b6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-user:after,.search-item-user:before{content:\\\"\\\";clear:both;display:table}.search-item-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.search-item-user{position:relative;padding:20px 0;border-bottom:1px solid #e5e9ef}.search-item-user .avatar{float:left;margin-right:12px}.search-item-user .intro{overflow:hidden}.search-item-user .intro .head{margin-bottom:12px}.search-item-user .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:22px;border-radius:100px;margin-right:12px;font-size:12px}.search-item-user .intro .head .nickname{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-user .intro .head .nickname:hover{color:#00b5e5}.search-item-user .intro .signature{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(290);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"43da7524\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-bangumi:after,.search-item-bangumi:before{content:\\\"\\\";clear:both;display:table}.search-item-bangumi{position:relative;padding:20px 0;border-bottom:1px solid #e5e9ef}.search-item-bangumi .in-common-avatar{float:left;margin-right:12px;width:90px;height:120px;border-radius:4px;overflow:hidden}.search-item-bangumi .in-common-avatar img{width:100%;height:100%}.search-item-bangumi .avatar{float:left;margin-right:12px;width:126px;height:168px;border-radius:4px;overflow:hidden}.search-item-bangumi .avatar img{width:100%;height:100%}.search-item-bangumi .intro{overflow:hidden}.search-item-bangumi .intro .head{margin-bottom:12px}.search-item-bangumi .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:22px;border-radius:100px;margin-right:12px;font-size:12px}.search-item-bangumi .intro .head .name{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-bangumi .intro .head .name:hover{color:#00b5e5}.search-item-bangumi .intro .summary{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(292);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"db0a56d4\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-video:after,.search-item-video:before{content:\\\"\\\";clear:both;display:table}.search-item-video{position:relative;padding:20px 0;border-bottom:1px solid #e5e9ef}.search-item-video .in-common-avatar{float:left;margin-right:12px;width:90px;height:56px;border-radius:4px;overflow:hidden}.search-item-video .in-common-avatar img{width:100%;height:100%}.search-item-video .avatar{float:left;margin-right:12px;width:160px;height:100px;border-radius:4px;overflow:hidden}.search-item-video .avatar img{width:100%;height:100%}.search-item-video .intro{overflow:hidden}.search-item-video .intro .head{margin-bottom:12px}.search-item-video .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:22px;border-radius:100px;margin-right:12px;font-size:12px}.search-item-video .intro .head .name{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-video .intro .head .name:hover{color:#00b5e5}.search-item-video .intro .summary{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/UserItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var UserItem = ({\n  name: \"SearchItemUser\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fba8a192\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/UserItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-user\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.zone)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"90\"}})],1),_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">用户</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.nickname))+\"</a></div><p class=\\\"signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.signature))+\"</p></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var flows_UserItem = (esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/UserItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(287),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"b50541d4\"\nvar Component = normalizeComponent(\n  UserItem,\n  flows_UserItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_UserItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/BangumiItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiItem = ({\n  name: \"SearchItemBangumi\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fd9e0d8a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/BangumiItem.vue\nvar BangumiItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-bangumi\"},[_vm._ssrNode(((_vm.inCommon)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"in-common-avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.avatar, { width: 180, height: 240 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"):(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.avatar, { width: 252, height: 336 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"))+\"<div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">番剧</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</a></div><p class=\\\"summary\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.summary))+\"</p></div>\")])}\nvar BangumiItem_staticRenderFns = []\nvar BangumiItem_esExports = { render: BangumiItem_render, staticRenderFns: BangumiItem_staticRenderFns }\n/* harmony default export */ var flows_BangumiItem = (BangumiItem_esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/BangumiItem.vue\nfunction BangumiItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(289),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiItem___vue_template_functional__ = false\n/* styles */\nvar BangumiItem___vue_styles__ = BangumiItem_injectStyle\n/* scopeId */\nvar BangumiItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiItem___vue_module_identifier__ = \"9c5b8638\"\nvar BangumiItem_Component = BangumiItem_normalizeComponent(\n  BangumiItem,\n  flows_BangumiItem,\n  BangumiItem___vue_template_functional__,\n  BangumiItem___vue_styles__,\n  BangumiItem___vue_scopeId__,\n  BangumiItem___vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_BangumiItem = (BangumiItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/VideoItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var VideoItem = ({\n  name: \"SearchItemVideo\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f74d867c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/VideoItem.vue\nvar VideoItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-video\"},[_vm._ssrNode(((_vm.inCommon)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"in-common-avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.poster, { width: 180, height: 102 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"):(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.poster, { width: 320, height: 200 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"))+\"<div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">视频</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</a></div><p class=\\\"summary\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.summary))+\"</p></div>\")])}\nvar VideoItem_staticRenderFns = []\nvar VideoItem_esExports = { render: VideoItem_render, staticRenderFns: VideoItem_staticRenderFns }\n/* harmony default export */ var flows_VideoItem = (VideoItem_esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/VideoItem.vue\nfunction VideoItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(291),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar VideoItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar VideoItem___vue_template_functional__ = false\n/* styles */\nvar VideoItem___vue_styles__ = VideoItem_injectStyle\n/* scopeId */\nvar VideoItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar VideoItem___vue_module_identifier__ = \"4da55bc6\"\nvar VideoItem_Component = VideoItem_normalizeComponent(\n  VideoItem,\n  flows_VideoItem,\n  VideoItem___vue_template_functional__,\n  VideoItem___vue_styles__,\n  VideoItem___vue_scopeId__,\n  VideoItem___vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_VideoItem = (VideoItem_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(134);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingAll.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingAll = ({\n  name: \"SearchNothingAll\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28f0bc2c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingAll.vue\nvar NothingAll_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-all\"},[_c('no-content')],1)}\nvar NothingAll_staticRenderFns = []\nvar NothingAll_esExports = { render: NothingAll_render, staticRenderFns: NothingAll_staticRenderFns }\n/* harmony default export */ var nothing_NothingAll = (NothingAll_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingAll.vue\nvar NothingAll_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingAll___vue_template_functional__ = false\n/* styles */\nvar NothingAll___vue_styles__ = null\n/* scopeId */\nvar NothingAll___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingAll___vue_module_identifier__ = \"d461d038\"\nvar NothingAll_Component = NothingAll_normalizeComponent(\n  NothingAll,\n  nothing_NothingAll,\n  NothingAll___vue_template_functional__,\n  NothingAll___vue_styles__,\n  NothingAll___vue_scopeId__,\n  NothingAll___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingAll = (NothingAll_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingUser.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingUser = ({\n  name: \"SearchNothingUser\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d27c6430\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingUser.vue\nvar NothingUser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-user\"},[_c('no-content')],1)}\nvar NothingUser_staticRenderFns = []\nvar NothingUser_esExports = { render: NothingUser_render, staticRenderFns: NothingUser_staticRenderFns }\n/* harmony default export */ var nothing_NothingUser = (NothingUser_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingUser.vue\nvar NothingUser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingUser___vue_template_functional__ = false\n/* styles */\nvar NothingUser___vue_styles__ = null\n/* scopeId */\nvar NothingUser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingUser___vue_module_identifier__ = \"a8babbd0\"\nvar NothingUser_Component = NothingUser_normalizeComponent(\n  NothingUser,\n  nothing_NothingUser,\n  NothingUser___vue_template_functional__,\n  NothingUser___vue_styles__,\n  NothingUser___vue_scopeId__,\n  NothingUser___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingUser = (NothingUser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingBangumi.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingBangumi = ({\n  name: \"SearchNothingBangumi\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c4a74c4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingBangumi.vue\nvar NothingBangumi_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-bangumi\"},[_c('no-content')],1)}\nvar NothingBangumi_staticRenderFns = []\nvar NothingBangumi_esExports = { render: NothingBangumi_render, staticRenderFns: NothingBangumi_staticRenderFns }\n/* harmony default export */ var nothing_NothingBangumi = (NothingBangumi_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingBangumi.vue\nvar NothingBangumi_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingBangumi___vue_template_functional__ = false\n/* styles */\nvar NothingBangumi___vue_styles__ = null\n/* scopeId */\nvar NothingBangumi___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingBangumi___vue_module_identifier__ = \"f7b96f48\"\nvar NothingBangumi_Component = NothingBangumi_normalizeComponent(\n  NothingBangumi,\n  nothing_NothingBangumi,\n  NothingBangumi___vue_template_functional__,\n  NothingBangumi___vue_styles__,\n  NothingBangumi___vue_scopeId__,\n  NothingBangumi___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingBangumi = (NothingBangumi_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingVideo.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingVideo = ({\n  name: \"SearchNothingVideo\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23ac561e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingVideo.vue\nvar NothingVideo_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-video\"},[_c('no-content')],1)}\nvar NothingVideo_staticRenderFns = []\nvar NothingVideo_esExports = { render: NothingVideo_render, staticRenderFns: NothingVideo_staticRenderFns }\n/* harmony default export */ var nothing_NothingVideo = (NothingVideo_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingVideo.vue\nvar NothingVideo_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingVideo___vue_template_functional__ = false\n/* styles */\nvar NothingVideo___vue_styles__ = null\n/* scopeId */\nvar NothingVideo___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingVideo___vue_module_identifier__ = \"068856fe\"\nvar NothingVideo_Component = NothingVideo_normalizeComponent(\n  NothingVideo,\n  nothing_NothingVideo,\n  NothingVideo___vue_template_functional__,\n  NothingVideo___vue_styles__,\n  NothingVideo___vue_scopeId__,\n  NothingVideo___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingVideo = (NothingVideo_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingPost.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingPost = ({\n  name: \"SearchNothingPost\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2379dd13\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingPost.vue\nvar NothingPost_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-post\"},[_c('no-content')],1)}\nvar NothingPost_staticRenderFns = []\nvar NothingPost_esExports = { render: NothingPost_render, staticRenderFns: NothingPost_staticRenderFns }\n/* harmony default export */ var nothing_NothingPost = (NothingPost_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingPost.vue\nvar NothingPost_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingPost___vue_template_functional__ = false\n/* styles */\nvar NothingPost___vue_styles__ = null\n/* scopeId */\nvar NothingPost___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingPost___vue_module_identifier__ = \"2eb84726\"\nvar NothingPost_Component = NothingPost_normalizeComponent(\n  NothingPost,\n  nothing_NothingPost,\n  NothingPost___vue_template_functional__,\n  NothingPost___vue_styles__,\n  NothingPost___vue_scopeId__,\n  NothingPost___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingPost = (NothingPost_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingRole.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingRole = ({\n  name: \"SearchNothingRole\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf810586\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingRole.vue\nvar NothingRole_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-role\"},[_c('no-content')],1)}\nvar NothingRole_staticRenderFns = []\nvar NothingRole_esExports = { render: NothingRole_render, staticRenderFns: NothingRole_staticRenderFns }\n/* harmony default export */ var nothing_NothingRole = (NothingRole_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingRole.vue\nvar NothingRole_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingRole___vue_template_functional__ = false\n/* styles */\nvar NothingRole___vue_styles__ = null\n/* scopeId */\nvar NothingRole___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingRole___vue_module_identifier__ = \"a8be2d7a\"\nvar NothingRole_Component = NothingRole_normalizeComponent(\n  NothingRole,\n  nothing_NothingRole,\n  NothingRole___vue_template_functional__,\n  NothingRole___vue_styles__,\n  NothingRole___vue_scopeId__,\n  NothingRole___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingRole = (NothingRole_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/nothing/NothingScore.vue\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NothingScore = ({\n  name: \"SearchNothingScore\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47fd58f9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/nothing/NothingScore.vue\nvar NothingScore_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-nothing-score\"},[_c('no-content')],1)}\nvar NothingScore_staticRenderFns = []\nvar NothingScore_esExports = { render: NothingScore_render, staticRenderFns: NothingScore_staticRenderFns }\n/* harmony default export */ var nothing_NothingScore = (NothingScore_esExports);\n// CONCATENATED MODULE: ./src/components/search/nothing/NothingScore.vue\nvar NothingScore_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NothingScore___vue_template_functional__ = false\n/* styles */\nvar NothingScore___vue_styles__ = null\n/* scopeId */\nvar NothingScore___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NothingScore___vue_module_identifier__ = \"35fa9d95\"\nvar NothingScore_Component = NothingScore_normalizeComponent(\n  NothingScore,\n  nothing_NothingScore,\n  NothingScore___vue_template_functional__,\n  NothingScore___vue_styles__,\n  NothingScore___vue_scopeId__,\n  NothingScore___vue_module_identifier__\n)\n\n/* harmony default export */ var search_nothing_NothingScore = (NothingScore_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/search/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var search = ({\n  name: \"SearchIndex\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const args = route.query;\n    await store.dispatch(\"search/fetchData\", {\n      ctx,\n      type: args.type,\n      q: args.q\n    });\n  },\n\n  components: {\n    vSearch: Input[\"a\" /* default */],\n    UserItem: search_flows_UserItem,\n    BangumiItem: search_flows_BangumiItem,\n    VideoItem: search_flows_VideoItem,\n    PostItem: PostFlowItem[\"a\" /* default */],\n    RoleItem: CartoonRoleFlowItem[\"a\" /* default */],\n    ScoreItem: ScoreFlowItem[\"a\" /* default */],\n    NothingAll: search_nothing_NothingAll,\n    NothingUser: search_nothing_NothingUser,\n    NothingBangumi: search_nothing_NothingBangumi,\n    NothingVideo: search_nothing_NothingVideo,\n    NothingPost: search_nothing_NothingPost,\n    NothingRole: search_nothing_NothingRole,\n    NothingScore: search_nothing_NothingScore\n  },\n\n  data() {\n    return {\n      selectedType: this.$route.query.type,\n      words: this.$route.query.q\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.search.resource[this.selectedType];\n    },\n\n    loading() {\n      return this.resource.loading;\n    },\n\n    list() {\n      return this.resource.list;\n    },\n\n    noMore() {\n      return this.resource.noMore;\n    },\n\n    total() {\n      return this.resource.total;\n    },\n\n    tabs() {\n      return this.$store.state.search.tabs;\n    }\n\n  },\n  methods: {\n    handleTabClick(tab) {\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q: this.words,\n          type: tab.name\n        }\n      });\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(\"search/fetchMore\", {\n          ctx: this,\n          type: this.selectedType\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d4d7ea2a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/search/index.vue\nvar search_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search-index\"}},[_c('v-header'),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"search-panel\\\">\",\"</div>\",[_c('v-search',{attrs:{\"type\":_vm.selectedType,\"placeholder\":\"搜索二次元的一切\"},model:{value:(_vm.words),callback:function ($$v) {_vm.words=$$v},expression:\"words\"}},[_c('template',{slot:\"submit-btn\"},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"\\n          搜索\\n        \")])],2)],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},_vm._l((_vm.tabs),function(tab,index){return _c('el-tab-pane',{key:index,attrs:{\"name\":index,\"label\":tab}},[_c('v-layout',[_c('template',{slot:\"main\"},[(_vm.noMore && !_vm.list.length)?_c((\"nothing-\" + _vm.selectedType),{tag:\"component\"}):_vm._l((_vm.list),function(item){return _c(((item.type) + \"-item\"),{key:((item.type) + \"-\" + (item.id)),tag:\"component\",attrs:{\"item\":item,\"in-common\":item.type != _vm.selectedType}})}),(!_vm.noMore && _vm.list.length)?_c('el-button',{staticClass:\"load-more-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":_vm.loadMore}},[_vm._v(_vm._s(_vm.loading ? '加载中' : '加载更多'))]):_vm._e(),(_vm.loading && !_vm.list.length)?_c('div',{staticClass:\"loading-wrap\"},[_c('div',{staticClass:\"el-icon-loading\"})]):_vm._e()],2)],2)],1)}))],1)],1)}\nvar search_staticRenderFns = []\nvar search_esExports = { render: search_render, staticRenderFns: search_staticRenderFns }\n/* harmony default export */ var views_search = (search_esExports);\n// CONCATENATED MODULE: ./src/views/search/index.vue\nfunction search_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(285),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar search_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar search___vue_template_functional__ = false\n/* styles */\nvar search___vue_styles__ = search_injectStyle\n/* scopeId */\nvar search___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar search___vue_module_identifier__ = \"5bf4754c\"\nvar search_Component = search_normalizeComponent(\n  search,\n  views_search,\n  search___vue_template_functional__,\n  search___vue_styles__,\n  search___vue_scopeId__,\n  search___vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_search = __webpack_exports__[\"default\"] = (search_Component.exports);\n\n\n/***/ })\n\n};;",
    "12.server-bundle.js": "exports.ids = [12];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentReplyForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentReplyForm = ({\n  name: \"CommentReplyForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    toUserId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      submitting: false,\n      content: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n\n      if (val) {\n        this.$nextTick(() => {\n          this.$refs.input.focus();\n        });\n      }\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {\n    cancel() {\n      this.open = false;\n    },\n\n    async submit() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.submitting = true;\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createSubComment\", {\n          id: this.id,\n          ctx: this,\n          type: this.type,\n          content: this.content,\n          targetUserId: this.toUserId\n        });\n        this.open = false;\n        this.content = \"\";\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.submitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d60362e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentReplyForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.open)?_c('div',{staticClass:\"comment-reply-form\"},[_vm._ssrNode(\"<div class=\\\"btn-group\\\">\",\"</div>\",[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发表\")])],1),_vm._ssrNode(\"<div class=\\\"input-wrap\\\"><input type=\\\"text\\\" placeholder=\\\"请缩减至100字以内\\\" maxlength=\\\"100\\\"\"+(_vm._ssrAttr(\"value\",(_vm.content)))+\"></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentReplyForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentReplyForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(110),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fcc8d1e\"\nvar Component = normalizeComponent(\n  CommentReplyForm,\n  comments_CommentReplyForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentReplyForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/comments/CommentReplyForm.vue + 2 modules\nvar CommentReplyForm = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentItem = ({\n  name: \"VSubCommentItem\",\n  components: {\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      showReplyArea: false,\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"reply-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    openReplyForm() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae3c50e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\",class:{ 'focused-sub-comment': _vm.focusThisComment },attrs:{\"id\":(\"sub-comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"sub-user\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"24\"}})],1)],1)]),_vm._ssrNode(\"<div class=\\\"sub-body\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"from-user href-fade-blue\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.comment.from_user_name)+\"\\n    \")]),_vm._ssrNode(\"<span class=\\\"sub-text\\\">\",\"</span>\",[(_vm.comment.to_user_id && _vm.comment.to_user_id !== _vm.parentUserId)?[_vm._ssrNode(\"\\n        回复\\n        \"),_c('user-card',{attrs:{\"id\":_vm.comment.to_user_id,\"zone\":_vm.comment.to_user_zone,\"custom-class\":\"to-user\"}},[_vm._v(\"\\n          @\"+_vm._s(_vm.comment.to_user_name)+\"\\n        \")])]:_vm._e(),_vm._ssrNode(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.comment.content)+\"\\n    \"))],2),_vm._ssrNode(\"<div class=\\\"sub-extra\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button>\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_reply'}},[_c('button',{staticClass:\"reply-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"type\":_vm.type,\"id\":_vm.comment.parent_id,\"to-user-id\":_vm.comment.from_user_id},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(108),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d886c218\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"VSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false,\n      showCollapse: false,\n      collapsed: false\n    };\n  },\n\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    filterComments() {\n      if (!this.collapsed) {\n        return this.comments.list;\n      }\n\n      const data = this.comments;\n      const comments = data.list;\n      const result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      const ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getSubComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.parentComment.id\n        });\n        this.showCollapse = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36455f1b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<div class=\\\"view-more\\\">\\n    共<strong>\"+_vm._ssrEscape(_vm._s(_vm.comments.total))+\"</strong>条回复\\n    \"+((!_vm.comments.noMore)?(\"\\n      ，\\n      <button class=\\\"more-btn\\\">查看更多</button>\"):\"<!---->\")+((_vm.showCollapse)?(\"<button class=\\\"collapse-btn\\\">\"+_vm._ssrEscape(_vm._s(_vm.collapsed ? '展开' : '收起'))+\"</button>\"):\"<!---->\")+\"</div>\"):\"<!---->\"))],2)}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(106),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"c47bd202\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = (SubCommentList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentItem = ({\n  name: \"VCommentItem\",\n  components: {\n    SubCommentList: components_comments_SubCommentList,\n    CommentReplyForm: CommentReplyForm[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false,\n      showReplyArea: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    authorId() {\n      return this.comment.from_user_id;\n    },\n\n    isMine() {\n      return this.currentUserId === this.authorId;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    focusThisComment() {\n      return parseInt(this.$route.query[\"comment-id\"]) === this.comment.id;\n    }\n\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.liking) {\n        return;\n      }\n\n      this.liking = true;\n\n      try {\n        await this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n      } catch (e) {} finally {\n        this.liking = false;\n      }\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    replyComment() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showReplyArea = !this.showReplyArea;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-333003d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"def-comment-item\",class:{ 'focused-main-comment': _vm.focusThisComment },attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.comment.from_user_avatar,\"size\":\"48\"}})],1)],1),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":_vm.comment.from_user_id,\"zone\":_vm.comment.from_user_zone,\"custom-class\":\"href-fade-blue\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.comment.from_user_name)+\"\\n      \")])],1),_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"floor-count\\\">\"+_vm._ssrEscape(\"#\"+_vm._s(_vm.comment.floor_count - 1))+\"</span>\"),_c('el-tooltip',{attrs:{\"content\":_vm.comment.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1),_vm._ssrNode(\"<button class=\\\"like-btn\\\"><i\"+(_vm._ssrClass(\"iconfont\",[ _vm.comment.liked ? 'icon-dianzan1 ic-liked' : 'icon-dianzan' ]))+\"></i>\"+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.comment.like_count))+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn\\\">回复</button>\"),(_vm.canDelete)?_vm._ssrNode(\"<button class=\\\"delete-btn\\\">\",\"</button>\",[_vm._ssrNode(\"<i class=\\\"iconfont icon-shanchu\\\"></i>\")],2):_c('report-dialog',{attrs:{\"id\":_vm.comment.id,\"type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"reply-btn main-comment-report-btn\"},[_vm._v(\"举报\")])])],2),_c('comment-reply-form',{attrs:{\"id\":_vm.comment.id,\"to-user-id\":_vm.authorId,\"type\":_vm.type},model:{value:(_vm.showReplyArea),callback:function ($$v) {_vm.showReplyArea=$$v},expression:\"showReplyArea\"}}),_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}})],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(104),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"6fea3b80\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CreateCommentForm\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: [Number, String],\n      required: true\n    },\n    masterId: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    },\n\n    userAvatar() {\n      return this.isGuest ? `${this.$cdn.image}default/user-avatar` : this.$store.state.user.avatar;\n    }\n\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$toast.info(\"继续操作前请先登录\");\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.content) {\n        return;\n      }\n\n      if (this.submitting) {\n        return;\n      }\n\n      this.$store.commit(\"comment/SET_SUBMITTING\", {\n        result: true\n      });\n\n      try {\n        const result = await this.$store.dispatch(\"comment/createMainComment\", {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        });\n        this.content = \"\";\n\n        if (this.withImage) {\n          this.$refs.uploader.clearFiles();\n        }\n\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n        if (!window.__closeImageLazy__) {\n          setTimeout(() => {\n            const dom = document.getElementById(`comment-${result.data.id}`);\n            dom && this.$scrollToY(this.$utils.getOffsetTop(dom) - 200, 600);\n          }, 400);\n        }\n\n        this.$emit(\"submit\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.$store.commit(\"comment/SET_SUBMITTING\", {\n          result: false\n        });\n      }\n    },\n\n    handleTextAreaFocus() {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73a9c4dd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar CommentCreateForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-comment-form\"},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userAvatar,\"size\":\"48\"}}),_vm._ssrNode(\"<div class=\\\"main-area\\\"><button class=\\\"submit-btn\\\">发表<br>评论</button><div class=\\\"text-wrap\\\"><textarea placeholder=\\\"请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。\\\" maxlength=\\\"1000\\\"></textarea></div></div>\")],2)}\nvar CommentCreateForm_staticRenderFns = []\nvar CommentCreateForm_esExports = { render: CommentCreateForm_render, staticRenderFns: CommentCreateForm_staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (CommentCreateForm_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction CommentCreateForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(112),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentCreateForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentCreateForm___vue_template_functional__ = false\n/* styles */\nvar CommentCreateForm___vue_styles__ = CommentCreateForm_injectStyle\n/* scopeId */\nvar CommentCreateForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentCreateForm___vue_module_identifier__ = \"2a46d8cd\"\nvar CommentCreateForm_Component = CommentCreateForm_normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  CommentCreateForm___vue_template_functional__,\n  CommentCreateForm___vue_styles__,\n  CommentCreateForm___vue_scopeId__,\n  CommentCreateForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (CommentCreateForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    masterId: {\n      type: [Number, String],\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    }\n\n  },\n\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMore(true);\n      });\n    }\n\n    this.$nextTick(() => {\n      this.scrollToReply();\n    });\n  },\n\n  methods: {\n    async loadMore(firstRequest = false) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"comment/getMainComments\", {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    scrollToReply() {\n      const replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      const reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$scrollToY(this.$utils.getOffsetTop(reply) - 200, 400);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cc94fe8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : ''))]),_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}})]),(_vm.list.length)?_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"comment\":comment,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"delete\":function($event){_vm.$emit('delete-main-comment')}}})],{comment:comment})],2)})):(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"load-more-btn\\\">\",\"</div>\",[(!_vm.noMore)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"info\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.loadMore(false)}}},[_vm._v(_vm._s(_vm.loading ? '加载中...' : '加载更多'))]):_vm._e()],1),_vm._t(\"reply\",[(_vm.list.length >= 10)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"submit\":function($event){_vm.$emit('create-main-comment')}}}):_vm._e()])],2)],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(102),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"fd4aac34\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(103);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"313d3c88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#comment-wrap .sub-title{margin-bottom:30px}#comment-wrap #comment-list-wrap{padding-top:20px}#comment-wrap .load-more-btn{margin-left:85px}#comment-wrap .load-more-btn button{width:100%;margin-top:20px;margin-bottom:20px}#comment-wrap .no-content{text-align:center;margin-top:50px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(105);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0edc3fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".def-comment-item:after,.def-comment-item:before{content:\\\"\\\";clear:both;display:table}.def-comment-item .user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.def-comment-item .body .content{word-break:break-word!important;word-break:break-all}.def-comment-item.focused-main-comment{background-color:rgba(0,181,229,.1)}.def-comment-item .user{float:left;width:85px}.def-comment-item .user .avatar{margin:24px 0 0 5px}.def-comment-item .body{overflow:hidden;padding:22px 0 14px;border-top:1px solid #e5e9ef}.def-comment-item .body:hover .main-comment-report-btn{opacity:1!important}.def-comment-item .body .header{margin-bottom:4px}.def-comment-item .body .header .href-fade-blue{font-size:12px;font-weight:700;line-height:18px}.def-comment-item .body .content{line-height:20px;padding:2px 0;font-size:14px}.def-comment-item .body .footer{line-height:26px;font-size:12px}.def-comment-item .body .footer .floor-count,.def-comment-item .body .footer time{margin-right:20px;color:#99a2aa}.def-comment-item .body .footer button{margin-right:12px;color:#99a2aa}.def-comment-item .body .footer i{margin-right:5px;font-size:14px}.def-comment-item .body .footer .ic-liked,.def-comment-item .body .footer button:hover i{color:#00a1d6}.def-comment-item .body .footer .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.def-comment-item .body .footer .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.def-comment-item .body .footer .main-comment-report-btn{opacity:0}.def-comment-item .body .comment-reply-form{margin-top:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6759628e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-list-wrap .view-more{font-size:12px;color:#6d757a}.sub-comment-list-wrap .view-more .more-btn{color:#00a1d6}.sub-comment-list-wrap .view-more .collapse-btn{float:right;color:#99a2aa}.sub-comment-list-wrap .view-more .collapse-btn:hover{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(109);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ad79508c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sub-comment-item .sub-user .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.sub-comment-item .sub-body .sub-text{word-break:break-word!important;word-break:break-all}.sub-comment-item{padding:10px 0}.sub-comment-item.focused-sub-comment{background-color:rgba(0,181,229,.2)}.sub-comment-item .sub-user{float:left}.sub-comment-item .sub-user .avatar{margin-top:5px;margin-right:10px}.sub-comment-item .sub-body{overflow:hidden}.sub-comment-item .sub-body .from-user{color:#6d757a;font-size:12px;font-weight:700;line-height:18px;vertical-align:middle;display:inline-block;margin-top:-2px;margin-right:2px}.sub-comment-item .sub-body .from-user:hover{color:#00a1d6}.sub-comment-item .sub-body:hover .report-btn{opacity:1!important}.sub-comment-item .sub-body .sub-text{font-weight:400;font-size:14px;line-height:20px;padding-bottom:4px}.sub-comment-item .sub-body .sub-text .to-user{color:#00a1d6}.sub-comment-item .sub-body .sub-extra{line-height:26px;font-size:12px}.sub-comment-item .sub-body .sub-extra button,.sub-comment-item .sub-body .sub-extra span,.sub-comment-item .sub-body .sub-extra time{margin-right:12px;color:#99a2aa}.sub-comment-item .sub-body .sub-extra .reply-btn{padding:0 5px;border-radius:4px;line-height:26px}.sub-comment-item .sub-body .sub-extra .reply-btn:hover{color:#00a1d6;background-color:#e5e9ef}.sub-comment-item .sub-body .sub-extra .report-btn{opacity:0}.sub-comment-item .sub-body .sub-extra button:hover i{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(111);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5057da90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".comment-reply-form .input-wrap{overflow:hidden}.comment-reply-form .input-wrap input{width:100%;height:28px;padding-left:5px;font-size:12px}.comment-reply-form .btn-group{float:right}.comment-reply-form .btn-group button{margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c3b88d02\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".create-comment-form .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.create-comment-form{margin-top:10px;margin-bottom:10px}.create-comment-form .avatar{float:left;margin:7px 32px 0 5px}.create-comment-form .main-area,.create-comment-form .main-area .text-wrap{overflow:hidden}.create-comment-form .main-area .text-wrap textarea{font-size:12px;background-color:#f4f5f7;border:1px solid #e5e9ef;border-radius:4px;color:#555;width:100%;min-height:65px;padding:5px 10px;resize:vertical}.create-comment-form .main-area .text-wrap textarea:hover{background-color:#fff;border-color:#00a1d6}.create-comment-form .main-area .submit-btn{float:right;width:70px;height:64px;background-color:#00a1d6;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;text-align:center;font-size:14px;border-radius:4px;margin-left:10px;color:#fff;font-weight:700}.create-comment-form .main-area .submit-btn:hover{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/cartoonRoleApi.js\nvar cartoonRoleApi = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/forms/CreateRoleForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateRoleForm = ({\n  name: \"CreateRoleForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    isAdmin: {\n      type: Boolean,\n      default: false\n    },\n    isCreate: {\n      type: Boolean,\n      default: false\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    role: {\n      type: Object,\n      default: null\n    }\n  },\n\n  data() {\n    const validateAlias = (rule, value, callback) => {\n      if (!value || !value.length) {\n        return callback(new Error(\"至少选择 1 个标签\"));\n      }\n\n      if (value.length > 5) {\n        return callback(new Error(\"最多选择 5 个标签\"));\n      }\n\n      callback();\n    };\n\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧名称\"));\n      }\n\n      if (value.length > 35) {\n        return callback(new Error(\"名称最长 35 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateDesc = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧简介\"));\n      }\n\n      if (value.length > 200) {\n        return callback(new Error(\"简介最多 200 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateAvatar = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先上传头像\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        bangumi_id: this.bangumiId,\n        name: this.role ? this.role.name : \"\",\n        alias: this.role ? this.role.alias.split(\",\") : [],\n        avatar: this.role ? this.role.avatar : \"\",\n        intro: this.role ? this.role.intro : \"\"\n      },\n      rules: {\n        name: [{\n          validator: validateName,\n          trigger: \"submit\"\n        }],\n        intro: [{\n          validator: validateDesc,\n          trigger: \"submit\"\n        }],\n        avatar: [{\n          validator: validateAvatar,\n          trigger: \"submit\"\n        }],\n        alias: [{\n          validator: validateAlias,\n          trigger: \"submit\"\n        }]\n      },\n      submitting: false\n    };\n  },\n\n  methods: {\n    submit() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new cartoonRoleApi[\"a\" /* default */](this);\n          const name = this.form.name;\n\n          try {\n            const params = {\n              bangumi_id: this.form.bangumi_id,\n              name: name,\n              intro: this.form.intro,\n              avatar: this.form.avatar.split(\".calibur.tv/\").pop(),\n              alias: [name].concat(this.form.alias.filter(_ => _ !== name)).toString()\n            };\n\n            if (this.isCreate) {\n              await api.create(params);\n              this.$refs.form.resetFields();\n              this.$refs.upload.clearFiles();\n              this.$toast.success(\"添加成功\");\n            } else {\n              await api.edit(Object.assign(params, {\n                id: this.role.id\n              }));\n              this.$emit(\"success\");\n            }\n          } catch (err) {\n            this.$toast.error(err);\n          } finally {\n            this.submitting = false;\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    beforeAvatarUpload(file) {\n      this.uploadConfig.max = 1;\n      this.uploadConfig.pathPrefix = `bangumi/${this.bangumiId}/role`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAvatarSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.form.avatar = res.data.url;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66153dcc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/forms/CreateRoleForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":_vm.submitting,\"label-width\":\"40px\"}},[(_vm.isCreate || _vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色的中文名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.name\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"别名\",\"prop\":\"alias\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"allow-create\":\"\",\"default-first-option\":\"\",\"placeholder\":\"角色的其它名字，如：英文名、日文名\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", $$v)},expression:\"form.alias\"}})],1),_c('el-form-item',{attrs:{\"label\":\"头像\",\"prop\":\"avatar\"}},[(_vm.form.avatar)?_c('img',{staticClass:\"avatar\",staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.$resize(_vm.form.avatar, { width: 200 })}}):_vm._e(),_c('el-upload',{ref:\"upload\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"show-file-list\":false}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"prop\":\"intro\"}},[_c('el-input',{attrs:{\"rows\":5,\"type\":\"textarea\",\"placeholder\":\"请输入角色简介\"},model:{value:(_vm.form.intro),callback:function ($$v) {_vm.$set(_vm.form, \"intro\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.intro\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var forms_CreateRoleForm = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/forms/CreateRoleForm.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6a6aead6\"\nvar Component = normalizeComponent(\n  CreateRoleForm,\n  forms_CreateRoleForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_forms_CreateRoleForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(274);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7e6bd921\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#role-show .sub-title{margin-bottom:20px}#role-show .sub-title button{vertical-align:top;padding:5px 15px;margin-left:10px}#role-show .layout-main .intro{margin-bottom:35px}#role-show .layout-main .intro .avatar-wrap{float:left;margin-right:25px;text-align:center}#role-show .layout-main .intro .avatar-wrap .avatar{width:150px;height:150px;display:block}#role-show .layout-main .intro .avatar-wrap button{margin-top:15px}#role-show .layout-main .intro .info{overflow:hidden}#role-show .layout-main .intro .info .name{font-size:42px;margin-bottom:10px;margin-top:0}#role-show .layout-main .intro .info .alias,#role-show .layout-main .intro .info .summary{line-height:24px;font-size:14px;margin-bottom:10px}#role-show .layout-main .intro .info .alias strong{float:left}#role-show .layout-main .intro .info .alias li{float:left;margin-right:10px;text-decoration:underline}#role-show .layout-main .intro .info .coin{line-height:24px;font-size:14px;margin-bottom:10px}#role-show .layout-main .lover{margin-bottom:25px}#role-show .layout-main .lover .user .avatar{display:inline-block;vertical-align:middle;border:1px solid #f0f0f0;width:40px;height:40px;border-radius:20px;overflow:hidden;margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 388:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/bangumi/forms/CreateRoleForm.vue + 2 modules\nvar CreateRoleForm = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 14 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/role/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  name: \"RoleShow\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"cartoonRole/getRoleInfo\", {\n      ctx,\n      id\n    }), store.dispatch(\"cartoonRole/getFansList\", {\n      ctx,\n      bangumiId: 0,\n      roleId: id,\n      sort: \"new\",\n      reset: false\n    }), store.dispatch(\"comment/getMainComments\", {\n      ctx,\n      id,\n      type: \"role\",\n      seeReplyId: route.query[\"comment-id\"]\n    })]);\n  },\n\n  head() {\n    return {\n      title: `${this.role.name} - 角色`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: this.role.intro\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `calibur,角色,天下漫友是一家,${this.role.alias}`\n      }]\n    };\n  },\n\n  components: {\n    CreateRoleForm: CreateRoleForm[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      toggleFansListModal: false,\n      loadingRoleFans: false,\n      showEditModal: false,\n      focusRoleSort: \"new\"\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.cartoonRole.info;\n    },\n\n    role() {\n      return this.info.data;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    fans() {\n      return this.$store.state.cartoonRole.fans.new;\n    },\n\n    computeRoleAlias() {\n      return this.role.alias.split(\",\");\n    },\n\n    displayFans() {\n      return this.fans.data.slice(0, 6);\n    },\n\n    fansModalData() {\n      return this.focusRoleSort === \"new\" ? this.fans.data : this.$store.state.cartoonRole.fans.hot.data;\n    },\n\n    noMoreFans() {\n      return this.$store.state.cartoonRole.fans[this.focusRoleSort].noMore;\n    }\n\n  },\n  methods: {\n    handleFollowBangumiAction(result) {\n      this.$store.commit(\"cartoonRole/FOLLOW_ROLE_BANGUMI\", {\n        result\n      });\n    },\n\n    async handleStarRole() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (!this.$store.state.user.coin) {\n        this.$toast.error(\"金币不足\");\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"cartoonRole/star\", {\n          bangumiId: this.bangumi.id,\n          roleId: this.id,\n          ctx: this,\n          hasStar: this.role.hasStar\n        });\n        this.$store.commit(\"USE_COIN\");\n        this.$toast.success(`+${this.role.hasStar}s`);\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async fetchRoleFans(init = false) {\n      if (init && this.fansModalData.length > 10) {\n        return;\n      }\n\n      if (this.loadingRoleFans) {\n        return;\n      }\n\n      this.loadingRoleFans = true;\n\n      try {\n        await this.$store.dispatch(\"cartoonRole/getFansList\", {\n          ctx: this,\n          bangumiId: this.bangumi.id,\n          roleId: this.id,\n          sort: this.focusRoleSort\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingRoleFans = false;\n      }\n    },\n\n    openFansModal(sort) {\n      this.focusRoleSort = sort;\n      this.toggleFansListModal = true;\n      this.fetchRoleFans(true);\n    },\n\n    cartoonRoleEditSuccess() {\n      this.$toast.success(\"编辑成功\");\n      this.showEditModal = false;\n      window.location.reload();\n    },\n\n    showEditRoleModal() {\n      this.showEditModal = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5993a576\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/role/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"role-show\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('div',{staticClass:\"intro clearfix\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"\\n          角色信息\\n          \"),(_vm.bangumi.is_master)?_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.showEditRoleModal}},[_vm._v(\"编辑\")]):_vm._e()],1),_c('div',{staticClass:\"avatar-wrap\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(_vm.role.avatar, { width: 200 })}}),_c('el-button',{staticClass:\"star\",attrs:{\"type\":\"warning\",\"size\":\"mini\",\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.handleStarRole}},[_vm._v(\"为TA应援\")])],1),_c('div',{staticClass:\"info\"},[_c('h1',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(_vm.role.name)}}),_c('p',{staticClass:\"summary\"},[_c('strong',[_vm._v(\"简介：\")]),_vm._v(_vm._s(_vm.role.intro)+\"\\n          \")]),_c('ul',{staticClass:\"alias\"},[_c('strong',[_vm._v(\"别名：\")]),_vm._l((_vm.computeRoleAlias),function(name,index){return _c('li',{key:index,domProps:{\"textContent\":_vm._s(name)}})})],2),(_vm.role.star_count)?_c('p',{staticClass:\"coin\"},[_c('strong',[_vm._v(\"粉丝：\")]),_vm._v(\"共有 \"+_vm._s(_vm.role.fans_count)+\" 个粉丝，收获了 \"+_vm._s(_vm.role.star_count)+\" 个金币\\n          \")]):_vm._e()])]),(_vm.role.lover)?_c('div',{staticClass:\"lover\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"\\n          守护者\\n          \"),_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.openFansModal('hot')}}},[_vm._v(\"排行榜\")])],1),_c('a',{staticClass:\"user\",attrs:{\"href\":_vm.$alias.user(_vm.role.lover.zone),\"target\":\"_blank\"}},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.$resize(_vm.role.lover.avatar, { width: 80 })}})]),_c('span',{domProps:{\"textContent\":_vm._s(_vm.role.lover.nickname)}})])]):_vm._e(),_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":1,\"type\":\"role\"}})],1),_c('template',{slot:\"aside\"},[_c('div',{staticClass:\"bangumi\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"所属番剧\")]),_c('v-bangumi-panel',{staticClass:\"bangumi-panel\",attrs:{\"id\":_vm.bangumi.id,\"name\":_vm.bangumi.name,\"avatar\":_vm.bangumi.avatar,\"summary\":_vm.bangumi.summary,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleFollowBangumiAction}})],1),_c('div',{staticClass:\"fans\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"应援团\"+_vm._s(_vm.role.fans_count ? (\"（\" + (_vm.role.fans_count) + \"）\") : ''))]),(_vm.role.fans_count)?_c('ava-dialog',{attrs:{\"users\":_vm.fansModalData,\"fetch\":_vm.fetchRoleFans,\"title\":(\"《\" + (_vm.role.name) + \"》应援团\"),\"loading\":_vm.loadingRoleFans,\"no-more\":_vm.noMoreFans,\"display-count\":6}}):[_c('span',[_vm._v(\"TA 还没有真正的粉丝...\")])]],2)])],2),(_vm.bangumi.is_master)?_c('v-dialog',{attrs:{\"title\":(\"编辑 - \" + (_vm.role.name)),\"footer\":false},model:{value:(_vm.showEditModal),callback:function ($$v) {_vm.showEditModal=$$v},expression:\"showEditModal\"}},[_c('create-role-form',{attrs:{\"role\":_vm.role,\"bangumi-id\":_vm.bangumi.id},on:{\"success\":_vm.cartoonRoleEditSuccess}})],1):_vm._e(),_c('v-dialog',{staticClass:\"likes-modal\",attrs:{\"footer\":false,\"title\":((_vm.role.name) + \" · 应援团\"),\"scroll\":_vm.fetchRoleFans,\"loading\":_vm.loadingRoleFans,\"no-more\":_vm.noMoreFans},model:{value:(_vm.toggleFansListModal),callback:function ($$v) {_vm.toggleFansListModal=$$v},expression:\"toggleFansListModal\"}},_vm._l((_vm.fansModalData),function(item){return _c('li',{key:item.id},[_c('a',{staticClass:\"user\",attrs:{\"href\":_vm.$alias.user(item.zone),\"target\":\"_blank\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(item.avatar, { width: 80 })}}),_c('span',{staticClass:\"nickname\",domProps:{\"textContent\":_vm._s(item.nickname)}}),(_vm.focusRoleSort === 'new')?_c('v-time',{staticClass:\"score\",model:{value:(item.score),callback:function ($$v) {_vm.$set(item, \"score\", $$v)},expression:\"item.score\"}}):_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(item.score)+\"个金币\")])],1)])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_show = (esExports);\n// CONCATENATED MODULE: ./src/views/role/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(273),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0fa7e6a5\"\nvar Component = normalizeComponent(\n  show,\n  role_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "13.server-bundle.js": "exports.ids = [13];\nexports.modules = {\n\n/***/ 161:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageAlbumSelect.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageAlbumSelect = ({\n  name: \"ImageAlbumSelect\",\n  props: {\n    placeholder: {\n      type: String,\n      default: \"选择一个相册\"\n    },\n    value: {\n      type: [Number, String],\n      default: \"\"\n    },\n    clear: {\n      type: Boolean,\n      default: true\n    },\n    filter: {\n      type: Function,\n      default: undefined\n    },\n    append: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      selected: this.value,\n      loading: false\n    };\n  },\n\n  computed: {\n    albums() {\n      return this.$store.state.image.albums;\n    },\n\n    selectionAlbum() {\n      return this.filter ? this.filter(this.append.concat(this.albums)) : this.append.concat(this.albums);\n    }\n\n  },\n\n  mounted() {\n    if (!this.albums.length) {\n      this.getUserAlbum();\n    }\n\n    this.$watch(\"value\", val => {\n      this.selected = val;\n    });\n    this.$watch(\"selected\", val => {\n      this.$emit(\"input\", val);\n      this.$emit(\"success\", this.selectionAlbum.filter(_ => _.id === val)[0]);\n    });\n  },\n\n  methods: {\n    async getUserAlbum() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"image/userAlbum\", {\n          ctx: this\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22199e12\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageAlbumSelect.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":true,\"clearable\":_vm.clear,\"loading\":_vm.loading,\"placeholder\":_vm.placeholder},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.selectionAlbum),function(item){return _c('el-option',{key:item.id,staticClass:\"choice-album-item\",attrs:{\"label\":item.name,\"value\":item.id}},[_c('div',{staticClass:\"image-count meta\",domProps:{\"textContent\":_vm._s(item.image_count)}}),(item.is_creator)?_c('div',{staticClass:\"is-creator meta\"},[_vm._v(\"创\")]):_vm._e(),(item.is_cartoon)?_c('div',{staticClass:\"is-cartoon meta\"},[_vm._v(\"漫\")]):_vm._e(),_c('div',{staticClass:\"info\"},[_c('img',{attrs:{\"src\":_vm.$resize(item.poster, { width: 48 })}}),_c('span',{domProps:{\"textContent\":_vm._s(item.name)}})])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageAlbumSelect = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageAlbumSelect.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(170),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2e904126\"\nvar Component = normalizeComponent(\n  ImageAlbumSelect,\n  image_ImageAlbumSelect,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageAlbumSelect = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/components/image/ImageAlbumSelect.vue + 2 modules\nvar ImageAlbumSelect = __webpack_require__(161);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/UploadImageForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var UploadImageForm = ({\n  name: \"UploadImageForm\",\n  components: {\n    ImageAlbumSelect: ImageAlbumSelect[\"a\" /* default */]\n  },\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    appendAlbums: {\n      type: Array,\n      default: () => []\n    },\n    selectedBangumiId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    selectedAlbumId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    isCartoon: {\n      type: Boolean,\n      default: false\n    },\n    exceed: {\n      type: Number,\n      default: 7\n    }\n  },\n\n  data() {\n    const validateImage = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请选择要上传的图片\"));\n      }\n\n      callback();\n    };\n\n    const validateImages = (rule, value, callback) => {\n      if (!value.length) {\n        return callback(new Error(\"至少选择一张图片\"));\n      }\n\n      callback();\n    };\n\n    return {\n      submitting: false,\n      fetchingAlbum: false,\n      pendingUpload: 0,\n      form: {\n        name: \"\",\n        album_id: this.selectedAlbumId,\n        bangumi_id: this.bangumiId,\n        is_cartoon: false,\n        is_creator: false,\n        image: null,\n        images: []\n      },\n      rule: {\n        image: [{\n          validator: validateImage,\n          trigger: \"submit\"\n        }],\n        images: [{\n          validator: validateImages,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.user.id;\n    }\n\n  },\n  methods: {\n    beforeSingleImageUpload(file) {\n      this.uploadConfig.max = 5;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/image`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleSingleImageUploadSuccess(res) {\n      this.form.image = res.data;\n      this.$toast.success(\"封面上传成功\");\n    },\n\n    handleSingleImageRemove() {\n      this.form.image = null;\n    },\n\n    submitSingleImage() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.form.name.length > 30) {\n            this.$toast.error(\"名字最长 30 个字\");\n            return;\n          }\n\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          this.$captcha({\n            success: async ({\n              data\n            }) => {\n              const api = new imageApi[\"a\" /* default */](this);\n              api.uploadSingleImage(Object.assign({\n                geetest: data\n              }, this.form, this.form.image)).then(result => {\n                this.form.name = \"\";\n                this.form.is_creator = false;\n                this.form.image = null;\n                this.$refs.singleUpload.clearFiles();\n                this.submitting = false;\n                this.$toast.success(result.message).then(() => {\n                  window.location = this.$alias.image(result.data);\n                });\n              }).catch(err => {\n                this.$toast.error(err);\n                this.submitting = false;\n              });\n            },\n            error: e => {\n              this.submitting = false;\n              this.$toast.error(e);\n            },\n            close: () => {\n              this.submitting = false;\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    handleManyImageRemove(file) {\n      if (this.submitting) {\n        return;\n      }\n\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images.splice(index, 1);\n        }\n      });\n    },\n\n    beforeManyImageUpload(file) {\n      this.form.images.push({\n        raw: file,\n        name: file.name,\n        size: file.size,\n        uid: file.uid,\n        percentage: 0,\n        status: \"uploading\"\n      });\n      this.uploadConfig.max = 10;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/album/${this.form.album_id}/image`;\n      this.pendingUpload++;\n      return this.beforeImageUpload(file);\n    },\n\n    handleManyImageUploadSuccess(res, file) {\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images[index] = Object.assign(item, {\n            data: res.data,\n            width: res.data.width,\n            height: res.data.height,\n            size: res.data.size,\n            type: res.data.type,\n            url: this.$resize(res.data.url, {\n              width: 160\n            }),\n            status: \"success\"\n          });\n        }\n      });\n      this.pendingUpload--;\n    },\n\n    handleManyUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n      this.form.images.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.form.images.splice(index, 1);\n        }\n      });\n      this.pendingUpload--;\n    },\n\n    handleManyExceed() {\n      this.$toast.error(`一次最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    submitManyImage() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new imageApi[\"a\" /* default */](this);\n          const albumId = this.form.album_id;\n          api.uploadManyImage({\n            album_id: albumId,\n            images: this.form.images.map(_ => {\n              return {\n                url: _.url.split(\"calibur.tv/\").pop().split(\"?\")[0],\n                size: _.size,\n                type: _.type,\n                width: _.width,\n                height: _.height\n              };\n            })\n          }).then(() => {\n            this.form.album_id = \"\";\n            this.form.images = [];\n            this.$refs.manyUpload.clearFiles();\n            this.$toast.success(\"上传成功\");\n            this.submitting = false;\n\n            if (this.$route.name === \"image-show\" && !(this.$route.params.id - albumId)) {\n              window.location.reload();\n            } else {\n              window.location = this.$alias.image(albumId);\n            }\n          }).catch(err => {\n            this.$toast.error(err);\n            this.submitting = false;\n\n            if (/审核/.test(err)) {\n              setTimeout(() => {\n                window.location.reload();\n              }, 1000);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a05a4f0\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/UploadImageForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[(!_vm.isCartoon)?[_c('el-alert',{staticClass:\"tips\",attrs:{\"type\":\"info\",\"title\":\"\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"如果想要批量上传图片，就选择一个相册（需要先创建）\")]),_c('p',[_vm._v(\"如果想上传单张精品美图，就选择一个番剧\")])]),(!_vm.form.bangumi_id)?_c('el-form-item',{attrs:{\"label\":\"相册\",\"prop\":\"album_id\"}},[_c('image-album-select',{attrs:{\"append\":_vm.appendAlbums,\"placeholder\":\"【批量上传】选择要上传图片的相册\"},model:{value:(_vm.form.album_id),callback:function ($$v) {_vm.$set(_vm.form, \"album_id\", $$v)},expression:\"form.album_id\"}})],1):_vm._e(),(!_vm.form.album_id)?_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumi_id\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"placeholder\":\"【单个上传】选择要投稿的番剧\"},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1):_vm._e()]:_vm._e(),(_vm.form.album_id || _vm.form.bangumi_id)?[(_vm.form.album_id)?[_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"images\"}},[_c('el-upload',{ref:\"manyUpload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleManyUploadError,\"on-success\":_vm.handleManyImageUploadSuccess,\"before-upload\":_vm.beforeManyImageUpload,\"on-remove\":_vm.handleManyImageRemove,\"file-list\":_vm.form.images,\"on-exceed\":_vm.handleManyExceed,\"limit\":_vm.exceed,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"multiple\":\"\",\"list-type\":\"picture-card\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submitManyImage}},[_vm._v(\"\\n          确认上传\\n        \")])],1)]:[_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"placeholder\":\"给图片起个名字\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-row',[_c('el-switch',{model:{value:(_vm.form.is_creator),callback:function ($$v) {_vm.$set(_vm.form, \"is_creator\", $$v)},expression:\"form.is_creator\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"如果这幅画是你的作品，请勾选它！\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),(_vm.form.image)?_c('div',{staticClass:\"preview-poster\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.form.image.url, { width: 400, mode: 2 })) + \")\") })}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"label\":\"图片\",\"prop\":\"image\"}},[_c('el-upload',{ref:\"singleUpload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.handleSingleImageUploadSuccess,\"before-upload\":_vm.beforeSingleImageUpload,\"on-remove\":_vm.handleSingleImageRemove,\"accept\":_vm.imageUploadAccept,\"action\":_vm.imageUploadAction}},[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"small\",\"round\":\"\"}},[_vm._v(\"选择图片\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submitSingleImage}},[_vm._v(\"\\n          确认上传\\n        \")])],1)]]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_UploadImageForm = (esExports);\n// CONCATENATED MODULE: ./src/components/image/UploadImageForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(168),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a05a4f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0b3b8dd1\"\nvar Component = normalizeComponent(\n  UploadImageForm,\n  image_UploadImageForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_UploadImageForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(169);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"767d67b5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tips[data-v-4a05a4f0]{margin-bottom:30px}.tips p[data-v-4a05a4f0]{line-height:20px;margin-top:3px;margin-left:5px}.el-icon-question[data-v-4a05a4f0]{margin-left:10px;cursor:pointer;font-size:20px;vertical-align:middle;color:#ccd0d7}.preview-poster[data-v-4a05a4f0]{height:100px;width:500px;position:absolute;right:0;top:0;background-position:100%;background-size:contain;background-repeat:no-repeat}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(171);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1f9569c0\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".choice-album-item .meta{float:right;height:24px;margin-top:5px;width:24px;line-height:24px;font-size:12px;border-radius:3px;text-align:center;color:#fff;margin-left:10px}.choice-album-item .image-count{background-color:#ccd0d7}.choice-album-item .is-creator{background-color:gold}.choice-album-item .is-cartoon{background-color:#f25d8e}.choice-album-item .info{overflow:hidden}.choice-album-item .info img{width:24px;height:24px;border-radius:3px;margin-right:5px;margin-top:-2px;vertical-align:middle}.choice-album-item .info span{font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/CreateAlbumForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAlbumForm = ({\n  name: \"CreateAlbumForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    bangumiId: {\n      type: [Number, String],\n      default: \"\"\n    },\n    isCartoon: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填名字\"));\n      }\n\n      if (value.length > 30) {\n        return callback(new Error(\"名字最长 30 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateBangumi = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请选择一个相关的番剧\"));\n      }\n\n      callback();\n    };\n\n    const validatePart = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"漫画的集数是必填的\"));\n      }\n\n      callback();\n    };\n\n    const validatePoster = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请给相册选择一个封面\"));\n      }\n\n      callback();\n    };\n\n    return {\n      submitting: false,\n      form: {\n        name: \"\",\n        bangumi_id: this.bangumiId,\n        is_cartoon: this.isCartoon,\n        is_creator: false,\n        part: 0,\n        poster: null\n      },\n      rule: {\n        name: [{\n          validator: validateName,\n          trigger: \"submit\"\n        }],\n        bangumi_id: [{\n          validator: validateBangumi,\n          trigger: \"submit\"\n        }],\n        part: [{\n          validator: validatePart,\n          trigger: \"submit\"\n        }],\n        poster: [{\n          validator: validatePoster,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.user.id;\n    }\n\n  },\n  methods: {\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new imageApi[\"a\" /* default */](this);\n          api.createAlbum(Object.assign({}, this.form, this.form.poster)).then(result => {\n            this.$refs.form.resetFields();\n            this.$refs.upload.clearFiles();\n            this.$toast.success(result.message);\n            this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n            this.submitting = false;\n            this.$emit(\"success\", result.data);\n          }).catch(err => {\n            this.$toast.error(err);\n            this.submitting = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n\n    beforePosterUpload(file) {\n      this.uploadConfig.max = 10;\n      this.uploadConfig.pathPrefix = `user/${this.currentUserId}/album`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAlbumUploadSuccess(res) {\n      this.form.poster = res.data;\n      this.$toast.success(\"封面上传成功\");\n    },\n\n    handlePosterRemove() {\n      this.form.poster = null;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f06c74fe\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/CreateAlbumForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"名字\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.isCartoon ? '填写这一话的名字' : '给相册起一个名字'},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),(_vm.isCartoon)?_c('el-form-item',{attrs:{\"label\":\"集数\",\"prop\":\"part\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.form.part),callback:function ($$v) {_vm.$set(_vm.form, \"part\", $$v)},expression:\"form.part\"}})],1):_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumi_id\"}},[_c('bangumi-search',{attrs:{\"followed\":true,\"placeholder\":\"请选择要投稿的番剧\"},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-row',[_c('el-switch',{model:{value:(_vm.form.is_creator),callback:function ($$v) {_vm.$set(_vm.form, \"is_creator\", $$v)},expression:\"form.is_creator\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"只有相册内容全是原创时才应该勾选\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),(_vm.form.poster)?_c('div',{staticClass:\"preview-poster\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.form.poster.url, { width: 400, mode: 2 })) + \")\") })}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"label\":\"封面\",\"prop\":\"poster\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.handleAlbumUploadSuccess,\"before-upload\":_vm.beforePosterUpload,\"on-remove\":_vm.handlePosterRemove,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"size\":\"small\",\"round\":\"\"}},[_vm._v(\"选择封面\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_CreateAlbumForm = (esExports);\n// CONCATENATED MODULE: ./src/components/image/CreateAlbumForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(173),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f06c74fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"382e6bca\"\nvar Component = normalizeComponent(\n  CreateAlbumForm,\n  image_CreateAlbumForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_CreateAlbumForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(174);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0746411e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".preview-poster[data-v-f06c74fe]{height:100px;width:500px;position:absolute;right:0;top:0;background-position:100%;background-size:contain;background-repeat:no-repeat}.el-icon-question[data-v-f06c74fe]{margin-left:10px;cursor:pointer;font-size:20px;vertical-align:middle;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/cartoonRoleApi.js\nvar cartoonRoleApi = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/forms/CreateRoleForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateRoleForm = ({\n  name: \"CreateRoleForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    isAdmin: {\n      type: Boolean,\n      default: false\n    },\n    isCreate: {\n      type: Boolean,\n      default: false\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    role: {\n      type: Object,\n      default: null\n    }\n  },\n\n  data() {\n    const validateAlias = (rule, value, callback) => {\n      if (!value || !value.length) {\n        return callback(new Error(\"至少选择 1 个标签\"));\n      }\n\n      if (value.length > 5) {\n        return callback(new Error(\"最多选择 5 个标签\"));\n      }\n\n      callback();\n    };\n\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧名称\"));\n      }\n\n      if (value.length > 35) {\n        return callback(new Error(\"名称最长 35 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateDesc = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧简介\"));\n      }\n\n      if (value.length > 200) {\n        return callback(new Error(\"简介最多 200 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateAvatar = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先上传头像\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        bangumi_id: this.bangumiId,\n        name: this.role ? this.role.name : \"\",\n        alias: this.role ? this.role.alias.split(\",\") : [],\n        avatar: this.role ? this.role.avatar : \"\",\n        intro: this.role ? this.role.intro : \"\"\n      },\n      rules: {\n        name: [{\n          validator: validateName,\n          trigger: \"submit\"\n        }],\n        intro: [{\n          validator: validateDesc,\n          trigger: \"submit\"\n        }],\n        avatar: [{\n          validator: validateAvatar,\n          trigger: \"submit\"\n        }],\n        alias: [{\n          validator: validateAlias,\n          trigger: \"submit\"\n        }]\n      },\n      submitting: false\n    };\n  },\n\n  methods: {\n    submit() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new cartoonRoleApi[\"a\" /* default */](this);\n          const name = this.form.name;\n\n          try {\n            const params = {\n              bangumi_id: this.form.bangumi_id,\n              name: name,\n              intro: this.form.intro,\n              avatar: this.form.avatar.split(\".calibur.tv/\").pop(),\n              alias: [name].concat(this.form.alias.filter(_ => _ !== name)).toString()\n            };\n\n            if (this.isCreate) {\n              await api.create(params);\n              this.$refs.form.resetFields();\n              this.$refs.upload.clearFiles();\n              this.$toast.success(\"添加成功\");\n            } else {\n              await api.edit(Object.assign(params, {\n                id: this.role.id\n              }));\n              this.$emit(\"success\");\n            }\n          } catch (err) {\n            this.$toast.error(err);\n          } finally {\n            this.submitting = false;\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    beforeAvatarUpload(file) {\n      this.uploadConfig.max = 1;\n      this.uploadConfig.pathPrefix = `bangumi/${this.bangumiId}/role`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAvatarSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.form.avatar = res.data.url;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66153dcc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/forms/CreateRoleForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":_vm.submitting,\"label-width\":\"40px\"}},[(_vm.isCreate || _vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色的中文名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.name\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"别名\",\"prop\":\"alias\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"allow-create\":\"\",\"default-first-option\":\"\",\"placeholder\":\"角色的其它名字，如：英文名、日文名\"},model:{value:(_vm.form.alias),callback:function ($$v) {_vm.$set(_vm.form, \"alias\", $$v)},expression:\"form.alias\"}})],1),_c('el-form-item',{attrs:{\"label\":\"头像\",\"prop\":\"avatar\"}},[(_vm.form.avatar)?_c('img',{staticClass:\"avatar\",staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.$resize(_vm.form.avatar, { width: 200 })}}):_vm._e(),_c('el-upload',{ref:\"upload\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"show-file-list\":false}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"prop\":\"intro\"}},[_c('el-input',{attrs:{\"rows\":5,\"type\":\"textarea\",\"placeholder\":\"请输入角色简介\"},model:{value:(_vm.form.intro),callback:function ($$v) {_vm.$set(_vm.form, \"intro\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.intro\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var forms_CreateRoleForm = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/forms/CreateRoleForm.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6a6aead6\"\nvar Component = normalizeComponent(\n  CreateRoleForm,\n  forms_CreateRoleForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_forms_CreateRoleForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 234:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(235);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"f7f2fe5a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 235:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-setting .avatar{width:100px;height:100px}#bangumi-setting .el-alert{margin-bottom:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(237);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0efffc20\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-post-setting{padding-left:20px;border-left:5px solid #ccd0d7}#bangumi-post-setting .item{margin-bottom:20px}#bangumi-post-setting .item p{margin-bottom:5px;font-weight:700}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 371:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/bangumiApi.js\nvar bangumiApi = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/forms/BangumiEditForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var BangumiEditForm = ({\n  name: \"BangumiEditForm\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    isAdmin: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    const validateTags = (rule, value, callback) => {\n      if (!value || !value.length) {\n        return callback(new Error(\"至少保留 1 个标签\"));\n      }\n\n      if (value.length > 10) {\n        return callback(new Error(\"最多选择 10 个标签\"));\n      }\n\n      callback();\n    };\n\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧名称\"));\n      }\n\n      if (value.length > 35) {\n        return callback(new Error(\"名称最长 35 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateDesc = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请先填写番剧简介\"));\n      }\n\n      if (value.length > 200) {\n        return callback(new Error(\"简介最多 200 个字\"));\n      }\n\n      callback();\n    };\n\n    return {\n      rules: {\n        name: [{\n          validator: validateName,\n          trigger: \"submit\"\n        }],\n        summary: [{\n          validator: validateDesc,\n          trigger: \"submit\"\n        }],\n        tags: [{\n          validator: validateTags,\n          trigger: \"change\"\n        }]\n      },\n      cache: {\n        avatar: \"\",\n        banner: \"\"\n      },\n      submitting: false\n    };\n  },\n\n  computed: {\n    bangumiTags() {\n      return this.$store.state.bangumi.tags;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    name: {\n      get() {\n        return this.info.name;\n      },\n\n      set(value) {\n        this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n          key: \"name\",\n          value\n        });\n      }\n\n    },\n    summary: {\n      get() {\n        return this.info.summary;\n      },\n\n      set(value) {\n        this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n          key: \"summary\",\n          value\n        });\n      }\n\n    },\n    tags: {\n      get() {\n        return this.info.tags.map(_ => _.id);\n      },\n\n      set(value) {\n        const result = value.map(_ => {\n          if (typeof _ !== \"object\") {\n            return this.bangumiTags.filter(tag => tag.id === _).map(selected => {\n              return {\n                id: selected.id,\n                name: selected.name\n              };\n            })[0];\n          }\n\n          return _;\n        });\n        this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n          key: \"tags\",\n          value: result\n        });\n      }\n\n    },\n\n    avatar() {\n      return this.info.avatar;\n    },\n\n    banner() {\n      return this.info.banner;\n    }\n\n  },\n\n  mounted() {\n    this.$store.dispatch(\"bangumi/getTags\", {\n      ctx: this\n    });\n    this.cache.avatar = this.avatar;\n    this.cache.banner = this.banner;\n  },\n\n  methods: {\n    submit() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new bangumiApi[\"a\" /* default */](this);\n\n          try {\n            await api.edit({\n              id: this.info.id,\n              name: this.name,\n              summary: this.summary,\n              avatar: this.avatar.split(\".calibur.tv/\").pop(),\n              banner: this.banner.split(\".calibur.tv/\").pop(),\n              tags: this.tags\n            });\n            this.$toast.success(\"修改成功\");\n            setTimeout(() => {\n              window.location.reload();\n            }, 1000);\n          } catch (err) {\n            this.$toast.error(err);\n          } finally {\n            this.submitting = false;\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    beforeAvatarUpload(file) {\n      this.uploadConfig.max = 1;\n      this.uploadConfig.pathPrefix = `bangumi/avatar/${this.info.id}`;\n      return this.beforeImageUpload(file);\n    },\n\n    beforeBannerUpload(file) {\n      this.uploadConfig.max = 3;\n      this.uploadConfig.pathPrefix = `bangumi/banner/${this.info.id}`;\n      return this.beforeImageUpload(file);\n    },\n\n    handleAvatarSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n        key: \"avatar\",\n        value: res.data.url\n      });\n    },\n\n    handleBannerSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n        key: \"banner\",\n        value: res.data.url\n      });\n    },\n\n    handleAvatarRemove() {\n      this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n        key: \"avatar\",\n        value: this.cache.avatar\n      });\n    },\n\n    handleBannerRemove() {\n      this.$store.commit(\"bangumi/SET_BANGUMI_INFO\", {\n        key: \"banner\",\n        value: this.cache.banner\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7311d0f5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/forms/BangumiEditForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.info,\"rules\":_vm.rules,\"disabled\":_vm.submitting,\"label-width\":\"40px\"}},[(_vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(_vm.avatar, { width: 200 })}}),_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"on-remove\":_vm.handleAvatarRemove}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"背景\"}},[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeBannerUpload,\"on-success\":_vm.handleBannerSuccess,\"on-remove\":_vm.handleBannerRemove}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"标签\",\"prop\":\"tags\"}},[(_vm.bangumiTags.length)?_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"可多选，至少选择一个\"},model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}},_vm._l((_vm.bangumiTags),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"prop\":\"summary\"}},[_c('el-input',{attrs:{\"rows\":5,\"type\":\"textarea\",\"placeholder\":\"请输入番剧简介\"},model:{value:(_vm.summary),callback:function ($$v) {_vm.summary=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"summary\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认修改\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var forms_BangumiEditForm = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/forms/BangumiEditForm.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0339c5d0\"\nvar Component = normalizeComponent(\n  BangumiEditForm,\n  forms_BangumiEditForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_forms_BangumiEditForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/bangumi/forms/CreateRoleForm.vue + 2 modules\nvar CreateRoleForm = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./src/api/postApi.js\nvar postApi = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/forms/BangumiPostSetting.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiPostSetting = ({\n  name: \"BangumiPostSetting\",\n\n  data() {\n    return {\n      set_nice_url: \"\",\n      del_nice_url: \"\",\n      set_top_url: \"\",\n      del_top_url: \"\",\n      loading: false\n    };\n  },\n\n  methods: {\n    setNice() {\n      if (!this.set_nice_url) {\n        return;\n      }\n\n      const id = this.getPostIdFromUrl(this.set_nice_url);\n\n      if (!id) {\n        this.$toast.error(\"请输入合法链接\");\n        return;\n      }\n\n      this.$confirm(\"确定要加精吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loading) {\n          return;\n        }\n\n        this.loading = true;\n        const api = new postApi[\"a\" /* default */](this);\n\n        try {\n          await api.setNice({\n            id\n          });\n          this.$toast.success(\"设置成功\");\n        } catch (err) {\n          this.$toast.error(err);\n        } finally {\n          this.loading = false;\n        }\n      }).catch(() => {});\n    },\n\n    setTop() {\n      if (!this.set_top_url) {\n        return;\n      }\n\n      const id = this.getPostIdFromUrl(this.set_top_url);\n\n      if (!id) {\n        this.$toast.error(\"请输入合法链接\");\n        return;\n      }\n\n      this.$confirm(\"确定要置顶吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loading) {\n          return;\n        }\n\n        this.loading = true;\n        const api = new postApi[\"a\" /* default */](this);\n\n        try {\n          await api.setTop({\n            id\n          });\n          this.$toast.success(\"设置成功\");\n        } catch (err) {\n          this.$toast.error(err);\n        } finally {\n          this.loading = false;\n        }\n      }).catch(() => {});\n    },\n\n    removeNice() {\n      if (!this.del_nice_url) {\n        return;\n      }\n\n      const id = this.getPostIdFromUrl(this.del_nice_url);\n\n      if (!id) {\n        this.$toast.error(\"请输入合法链接\");\n        return;\n      }\n\n      this.$confirm(\"确定要取消精吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loading) {\n          return;\n        }\n\n        this.loading = true;\n        const api = new postApi[\"a\" /* default */](this);\n\n        try {\n          await api.removeNice({\n            id\n          });\n          this.$toast.success(\"设置成功\");\n        } catch (err) {\n          this.$toast.error(err);\n        } finally {\n          this.loading = false;\n        }\n      }).catch(() => {});\n    },\n\n    removeTop() {\n      if (!this.del_top_url) {\n        return;\n      }\n\n      const id = this.getPostIdFromUrl(this.del_top_url);\n\n      if (!id) {\n        this.$toast.error(\"请输入合法链接\");\n        return;\n      }\n\n      this.$confirm(\"确定要取消置顶吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        if (this.loading) {\n          return;\n        }\n\n        this.loading = true;\n        const api = new postApi[\"a\" /* default */](this);\n\n        try {\n          await api.removeTop({\n            id\n          });\n          this.$toast.success(\"设置成功\");\n        } catch (err) {\n          this.$toast.error(err);\n        } finally {\n          this.loading = false;\n        }\n      }).catch(() => {});\n    },\n\n    getPostIdFromUrl(url) {\n      const matched = url.split(\"?\")[0].match(/^http(|s):\\/\\/(m|www).calibur.tv\\/post\\/(\\d+)$/);\n      return matched ? +matched[3] : 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ed319b2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/forms/BangumiPostSetting.vue\nvar BangumiPostSetting_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-post-setting\"}},[_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<p>加精：</p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"placeholder\":\"输入帖子链接\"},model:{value:(_vm.set_nice_url),callback:function ($$v) {_vm.set_nice_url=$$v},expression:\"set_nice_url\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"要加精的帖子链接\")])],2)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.setNice}},[_vm._v(\"确认\")])],1)],1)],2),_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<p>取消精：</p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"placeholder\":\"输入帖子链接\"},model:{value:(_vm.del_nice_url),callback:function ($$v) {_vm.del_nice_url=$$v},expression:\"del_nice_url\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"要取消精的帖子链接\")])],2)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"danger\"},on:{\"click\":_vm.removeNice}},[_vm._v(\"确认\")])],1)],1)],2),_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<p>置顶（最多同时有 3 个置顶帖）：</p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"placeholder\":\"输入帖子链接\"},model:{value:(_vm.set_top_url),callback:function ($$v) {_vm.set_top_url=$$v},expression:\"set_top_url\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"要置顶的帖子链接\")])],2)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.setTop}},[_vm._v(\"确认\")])],1)],1)],2),_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<p>取消置顶：</p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"placeholder\":\"输入帖子链接\"},model:{value:(_vm.del_top_url),callback:function ($$v) {_vm.del_top_url=$$v},expression:\"del_top_url\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"要取消置顶的帖子链接\")])],2)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"danger\"},on:{\"click\":_vm.removeTop}},[_vm._v(\"确认\")])],1)],1)],2)])}\nvar BangumiPostSetting_staticRenderFns = []\nvar BangumiPostSetting_esExports = { render: BangumiPostSetting_render, staticRenderFns: BangumiPostSetting_staticRenderFns }\n/* harmony default export */ var forms_BangumiPostSetting = (BangumiPostSetting_esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/forms/BangumiPostSetting.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(236),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiPostSetting_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiPostSetting___vue_template_functional__ = false\n/* styles */\nvar BangumiPostSetting___vue_styles__ = injectStyle\n/* scopeId */\nvar BangumiPostSetting___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiPostSetting___vue_module_identifier__ = \"59064b56\"\nvar BangumiPostSetting_Component = BangumiPostSetting_normalizeComponent(\n  BangumiPostSetting,\n  forms_BangumiPostSetting,\n  BangumiPostSetting___vue_template_functional__,\n  BangumiPostSetting___vue_styles__,\n  BangumiPostSetting___vue_scopeId__,\n  BangumiPostSetting___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_forms_BangumiPostSetting = (BangumiPostSetting_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/image/UploadImageForm.vue + 2 modules\nvar UploadImageForm = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./src/components/image/CreateAlbumForm.vue + 2 modules\nvar CreateAlbumForm = __webpack_require__(172);\n\n// EXTERNAL MODULE: ./src/components/image/ImageAlbumSelect.vue + 2 modules\nvar ImageAlbumSelect = __webpack_require__(161);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/setting.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ var setting = ({\n  name: \"BangumiSetting\",\n  components: {\n    BangumiEditForm: bangumi_forms_BangumiEditForm,\n    CreateRoleForm: CreateRoleForm[\"a\" /* default */],\n    BangumiPostSetting: bangumi_forms_BangumiPostSetting,\n    UploadImageForm: UploadImageForm[\"a\" /* default */],\n    CreateAlbumForm: CreateAlbumForm[\"a\" /* default */],\n    ImageAlbumSelect: ImageAlbumSelect[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      activeName: \"0\",\n      showSelectAlbum: false,\n      createdAlbum: null,\n      selectedAlbum: null\n    };\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n\n  mounted() {\n    if (!this.info.is_master) {\n      this.$router.replace({\n        name: \"bangumi-post\"\n      });\n    }\n  },\n\n  methods: {\n    setSelectedAlbum(album) {\n      this.selectedAlbum = album;\n    },\n\n    handleAlbumCreated(album) {\n      this.createdAlbum = album;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-981571ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/setting.vue\nvar setting_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info.is_master)?_c('div',{attrs:{\"id\":\"bangumi-setting\"}},[_c('el-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-collapse-item',{attrs:{\"title\":\"编辑番剧\",\"name\":\"1\"}},[_c('bangumi-edit-form')],1),_c('el-collapse-item',{attrs:{\"title\":\"添加偶像\",\"name\":\"2\"}},[_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('div',[_vm._v(\"1：请勿添加与《\"+_vm._s(_vm.info.name)+\"》无关的偶像\")]),_c('div',[_vm._v(\"2：添加偶像之前，请先在偶像列表里查找是否已添加过，请勿重复添加\")])]),_c('create-role-form',{attrs:{\"bangumi-id\":_vm.info.id,\"is-create\":true}})],1),_c('el-collapse-item',{attrs:{\"title\":\"帖子操作\",\"name\":\"3\"}},[_c('bangumi-post-setting')],1),_c('el-collapse-item',{attrs:{\"title\":\"上传漫画\",\"name\":\"4\"}},[(_vm.createdAlbum)?[_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('div',[_vm._v(\"1：漫画已经创建，但还没有内容，最好尽快上传内容\")]),_c('div',[_vm._v(\"2：下面的上传按钮可以一次最多上传 \"),_c('strong',[_vm._v(\"51\")]),_vm._v(\" 张图片，当然你也可以在其它地方上传，但其它地方一次能够上传的更少\")]),_c('div',[_vm._v(\"3：上传完成之后，可以在漫画页面排序和删除多余的图片\")])]),_c('el-alert',{attrs:{\"title\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n          当前选中漫画：\"+_vm._s(_vm.createdAlbum.name)+\"\\n        \")]),_c('upload-image-form',{attrs:{\"selected-album-id\":_vm.createdAlbum.id,\"selected-bangumi-id\":_vm.info.id,\"exceed\":51,\"is-cartoon\":true}})]:[_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"\"}},[_vm._v(\"\\n          请先创建一个相册，填写相应的漫画信息，或 \\n          \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":function($event){_vm.showSelectAlbum = !_vm.showSelectAlbum}}},[_vm._v(\"\\n            选择已有漫画\\n          \")]),_vm._v(\"\\n          ，进行续传\\n        \")],1),(_vm.showSelectAlbum)?_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('image-album-select',{on:{\"success\":_vm.setSelectedAlbum}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.createdAlbum = _vm.selectedAlbum}}},[_vm._v(\"\\n              确认\\n            \")])],1)],1):_c('create-album-form',{attrs:{\"bangumi-id\":_vm.info.id,\"is-cartoon\":true},on:{\"success\":_vm.handleAlbumCreated}})]],2)],1)],1):_vm._e()}\nvar setting_staticRenderFns = []\nvar setting_esExports = { render: setting_render, staticRenderFns: setting_staticRenderFns }\n/* harmony default export */ var show_setting = (setting_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/setting.vue\nfunction setting_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(234),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar setting_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar setting___vue_template_functional__ = false\n/* styles */\nvar setting___vue_styles__ = setting_injectStyle\n/* scopeId */\nvar setting___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar setting___vue_module_identifier__ = \"56681215\"\nvar setting_Component = setting_normalizeComponent(\n  setting,\n  show_setting,\n  setting___vue_template_functional__,\n  setting___vue_styles__,\n  setting___vue_scopeId__,\n  setting___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_setting = __webpack_exports__[\"default\"] = (setting_Component.exports);\n\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "14.server-bundle.js": "exports.ids = [14];\nexports.modules = {\n\n/***/ 303:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(304);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"494f84a8\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#app-wrapper:after,#app-wrapper:before{content:\\\"\\\";clear:both;display:table}#app-wrapper{position:relative;height:100%;width:100%}#app-wrapper .app-main{height:100%;padding:20px}#app-wrapper .app-main>*{min-height:100%}#app-wrapper .app-main>*>header{margin-bottom:20px}#app-wrapper .app-main>*>footer{margin-top:20px;margin-right:30px}#app-wrapper .drawer-bg{background:#000;opacity:.3;width:100%;top:0;height:100%;position:absolute;z-index:999}#app-wrapper label{font-weight:700}#app-wrapper ul:after,#app-wrapper ul:before{content:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(306);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0ea762b5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#admin-nav .navbar{height:50px;line-height:50px;border-radius:0!important}#admin-nav .navbar .hamburger-container{line-height:58px;height:50px;float:left;padding:0 10px}#admin-nav .navbar .screenfull{position:absolute;right:90px;top:16px;color:red}#admin-nav .navbar .avatar-container{height:50px;display:inline-block;position:absolute;right:35px}#admin-nav .navbar .avatar-container .avatar-wrapper{cursor:pointer;margin-top:5px;position:relative}#admin-nav .navbar .avatar-container .avatar-wrapper .user-avatar{width:40px;height:40px;border-radius:10px}#admin-nav .navbar .avatar-container .avatar-wrapper .el-icon-caret-bottom{position:absolute;right:-20px;top:25px;font-size:12px}#admin-nav .todo{background:#fff;height:39px;border-bottom:1px solid #d8dce5;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04);box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04);padding:5px 0 0 8px}#admin-nav .todo a{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(308);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1e0e53f2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".app-breadcrumb.el-breadcrumb[data-v-4fc64522]{display:inline-block;font-size:14px;line-height:50px;margin-left:10px}.app-breadcrumb.el-breadcrumb .no-redirect[data-v-4fc64522]{color:#97a8be;cursor:text}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(311);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"cec58772\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".main-container{height:100%;-webkit-transition:margin-left .28s;-o-transition:margin-left .28s;transition:margin-left .28s;margin-left:180px}.sidebar-container{-webkit-transition:width .28s;-o-transition:width .28s;transition:width .28s;width:180px!important;height:100%;position:fixed;font-size:0;top:0;bottom:0;left:0;z-index:1001;overflow:hidden}.sidebar-container .horizontal-collapse-transition{-webkit-transition:width 0s ease-in-out,padding-left 0s ease-in-out,padding-right 0s ease-in-out;-o-transition:0s width ease-in-out,0s padding-left ease-in-out,0s padding-right ease-in-out;transition:width 0s ease-in-out,padding-left 0s ease-in-out,padding-right 0s ease-in-out}.sidebar-container .scrollbar-wrapper{height:calc(100% + 15px)}.sidebar-container .scrollbar-wrapper .el-scrollbar__view{height:100%}.sidebar-container .is-horizontal{display:none}.sidebar-container a{display:inline-block;width:100%;overflow:hidden}.sidebar-container .fas{margin-right:16px;width:18px}.sidebar-container .el-menu{border:none;height:100%;width:100%!important}.sidebar-container .el-submenu .el-menu-item,.sidebar-container .nest-menu .el-submenu>.el-submenu__title{min-width:180px!important;background-color:#1f2d3d!important}.sidebar-container .el-submenu .el-menu-item:hover,.sidebar-container .nest-menu .el-submenu>.el-submenu__title:hover{background-color:#001528!important}.sidebar-container .router-link-active i,.sidebar-container .router-link-active span{color:#409eff}.sidebar-container .el-menu--collapse .el-menu .el-submenu{min-width:180px!important}.hideSidebar .sidebar-container{width:36px!important}.hideSidebar .main-container{margin-left:36px}.hideSidebar .submenu-title-noDropdown{padding-left:10px!important;position:relative}.hideSidebar .submenu-title-noDropdown .el-tooltip{padding:0 10px!important}.hideSidebar .el-submenu{overflow:hidden}.hideSidebar .el-submenu>.el-submenu__title{padding-left:10px!important}.hideSidebar .el-submenu>.el-submenu__title .el-submenu__icon-arrow{display:none}.hideSidebar .el-menu--collapse .el-submenu>.el-submenu__title>span{height:0;width:0;overflow:hidden;visibility:hidden;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(313);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7be42c24\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".page-wrap{margin-top:30px;margin-bottom:50px;margin-right:30px;text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 408:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar modules_namespaceObject = {};\n__webpack_require__.d(modules_namespaceObject, \"parseTime\", function() { return parseTime; });\n__webpack_require__.d(modules_namespaceObject, \"formatTime\", function() { return formatTime; });\n__webpack_require__.d(modules_namespaceObject, \"timeAgo\", function() { return timeAgo; });\n__webpack_require__.d(modules_namespaceObject, \"numberFormatter\", function() { return numberFormatter; });\n__webpack_require__.d(modules_namespaceObject, \"toThousandslsFilter\", function() { return toThousandslsFilter; });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Breadcrumb/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Breadcrumb = ({\n  data() {\n    return {\n      levelList: null\n    };\n  },\n\n  watch: {\n    $route() {\n      this.getBreadcrumb();\n    }\n\n  },\n\n  beforeMount() {\n    this.getBreadcrumb();\n  },\n\n  methods: {\n    getBreadcrumb() {\n      let matched = this.$route.matched.filter(item => item.name);\n      const first = matched[0];\n\n      if (first && first.name !== \"dashboard\") {\n        matched = [{\n          path: \"/dashboard\",\n          meta: {\n            title: \"首页\"\n          }\n        }].concat(matched);\n      }\n\n      this.levelList = matched;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fc64522\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Breadcrumb/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-breadcrumb',{staticClass:\"app-breadcrumb\",attrs:{\"separator\":\"/\"}},[_c('transition-group',{attrs:{\"name\":\"breadcrumb\"}},_vm._l((_vm.levelList),function(item,index){return (item.meta.title)?_c('el-breadcrumb-item',{key:item.path},[(item.redirect === 'noredirect' || index == _vm.levelList.length - 1)?_c('span',{staticClass:\"no-redirect\"},[_vm._v(\"\\n        \"+_vm._s(item.meta.title)+\"\\n      \")]):_c('router-link',{attrs:{\"to\":'/admin' + (item.redirect ? (\"/\" + (item.redirect)) : item.path)}},[_vm._v(\"\\n        \"+_vm._s(item.meta.title)+\"\\n      \")])],1):_vm._e()}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_Breadcrumb = (esExports);\n// CONCATENATED MODULE: ./src/admin/components/Breadcrumb/index.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(307),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4fc64522\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"086b37e2\"\nvar Component = normalizeComponent(\n  Breadcrumb,\n  components_Breadcrumb,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var admin_components_Breadcrumb = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Hamburger/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Hamburger = ({\n  name: \"Hamburger\",\n  props: {\n    isActive: {\n      type: Boolean,\n      default: false\n    },\n    toggleClick: {\n      type: Function,\n      default: null\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b2858c8\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Hamburger/index.vue\nvar Hamburger_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<svg t=\\\"1492500959545\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"1691\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"64\\\" height=\\\"64\\\"\"+(_vm._ssrClass(\"hamburger\",{'is-active':_vm.isActive}))+\" data-v-6b2858c8><path d=\\\"M966.8023 568.849776 57.196677 568.849776c-31.397081 0-56.850799-25.452695-56.850799-56.850799l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 543.397081 998.200404 568.849776 966.8023 568.849776z\\\" p-id=\\\"1692\\\" data-v-6b2858c8></path><path d=\\\"M966.8023 881.527125 57.196677 881.527125c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 856.07443 998.200404 881.527125 966.8023 881.527125z\\\" p-id=\\\"1693\\\" data-v-6b2858c8></path><path d=\\\"M966.8023 256.17345 57.196677 256.17345c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.850799 56.850799-56.850799l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.850799l0 0C1023.653099 230.720755 998.200404 256.17345 966.8023 256.17345z\\\" p-id=\\\"1694\\\" data-v-6b2858c8></path></svg>\")])}\nvar Hamburger_staticRenderFns = []\nvar Hamburger_esExports = { render: Hamburger_render, staticRenderFns: Hamburger_staticRenderFns }\n/* harmony default export */ var components_Hamburger = (Hamburger_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Hamburger/index.vue\nfunction Hamburger_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(309),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Hamburger_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Hamburger___vue_template_functional__ = false\n/* styles */\nvar Hamburger___vue_styles__ = Hamburger_injectStyle\n/* scopeId */\nvar Hamburger___vue_scopeId__ = \"data-v-6b2858c8\"\n/* moduleIdentifier (server only) */\nvar Hamburger___vue_module_identifier__ = \"d96efdda\"\nvar Hamburger_Component = Hamburger_normalizeComponent(\n  Hamburger,\n  components_Hamburger,\n  Hamburger___vue_template_functional__,\n  Hamburger___vue_styles__,\n  Hamburger___vue_scopeId__,\n  Hamburger___vue_module_identifier__\n)\n\n/* harmony default export */ var admin_components_Hamburger = (Hamburger_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Layout/Navbar.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var Navbar = ({\n  components: {\n    Breadcrumb: admin_components_Breadcrumb,\n    Hamburger: admin_components_Hamburger\n  },\n\n  data() {\n    return {\n      todo: null\n    };\n  },\n\n  computed: {\n    sidebar() {\n      return this.$store.state.admin.sidebar;\n    },\n\n    todoCount() {\n      let result = 0;\n\n      if (!this.todo) {\n        return result;\n      }\n\n      Object.keys(this.todo).forEach(key => {\n        result += this.todo[key];\n      });\n      return result;\n    }\n\n  },\n  watch: {\n    $route() {\n      this.getTodo();\n    }\n\n  },\n\n  mounted() {\n    this.getTodo();\n    this.$channel.$on(\"admin-trial-do\", ({\n      type,\n      count = 1\n    }) => {\n      this.todo[type] = this.todo[type] - count;\n    });\n    this.$channel.$on(\"admin-get-to-do\", () => {\n      this.getTodo();\n    });\n  },\n\n  methods: {\n    toggleSideBar() {\n      this.$store.dispatch(\"admin/ToggleSideBar\");\n    },\n\n    getTodo() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTodo().then(data => {\n        this.todo = data;\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a55fdd0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Layout/Navbar.vue\nvar Navbar_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"id\":\"admin-nav\"}},[_c('el-menu',{staticClass:\"navbar\",attrs:{\"mode\":\"horizontal\"}},[_c('hamburger',{staticClass:\"hamburger-container\",attrs:{\"toggle-click\":_vm.toggleSideBar,\"is-active\":_vm.sidebar.opened}}),_c('breadcrumb')],1),(_vm.todoCount)?_vm._ssrNode(\"<div class=\\\"todo\\\">\",\"</div>\",[(_vm.todo.users)?_c('router-link',{attrs:{\"to\":\"/admin/trial/user\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"用户待审：\"+_vm._s(_vm.todo.users))])],1):_vm._e(),(_vm.todo.images)?_c('router-link',{attrs:{\"to\":\"/admin/trial/image\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(\"图片待审：\"+_vm._s(_vm.todo.images))])],1):_vm._e(),(_vm.todo.posts)?_c('router-link',{attrs:{\"to\":\"/admin/trial/post\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"帖子待审：\"+_vm._s(_vm.todo.posts))])],1):_vm._e(),(_vm.todo.comments)?_c('router-link',{attrs:{\"to\":\"/admin/trial/comment\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"评论待审：\"+_vm._s(_vm.todo.comments))])],1):_vm._e(),(_vm.todo.feedback)?_c('router-link',{attrs:{\"to\":\"/admin/user/feedback\"}},[_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"}},[_vm._v(\"用户反馈：\"+_vm._s(_vm.todo.feedback))])],1):_vm._e(),(_vm.todo.bangumi)?_c('router-link',{attrs:{\"to\":\"/admin/trial/bangumi\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"番剧审核：\"+_vm._s(_vm.todo.bangumi))])],1):_vm._e(),(_vm.todo.role)?_c('router-link',{attrs:{\"to\":\"/admin/trial/role\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"偶像审核：\"+_vm._s(_vm.todo.role))])],1):_vm._e(),(_vm.todo.score)?_c('router-link',{attrs:{\"to\":\"/admin/trial/score\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"漫评审核：\"+_vm._s(_vm.todo.score))])],1):_vm._e(),(_vm.todo.question)?_c('router-link',{attrs:{\"to\":\"/admin/trial/question\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"提问审核：\"+_vm._s(_vm.todo.question))])],1):_vm._e(),(_vm.todo.answer)?_c('router-link',{attrs:{\"to\":\"/admin/trial/answer\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"回答审核：\"+_vm._s(_vm.todo.answer))])],1):_vm._e(),(_vm.todo.report)?_c('router-link',{attrs:{\"to\":\"/admin/cm/user/report\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"用户举报：\"+_vm._s(_vm.todo.report))])],1):_vm._e()],1):_vm._e()],1)}\nvar Navbar_staticRenderFns = []\nvar Navbar_esExports = { render: Navbar_render, staticRenderFns: Navbar_staticRenderFns }\n/* harmony default export */ var Layout_Navbar = (Navbar_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Layout/Navbar.vue\nfunction Navbar_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(305),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Navbar_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Navbar___vue_template_functional__ = false\n/* styles */\nvar Navbar___vue_styles__ = Navbar_injectStyle\n/* scopeId */\nvar Navbar___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Navbar___vue_module_identifier__ = \"706ca888\"\nvar Navbar_Component = Navbar_normalizeComponent(\n  Navbar,\n  Layout_Navbar,\n  Navbar___vue_template_functional__,\n  Navbar___vue_styles__,\n  Navbar___vue_scopeId__,\n  Navbar___vue_module_identifier__\n)\n\n/* harmony default export */ var components_Layout_Navbar = (Navbar_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Layout/SidebarItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SidebarItem = ({\n  name: \"SidebarItem\",\n  props: {\n    routes: {\n      type: Array,\n      default: () => []\n    },\n    isNest: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    hasOneShowingChildren(children) {\n      const showingChildren = children.filter(item => {\n        return !item.hidden;\n      });\n      return showingChildren.length === 1;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30193c72\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Layout/SidebarItem.vue\nvar SidebarItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-wrapper\"},[_vm._l((_vm.routes),function(item){return (!item.hidden && item.children)?[(_vm.hasOneShowingChildren(item.children) && !item.children[0].children && !item.alwaysShow)?_c('router-link',{key:item.children[0].name,attrs:{\"to\":'/admin/' + item.path + '/' + item.children[0].path}},[_c('el-menu-item',{class:{'submenu-title-noDropdown':!_vm.isNest},attrs:{\"index\":item.path+'/'+item.children[0].path}},[(item.children[0].meta && item.children[0].meta.icon)?_c('svg-icon',{attrs:{\"icon-class\":item.children[0].meta.icon}}):_vm._e(),(item.children[0].meta && item.children[0].meta.title)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.children[0].meta.title))]):_vm._e()],1)],1):_c('el-submenu',{key:item.name,attrs:{\"index\":item.name||item.path}},[_c('template',{slot:\"title\"},[(item.meta && item.meta.icon)?_c('svg-icon',{attrs:{\"icon-class\":item.meta.icon}}):_vm._e(),(item.meta && item.meta.title)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.meta.title))]):_vm._e()],1),_vm._l((item.children),function(child){return (!child.hidden)?[(child.children && child.children.length > 0)?_c('sidebar-item',{key:child.path,staticClass:\"nest-menu\",attrs:{\"is-nest\":true,\"routes\":[child]}}):_c('router-link',{key:child.name,attrs:{\"to\":'/admin/' + item.path + '/' + child.path}},[_c('el-menu-item',{attrs:{\"index\":item.path+'/'+child.path}},[(child.meta && child.meta.icon)?_c('svg-icon',{attrs:{\"icon-class\":item.meta.icon}}):_vm._e(),(child.meta && child.meta.title)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(child.meta.title))]):_vm._e()],1)],1)]:_vm._e()})],2)]:_vm._e()})],2)}\nvar SidebarItem_staticRenderFns = []\nvar SidebarItem_esExports = { render: SidebarItem_render, staticRenderFns: SidebarItem_staticRenderFns }\n/* harmony default export */ var Layout_SidebarItem = (SidebarItem_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Layout/SidebarItem.vue\nvar SidebarItem_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SidebarItem___vue_template_functional__ = false\n/* styles */\nvar SidebarItem___vue_styles__ = null\n/* scopeId */\nvar SidebarItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SidebarItem___vue_module_identifier__ = \"2a3b6713\"\nvar SidebarItem_Component = SidebarItem_normalizeComponent(\n  SidebarItem,\n  Layout_SidebarItem,\n  SidebarItem___vue_template_functional__,\n  SidebarItem___vue_styles__,\n  SidebarItem___vue_scopeId__,\n  SidebarItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_Layout_SidebarItem = (SidebarItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Layout/Sidebar.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Sidebar = ({\n  components: {\n    SidebarItem: components_Layout_SidebarItem\n  },\n  computed: {\n    sidebar() {\n      return this.$store.state.admin.sidebar;\n    },\n\n    routes() {\n      return this.$router.options.routes.filter(_ => _.path === \"/admin\")[0].children;\n    },\n\n    isCollapse() {\n      return !this.sidebar.opened;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fcfc3c2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Layout/Sidebar.vue\nvar Sidebar_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-scrollbar',{attrs:{\"wrap-class\":\"scrollbar-wrapper\"}},[_c('el-menu',{attrs:{\"show-timeout\":200,\"default-active\":_vm.$route.path,\"collapse\":_vm.isCollapse,\"mode\":\"vertical\",\"background-color\":\"#304156\",\"text-color\":\"#bfcbd9\",\"active-text-color\":\"#409EFF\"}},[_c('sidebar-item',{attrs:{\"routes\":_vm.routes}})],1)],1)}\nvar Sidebar_staticRenderFns = []\nvar Sidebar_esExports = { render: Sidebar_render, staticRenderFns: Sidebar_staticRenderFns }\n/* harmony default export */ var Layout_Sidebar = (Sidebar_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Layout/Sidebar.vue\nfunction Sidebar_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(310),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Sidebar_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Sidebar___vue_template_functional__ = false\n/* styles */\nvar Sidebar___vue_styles__ = Sidebar_injectStyle\n/* scopeId */\nvar Sidebar___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Sidebar___vue_module_identifier__ = \"baf82540\"\nvar Sidebar_Component = Sidebar_normalizeComponent(\n  Sidebar,\n  Layout_Sidebar,\n  Sidebar___vue_template_functional__,\n  Sidebar___vue_styles__,\n  Sidebar___vue_scopeId__,\n  Sidebar___vue_module_identifier__\n)\n\n/* harmony default export */ var components_Layout_Sidebar = (Sidebar_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Layout/AppMain.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var AppMain = ({\n  name: \"AppMain\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-420da7c7\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Layout/AppMain.vue\nvar AppMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"app-main\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar AppMain_staticRenderFns = []\nvar AppMain_esExports = { render: AppMain_render, staticRenderFns: AppMain_staticRenderFns }\n/* harmony default export */ var Layout_AppMain = (AppMain_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Layout/AppMain.vue\nvar AppMain_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar AppMain___vue_template_functional__ = false\n/* styles */\nvar AppMain___vue_styles__ = null\n/* scopeId */\nvar AppMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar AppMain___vue_module_identifier__ = \"31dac304\"\nvar AppMain_Component = AppMain_normalizeComponent(\n  AppMain,\n  Layout_AppMain,\n  AppMain___vue_template_functional__,\n  AppMain___vue_styles__,\n  AppMain___vue_scopeId__,\n  AppMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_Layout_AppMain = (AppMain_Component.exports);\n\n// EXTERNAL MODULE: external \"moment\"\nvar external__moment_ = __webpack_require__(90);\nvar external__moment__default = /*#__PURE__*/__webpack_require__.n(external__moment_);\n\n// EXTERNAL MODULE: external \"vue\"\nvar external__vue_ = __webpack_require__(6);\nvar external__vue__default = /*#__PURE__*/__webpack_require__.n(external__vue_);\n\n// CONCATENATED MODULE: ./src/admin/utils/index.js\n/**\n * Created by jiachenpan on 16/11/18.\n */\nfunction parseTime(time, cFormat) {\n  if (arguments.length === 0) {\n    return null;\n  }\n\n  const format = cFormat || \"{y}-{m}-{d} {h}:{i}:{s}\";\n  let date;\n\n  if (typeof time === \"object\") {\n    date = time;\n  } else {\n    if ((\"\" + time).length === 10) time = parseInt(time) * 1000;\n    date = new Date(time);\n  }\n\n  const formatObj = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay()\n  };\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n    let value = formatObj[key];\n    if (key === \"a\") return [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"][value - 1];\n\n    if (result.length > 0 && value < 10) {\n      value = \"0\" + value;\n    }\n\n    return value || 0;\n  });\n  return time_str;\n}\nfunction formatTime(time, option) {\n  time = +time * 1000;\n  const d = new Date(time);\n  const now = Date.now();\n  const diff = (now - d) / 1000;\n\n  if (diff < 30) {\n    return \"刚刚\";\n  } else if (diff < 3600) {\n    // less 1 hour\n    return Math.ceil(diff / 60) + \"分钟前\";\n  } else if (diff < 3600 * 24) {\n    return Math.ceil(diff / 3600) + \"小时前\";\n  } else if (diff < 3600 * 24 * 2) {\n    return \"1天前\";\n  }\n\n  if (option) {\n    return parseTime(time, option);\n  } else {\n    return d.getMonth() + 1 + \"月\" + d.getDate() + \"日\" + d.getHours() + \"时\" + d.getMinutes() + \"分\";\n  }\n} // 格式化时间\n\nfunction getQueryObject(url) {\n  url = url == null ? window.location.href : url;\n  const search = url.substring(url.lastIndexOf(\"?\") + 1);\n  const obj = {};\n  const reg = /([^?&=]+)=([^?&=]*)/g;\n  search.replace(reg, (rs, $1, $2) => {\n    const name = decodeURIComponent($1);\n    let val = decodeURIComponent($2);\n    val = String(val);\n    obj[name] = val;\n    return rs;\n  });\n  return obj;\n}\n/**\n *get getByteLen\n * @param {Sting} val input value\n * @returns {number} output value\n */\n\nfunction getByteLen(val) {\n  let len = 0;\n\n  for (let i = 0; i < val.length; i++) {\n    if (val[i].match(/[^\\x00-\\xff]/gi) != null) {\n      len += 1;\n    } else {\n      len += 0.5;\n    }\n  }\n\n  return Math.floor(len);\n}\nfunction cleanArray(actual) {\n  const newArray = [];\n\n  for (let i = 0; i < actual.length; i++) {\n    if (actual[i]) {\n      newArray.push(actual[i]);\n    }\n  }\n\n  return newArray;\n}\nfunction param(json) {\n  if (!json) return \"\";\n  return cleanArray(Object.keys(json).map(key => {\n    if (json[key] === undefined) return \"\";\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(json[key]);\n  })).join(\"&\");\n}\nfunction param2Obj(url) {\n  const search = url.split(\"?\")[1];\n\n  if (!search) {\n    return {};\n  }\n\n  return JSON.parse('{\"' + decodeURIComponent(search).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\n}\nfunction html2Text(val) {\n  const div = document.createElement(\"div\");\n  div.innerHTML = val;\n  return div.textContent || div.innerText;\n}\nfunction objectMerge(target, source) {\n  /* Merges two  objects,\n     giving the last one precedence */\n  if (typeof target !== \"object\") {\n    target = {};\n  }\n\n  if (Array.isArray(source)) {\n    return source.slice();\n  }\n\n  Object.keys(source).forEach(property => {\n    const sourceProperty = source[property];\n\n    if (typeof sourceProperty === \"object\") {\n      target[property] = objectMerge(target[property], sourceProperty);\n    } else {\n      target[property] = sourceProperty;\n    }\n  });\n  return target;\n}\nfunction scrollTo(element, to, duration) {\n  if (duration <= 0) return;\n  const difference = to - element.scrollTop;\n  const perTick = difference / duration * 10;\n  setTimeout(() => {\n    console.log(new Date());\n    element.scrollTop = element.scrollTop + perTick;\n    if (element.scrollTop === to) return;\n    scrollTo(element, to, duration - 10);\n  }, 10);\n}\nfunction toggleClass(element, className) {\n  if (!element || !className) {\n    return;\n  }\n\n  let classString = element.className;\n  const nameIndex = classString.indexOf(className);\n\n  if (nameIndex === -1) {\n    classString += \"\" + className;\n  } else {\n    classString = classString.substr(0, nameIndex) + classString.substr(nameIndex + className.length);\n  }\n\n  element.className = classString;\n}\nconst pickerOptions = [{\n  text: \"今天\",\n\n  onClick(picker) {\n    const end = new Date();\n    const start = new Date(new Date().toDateString());\n    end.setTime(start.getTime());\n    picker.$emit(\"pick\", [start, end]);\n  }\n\n}, {\n  text: \"最近一周\",\n\n  onClick(picker) {\n    const end = new Date(new Date().toDateString());\n    const start = new Date();\n    start.setTime(end.getTime() - 3600 * 1000 * 24 * 7);\n    picker.$emit(\"pick\", [start, end]);\n  }\n\n}, {\n  text: \"最近一个月\",\n\n  onClick(picker) {\n    const end = new Date(new Date().toDateString());\n    const start = new Date();\n    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n    picker.$emit(\"pick\", [start, end]);\n  }\n\n}, {\n  text: \"最近三个月\",\n\n  onClick(picker) {\n    const end = new Date(new Date().toDateString());\n    const start = new Date();\n    start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n    picker.$emit(\"pick\", [start, end]);\n  }\n\n}];\nfunction getTime(type) {\n  if (type === \"start\") {\n    return new Date().getTime() - 3600 * 1000 * 24 * 90;\n  } else {\n    return new Date(new Date().toDateString());\n  }\n}\nfunction debounce(func, wait, immediate) {\n  let timeout, args, context, timestamp, result;\n\n  const later = function () {\n    // 据上一次触发时间间隔\n    const last = +new Date() - timestamp; // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null; // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function (...args) {\n    context = this;\n    timestamp = +new Date();\n    const callNow = immediate && !timeout; // 如果延时不存在，重新设定延时\n\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n/**\n * This is just a simple version of deep copy\n * Has a lot of edge cases bug\n * If you want to use a perfect deep copy, use lodash's _.cloneDeep\n */\n\nfunction deepClone(source) {\n  if (!source && typeof source !== \"object\") {\n    throw new Error(\"error arguments\", \"shallowClone\");\n  }\n\n  const targetObj = source.constructor === Array ? [] : {};\n  Object.keys(source).forEach(keys => {\n    if (source[keys] && typeof source[keys] === \"object\") {\n      targetObj[keys] = deepClone(source[keys]);\n    } else {\n      targetObj[keys] = source[keys];\n    }\n  });\n  return targetObj;\n}\nfunction uniqueArr(arr) {\n  return Array.from(new Set(arr));\n}\n// CONCATENATED MODULE: ./src/admin/filters/modules.js\n// set function parseTime,formatTime to filter\n\n\nfunction pluralize(time, label) {\n  if (time === 1) {\n    return time + label;\n  }\n\n  return time + label + \"s\";\n}\n\nfunction timeAgo(time) {\n  const between = Date.now() / 1000 - Number(time);\n\n  if (between < 3600) {\n    return pluralize(~~(between / 60), \" minute\");\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), \" hour\");\n  } else {\n    return pluralize(~~(between / 86400), \" day\");\n  }\n}\n/* 数字 格式化*/\n\nfunction numberFormatter(num, digits) {\n  const si = [{\n    value: 1e18,\n    symbol: \"E\"\n  }, {\n    value: 1e15,\n    symbol: \"P\"\n  }, {\n    value: 1e12,\n    symbol: \"T\"\n  }, {\n    value: 1e9,\n    symbol: \"G\"\n  }, {\n    value: 1e6,\n    symbol: \"M\"\n  }, {\n    value: 1e3,\n    symbol: \"k\"\n  }];\n\n  for (let i = 0; i < si.length; i++) {\n    if (num >= si[i].value) {\n      return (num / si[i].value + 0.1).toFixed(digits).replace(/\\.0+$|(\\.[0-9]*[1-9])0+$/, \"$1\") + si[i].symbol;\n    }\n  }\n\n  return num.toString();\n}\nfunction toThousandslsFilter(num) {\n  return (+num || 0).toString().replace(/^-?\\d+/g, m => m.replace(/(?=(?!\\b)(\\d{3})+$)/g, \",\"));\n}\n// CONCATENATED MODULE: ./src/admin/filters/index.js\n\n // global filters\n// register global utility filters.\n\nObject.keys(modules_namespaceObject).forEach(key => {\n  external__vue__default.a.filter(key, modules_namespaceObject[key]);\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/SvgIcon/index.vue\n//\n//\n//\n//\n/* harmony default export */ var SvgIcon = ({\n  name: \"SvgIcon\",\n  props: {\n    iconClass: {\n      type: String,\n      required: true\n    },\n    className: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    computeClass() {\n      return this.iconClass.replace(/[A-Z]/g, i => {\n        return \"-\" + i.toLowerCase();\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f207251\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/SvgIcon/index.vue\nvar SvgIcon_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{class:[_vm.className, 'fas', (\"fa-\" + _vm.computeClass)]},[])}\nvar SvgIcon_staticRenderFns = []\nvar SvgIcon_esExports = { render: SvgIcon_render, staticRenderFns: SvgIcon_staticRenderFns }\n/* harmony default export */ var components_SvgIcon = (SvgIcon_esExports);\n// CONCATENATED MODULE: ./src/admin/components/SvgIcon/index.vue\nvar SvgIcon_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SvgIcon___vue_template_functional__ = false\n/* styles */\nvar SvgIcon___vue_styles__ = null\n/* scopeId */\nvar SvgIcon___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SvgIcon___vue_module_identifier__ = \"c660c672\"\nvar SvgIcon_Component = SvgIcon_normalizeComponent(\n  SvgIcon,\n  components_SvgIcon,\n  SvgIcon___vue_template_functional__,\n  SvgIcon___vue_styles__,\n  SvgIcon___vue_scopeId__,\n  SvgIcon___vue_module_identifier__\n)\n\n/* harmony default export */ var admin_components_SvgIcon = (SvgIcon_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Page/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Page = ({\n  name: \"VPage\",\n  props: {\n    state: {\n      required: true,\n      type: Object\n    },\n    change: {\n      required: true,\n      type: Function\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-461e2afa\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Page/index.vue\nvar Page_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.state.cur,\"page-size\":_vm.state.size,\"total\":_vm.state.total,\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\"},on:{\"current-change\":_vm.change}})],1)}\nvar Page_staticRenderFns = []\nvar Page_esExports = { render: Page_render, staticRenderFns: Page_staticRenderFns }\n/* harmony default export */ var components_Page = (Page_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Page/index.vue\nfunction Page_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(312),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Page_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Page___vue_template_functional__ = false\n/* styles */\nvar Page___vue_styles__ = Page_injectStyle\n/* scopeId */\nvar Page___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Page___vue_module_identifier__ = \"5a70705b\"\nvar Page_Component = Page_normalizeComponent(\n  Page,\n  components_Page,\n  Page___vue_template_functional__,\n  Page___vue_styles__,\n  Page___vue_scopeId__,\n  Page___vue_module_identifier__\n)\n\n/* harmony default export */ var admin_components_Page = (Page_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/components/Search/UserSearch.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var UserSearch = ({\n  name: \"UserSearch\",\n  props: {\n    value: {\n      type: [Number, String],\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      input: \"\",\n      loading: false,\n      user: null,\n      type: \"id\",\n      options: [{\n        label: \"手机号\",\n        value: \"phone\"\n      }, {\n        label: \"邀请码\",\n        value: \"id\"\n      }, {\n        label: \"ip地址\",\n        value: \"ip_address\"\n      }, {\n        label: \"个性域名\",\n        value: \"zone\"\n      }]\n    };\n  },\n\n  methods: {\n    async search() {\n      console.log(\"click\");\n      let q = this.input;\n\n      if (!q) {\n        return;\n      }\n\n      if (this.disabled) {\n        this.$emit(\"submit\", {\n          type: this.type,\n          value: q\n        });\n        return;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const user = await api.searchUser({\n          type: this.type,\n          value: q\n        });\n        this.user = user;\n        this.$emit(\"input\", parseInt(user.id, 10));\n      } catch (e) {\n        this.$toast.error(\"服务暂不可用\");\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a1b6435e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/components/Search/UserSearch.vue\nvar UserSearch_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clearfix\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索信息\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"input\"}})],1)],1)],1),_c('el-col',{attrs:{\"span\":2,\"offset\":1}},[_c('el-button',{staticStyle:{\"margin-left\":\"-10px\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1)],1),_vm._ssrNode(((!_vm.disabled)?(\"<p style=\\\"font-size: 12px;color: #8590a6;margin-left: 2px;line-height: 40px;\\\">\\n    搜索结果：\\n    \"+((!_vm.user && !_vm.loading)?(\"<span style=\\\"color: red\\\">未搜索</span>\"):(_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.loading ? '搜索中...' : _vm.user.nickname)+\"\\n    \")))+\"</p>\"):\"<!---->\"))],2)}\nvar UserSearch_staticRenderFns = []\nvar UserSearch_esExports = { render: UserSearch_render, staticRenderFns: UserSearch_staticRenderFns }\n/* harmony default export */ var Search_UserSearch = (UserSearch_esExports);\n// CONCATENATED MODULE: ./src/admin/components/Search/UserSearch.vue\nvar UserSearch_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar UserSearch___vue_template_functional__ = false\n/* styles */\nvar UserSearch___vue_styles__ = null\n/* scopeId */\nvar UserSearch___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar UserSearch___vue_module_identifier__ = \"f1d5e17e\"\nvar UserSearch_Component = UserSearch_normalizeComponent(\n  UserSearch,\n  Search_UserSearch,\n  UserSearch___vue_template_functional__,\n  UserSearch___vue_styles__,\n  UserSearch___vue_scopeId__,\n  UserSearch___vue_module_identifier__\n)\n\n/* harmony default export */ var components_Search_UserSearch = (UserSearch_Component.exports);\n\n// CONCATENATED MODULE: ./src/admin/utils/library.js\n\n\n\n\nexternal__vue__default.a.component(admin_components_SvgIcon.name, admin_components_SvgIcon);\nexternal__vue__default.a.component(admin_components_Page.name, admin_components_Page);\nexternal__vue__default.a.component(components_Search_UserSearch.name, components_Search_UserSearch);\n\nif (typeof window !== \"undefined\") {\n  external__vue__default.a.use(__webpack_require__(91));\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/admin.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ var admin = ({\n  name: \"AdminLayout\",\n  components: {\n    Navbar: components_Layout_Navbar,\n    Sidebar: components_Layout_Sidebar,\n    AppMain: components_Layout_AppMain\n  },\n  head: {\n    title: \"calibur - 控制台\",\n    link: [{\n      rel: \"stylesheet\",\n      href: \"https://use.fontawesome.com/releases/v5.1.0/css/all.css\"\n    }]\n  },\n  computed: {\n    sidebar() {\n      return this.$store.state.admin.sidebar;\n    },\n\n    classObj() {\n      return {\n        hideSidebar: !this.sidebar.opened,\n        withoutAnimation: this.sidebar.withoutAnimation\n      };\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39881d2b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/admin.vue\nvar admin_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classObj,attrs:{\"id\":\"app-wrapper\"}},[_c('sidebar',{staticClass:\"sidebar-container\"}),_vm._ssrNode(\"<div class=\\\"main-container\\\">\",\"</div>\",[_c('navbar'),_c('no-ssr',[_c('app-main')],1)],1)],1)}\nvar admin_staticRenderFns = []\nvar admin_esExports = { render: admin_render, staticRenderFns: admin_staticRenderFns }\n/* harmony default export */ var layouts_admin = (admin_esExports);\n// CONCATENATED MODULE: ./src/layouts/admin.vue\nfunction admin_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(303),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar admin_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar admin___vue_template_functional__ = false\n/* styles */\nvar admin___vue_styles__ = admin_injectStyle\n/* scopeId */\nvar admin___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar admin___vue_module_identifier__ = \"0ff77f4e\"\nvar admin_Component = admin_normalizeComponent(\n  admin,\n  layouts_admin,\n  admin___vue_template_functional__,\n  admin___vue_styles__,\n  admin___vue_scopeId__,\n  admin___vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_admin = __webpack_exports__[\"default\"] = (admin_Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "15.server-bundle.js": "exports.ids = [15];\nexports.modules = {\n\n/***/ 175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/TabContainer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TabContainer = ({\n  name: \"TabContainer\",\n  props: {\n    list: {\n      type: Array,\n      required: true\n    },\n    def: {\n      type: String,\n      default: \"\"\n    },\n    pos: {\n      type: String,\n      default: \"top\"\n    }\n  },\n\n  data() {\n    return {\n      current: this.def\n    };\n  },\n\n  watch: {\n    $route(to) {\n      this.current = to.name;\n    }\n\n  },\n\n  mounted() {\n    this.current = this.$route.name;\n  },\n\n  methods: {\n    tabClick(i) {\n      this.go(i.name);\n    },\n\n    go(x) {\n      const name = x ? x : \"homepage\";\n      this.$router.push({\n        name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-da6a22d8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/TabContainer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"tab-container\",attrs:{\"tab-position\":_vm.pos},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}},_vm._l((_vm.list),function(i,index){return _c('el-tab-pane',{key:index,attrs:{\"name\":i.name,\"lazy\":i.lazy,\"disabled\":i.disabled,\"closable\":i.closable}},[_c('div',{attrs:{\"slot\":\"label\"},domProps:{\"innerHTML\":_vm._s(i.label)},slot:\"label\"})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_TabContainer = (esExports);\n// CONCATENATED MODULE: ./src/components/common/TabContainer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(176),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6b92a9d7\"\nvar Component = normalizeComponent(\n  TabContainer,\n  common_TabContainer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_TabContainer = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(177);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"72dd8c61\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tab-container.el-tabs--top{margin-top:-10px}.tab-container.el-tabs--top .el-tabs__nav-wrap:after{background-color:transparent}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(243);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c064ad70\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-show .banner-container{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;text-shadow:0 1px 10px gray;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;background-color:rgba(0,0,0,.3)}#user-show .banner-container .file-input:before{content:\\\"\\\\E603\\\";opacity:0;position:absolute;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,.5);font-family:iconfont!important;font-size:30px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;line-height:100px;color:#fff}#user-show .banner-container .banner-file-input{display:none}#user-show .banner-container .banner-cropper-wrap{position:absolute;left:0;top:0;width:100%;height:100%}#user-show .banner-container .banner-cropper-wrap .banner-select-bar{position:fixed;left:0;right:0;bottom:0;height:80px;background-color:rgba(0,0,0,.7);padding:0 50px;z-index:3}#user-show .banner-container .banner-cropper-wrap .banner-select-bar p{font-size:18px;color:#fff;float:left;line-height:80px}#user-show .banner-container .banner-cropper-wrap .banner-select-bar .el-button--text{color:#fff;float:right;margin-top:20px;margin-right:100px}#user-show .banner-container .banner-cropper-wrap .submit-btn{position:fixed;right:50px;bottom:24px;z-index:4}#user-show .banner-container .avatar{width:100px;height:100px;border-radius:50%;border:2px solid hsla(0,0%,100%,.4);margin:100px auto 10px}#user-show .banner-container .nickname,#user-show .banner-container .signature{word-break:break-all;word-wrap:break-word;font-size:13px;line-height:20px;pointer-events:none}#user-show .banner-container .exp-container{width:200px;margin-top:10px;margin-bottom:10px}#user-show .banner-container .signature{margin:30px 0 20px;max-width:600px}#user-show .banner-container .buttons{margin-top:10px;text-align:center;position:relative}#user-show .banner-container .buttons>*{margin:0 5px}#user-show .banner-container.my-banner .banner-file-input{display:block;position:absolute;right:-65px;bottom:-60px;width:120px;height:120px;-webkit-transition-duration:.4s;-o-transition-duration:.4s;transition-duration:.4s;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transition-property:background-color;-o-transition-property:background-color;transition-property:background-color}#user-show .banner-container.my-banner .banner-file-input:before{background-color:transparent;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);text-align:left;line-height:65px;margin-left:20px}#user-show .banner-container.my-banner .banner-file-input:hover{background-color:rgba(0,0,0,.9)!important}#user-show .banner-container.my-banner:hover .banner-file-input{background-color:rgba(0,0,0,.5);overflow:visible}#user-show .banner-container.my-banner:hover .banner-file-input:before{opacity:1}#user-show .container .faker-tips{margin-left:54px;margin-bottom:25px;padding:8px 16px;border-radius:4px;background-color:#fef0f0;color:#f56c6c}#user-show .container .faker-tips span{font-size:13px;line-height:18px;font-weight:700}#user-show .container .faker-tips p{font-size:12px;margin-top:5px}#user-show .container .user-flows-wrap{position:relative;min-height:320px}#user-show .container .user-flows-wrap .tab-container{position:absolute;left:0;top:0}#user-show .container .user-flows-wrap .el-tabs__active-bar:after{display:none}#user-show .container .user-flows-wrap .el-tabs__header{width:100px;margin-right:50px}#user-show .container .user-flows-wrap .el-radio-group{margin-left:10px}#user-show .container .user-flows-wrap .route-container{margin-left:150px}#user-show .user-setting-form{width:750px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(245);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"394e71ee\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-cropper-modal .submit-btn{margin-top:20px;margin-bottom:20px;width:200px;margin-left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.exp-detail .content{padding:10px 15px;font-size:13px;line-height:20px}.exp-detail .content p{font-weight:700}.exp-detail .content p span{font-weight:400}.exp-detail .content li{font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(247);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0eadc0ca\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-cropper-wrap{width:100%;height:100%}.image-cropper-wrap .croppa-container{background-color:transparent;width:100%;height:100%}.image-cropper-wrap .croppa-container canvas{-webkit-transition:none;-o-transition:none;transition:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 375:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar api_userApi = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar api_imageApi = __webpack_require__(7);\n\n// EXTERNAL MODULE: external \"vue-croppa\"\nvar external__vue_croppa_ = __webpack_require__(88);\nvar external__vue_croppa__default = /*#__PURE__*/__webpack_require__.n(external__vue_croppa_);\n\n// EXTERNAL MODULE: ./node_modules/vue-croppa/dist/vue-croppa.css\nvar vue_croppa = __webpack_require__(248);\nvar vue_croppa_default = /*#__PURE__*/__webpack_require__.n(vue_croppa);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImageCropper.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageCropper = ({\n  name: \"ImageCropper\",\n  components: {\n    croppa: external__vue_croppa__default.a.component\n  },\n  props: {\n    width: {\n      type: Number,\n      default: 200\n    },\n    height: {\n      type: Number,\n      default: 200\n    },\n    autoSize: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    sizeLimit: {\n      type: Number,\n      default: 0\n    },\n    initImage: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"normal\",\n      validator: val => ~[\"avatar\", \"normal\"].indexOf(val)\n    },\n    uploading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      croppa: {}\n    };\n  },\n\n  methods: {\n    onInit() {\n      if (this.type === \"avatar\") {\n        this.croppa.addClipPlugin(function (ctx, x, y, w, h) {\n          ctx.beginPath();\n          ctx.arc(x + w / 2, y + h / 2, w / 2, 0, 2 * Math.PI, true);\n          ctx.closePath();\n        });\n      }\n    },\n\n    async generateImage() {\n      const blob = await this.croppa.promisedBlob();\n      const formData = new FormData();\n      formData.append(\"file\", blob);\n      this.$emit(\"submit\", formData);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-121f6e3a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImageCropper.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-cropper-wrap\"},[_c('croppa',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"auto-sizing\":_vm.autoSize,\"show-remove-button\":false,\"prevent-white-space\":true,\"disabled\":_vm.disabled || _vm.uploading,\"file-size-limit\":_vm.sizeLimit,\"zoom-speed\":_vm.type === 'avatar' ? 6 : 2,\"initial-image\":_vm.initImage,\"accept\":\"image/png, image/jpeg, image/jpg, image/x-png, image/gif\",\"canvas-color\":\"rgba(0, 0, 0, .05)\"},on:{\"init\":_vm.onInit},model:{value:(_vm.croppa),callback:function ($$v) {_vm.croppa=$$v},expression:\"croppa\"}}),_vm._ssrNode(\"<div class=\\\"tools\\\"></div>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.uploading,\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.generateImage}},[_vm._v(\"确认\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_ImageCropper = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImageCropper.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(246),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8428bdc6\"\nvar Component = normalizeComponent(\n  ImageCropper,\n  common_ImageCropper,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_ImageCropper = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/TabContainer.vue + 2 modules\nvar TabContainer = __webpack_require__(175);\n\n// EXTERNAL MODULE: ./src/components/user/UserSex.vue + 2 modules\nvar UserSex = __webpack_require__(20);\n\n// EXTERNAL MODULE: external \"element-ui\"\nvar external__element_ui_ = __webpack_require__(21);\nvar external__element_ui__default = /*#__PURE__*/__webpack_require__.n(external__element_ui_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/layout.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ var layout = ({\n  name: \"UserShowLayout\",\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"users/getUser\", {\n      ctx,\n      zone: route.params.zone\n    });\n  },\n\n  head() {\n    if (!this.zone) {\n      return;\n    }\n\n    return {\n      title: `${this.user.nickname} - 用户`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: this.user.signature\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `calibur,用户,天下漫友是一家,${this.user.zone},${this.user.nickname}`\n      }]\n    };\n  },\n\n  components: {\n    TabContainer: TabContainer[\"a\" /* default */],\n    ImageCropper: components_common_ImageCropper,\n    UserSex: UserSex[\"a\" /* default */],\n    \"el-progress\": external__element_ui_[\"Progress\"]\n  },\n\n  data() {\n    return {\n      avatarCropper: {\n        src: \"\",\n        type: \"\",\n        showModal: false,\n        loading: false,\n        file: null\n      },\n      bannerSelector: {\n        file: null,\n        image: \"\",\n        showBar: false,\n        loading: false\n      },\n      signDayLoading: false,\n      doSign: false\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.zone === this.self.zone : false;\n    },\n\n    self() {\n      return this.$store.state.user;\n    },\n\n    user() {\n      return this.isMe ? this.self : this.$store.state.users.show;\n    },\n\n    daySigned() {\n      return this.self.daySign;\n    },\n\n    coinCount() {\n      return this.self.coin;\n    },\n\n    withdrawCoinCount() {\n      let result = this.user.coin - this.user.coin_from_sign;\n\n      if (this.doSign) {\n        result -= 1;\n      }\n\n      return result < 0 ? 0 : result;\n    },\n\n    cards() {\n      return [{\n        label: \"番剧\",\n        name: \"user-bangumi\",\n        show: true\n      }, {\n        label: \"帖子\",\n        name: \"user-post\",\n        show: true\n      }, {\n        label: \"相册\",\n        name: \"user-image\",\n        show: true\n      }, {\n        label: \"漫评\",\n        name: \"user-score\",\n        show: true\n      }, {\n        label: \"问答\",\n        name: \"user-question\",\n        show: true\n      }, {\n        label: \"偶像\",\n        name: \"user-role\",\n        show: true\n      }, {\n        label: \"草稿\",\n        name: \"user-draft\",\n        show: this.isMe\n      }, {\n        label: \"设置\",\n        name: \"user-setting\",\n        show: this.isMe\n      }].filter(_ => _.show);\n    },\n\n    expPercent() {\n      if (!this.isMe) {\n        return 0;\n      }\n\n      return parseInt(this.user.exp.have_exp / this.user.exp.next_level_exp * 100, 10);\n    }\n\n  },\n  methods: {\n    openAvatarModal(e) {\n      const file = e.target.files[0];\n\n      if (!file) {\n        this.$toast.error(\"请先选择一张图片\");\n        return;\n      }\n\n      if ([\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].indexOf(file.type) === -1) {\n        this.$toast.error(\"仅支持 jpg / jpeg / png / gif 格式的图片\");\n        return;\n      }\n\n      const reader = new FileReader();\n      this.avatarCropper.type = file.type;\n      this.avatarCropper.file = file;\n\n      reader.onload = evt => {\n        this.avatarCropper.src = evt.target.result;\n        this.avatarCropper.showModal = true;\n      };\n\n      reader.readAsDataURL(file);\n    },\n\n    handleAvatarCropperCancel() {\n      this.avatarCropper.showModal = false;\n      this.$nextTick(() => {\n        this.$refs.avatarInput.value = \"\";\n      });\n    },\n\n    async handleAvatarCropperSubmit(formData) {\n      this.avatarCropper.loading = true;\n      const filename = this.$utils.createFileName({\n        userId: this.user.id,\n        type: \"avatar\",\n        id: 0,\n        file: this.avatarCropper.file\n      });\n      const imageApi = new api_imageApi[\"a\" /* default */]();\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        formData.append(\"token\", this.user.uptoken.upToken);\n        formData.append(\"key\", filename);\n        const result = await imageApi.uploadToQiniu(formData);\n        const userApi = new api_userApi[\"a\" /* default */](this);\n        await userApi.settingImage({\n          type: \"avatar\",\n          url: result.url\n        });\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"avatar\",\n          value: `${this.$cdn.image}${result.url}`\n        });\n        this.$toast.success(\"头像更新成功\");\n      } catch (e) {\n        typeof e === \"string\" ? this.$toast.error(e) : this.$toast.error(\"头像更新失败，请刷新页面重试或选择其他图片\");\n      } finally {\n        this.avatarCropper.loading = false;\n        this.handleAvatarCropperCancel();\n      }\n    },\n\n    selectBanner(e) {\n      const file = e.target.files[0];\n\n      if (!file) {\n        this.$toast.error(\"请先选择一张图片\");\n        return;\n      }\n\n      if ([\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].indexOf(file.type) === -1) {\n        this.$toast.error(\"仅支持 jpg / jpeg / png / gif 格式的图片\");\n        return;\n      }\n\n      const reader = new FileReader();\n      this.bannerSelector.file = file;\n\n      reader.onload = evt => {\n        this.bannerSelector.image = evt.target.result;\n        this.bannerSelector.showBar = true;\n      };\n\n      reader.readAsDataURL(file);\n    },\n\n    cancelBannerChange() {\n      this.bannerSelector.showBar = false;\n      this.$nextTick(() => {\n        this.$refs.bannerInput.value = \"\";\n      });\n    },\n\n    async submitBannerChange(formData) {\n      this.bannerSelector.loading = true;\n      const filename = this.$utils.createFileName({\n        userId: this.user.id,\n        type: \"banner\",\n        id: 0,\n        file: this.bannerSelector.file\n      });\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        formData.append(\"token\", this.user.uptoken.upToken);\n        formData.append(\"key\", filename);\n        const imageApi = new api_imageApi[\"a\" /* default */]();\n        const result = await imageApi.uploadToQiniu(formData);\n        const userApi = new api_userApi[\"a\" /* default */](this);\n        await userApi.settingImage({\n          type: \"banner\",\n          url: result.url\n        });\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"banner\",\n          value: `${this.$cdn.image}${result.url}`\n        });\n        this.$toast.success(\"背景更新成功\");\n      } catch (e) {\n        typeof e === \"string\" ? this.$toast.error(e) : this.$toast.error(\"背景图更新失败，请刷新页面重试或选择其他图片\");\n      } finally {\n        this.bannerSelector.loading = false;\n        this.cancelBannerChange();\n      }\n    },\n\n    async handleDaySign() {\n      if (this.daySigned) {\n        this.$toast.info(\"今天已经签过到了！\");\n        return;\n      }\n\n      if (this.signDayLoading) {\n        return;\n      }\n\n      this.signDayLoading = true;\n\n      try {\n        const result = await this.$store.dispatch(\"users/daySign\", {\n          ctx: this\n        });\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"daySign\",\n          value: true\n        });\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"coin\",\n          value: this.coinCount + 1\n        });\n        this.doSign = true;\n        this.$toast.success(result.message);\n        this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.signDayLoading = false;\n      }\n    },\n\n    handleCopySuccess() {\n      this.$toast.success(\"复制成功\");\n    },\n\n    convertUserSex(sex) {\n      let $res = \"\";\n\n      switch (sex) {\n        case 0:\n          $res = \"未知\";\n          break;\n\n        case 1:\n          $res = \"男\";\n          break;\n\n        case 2:\n          $res = \"女\";\n          break;\n\n        case 3:\n          $res = \"伪娘\";\n          break;\n\n        case 4:\n          $res = \"药娘\";\n          break;\n\n        case 5:\n          $res = \"扶她\";\n          break;\n\n        default:\n          $res = \"未知\";\n      }\n\n      return $res;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-021476ae\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/layout.vue\nvar layout_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-show\"}},[_c('v-header',{attrs:{\"banner\":_vm.user.banner,\"type\":\"mask\",\"height\":\"400px\"}},[_c('div',{staticClass:\"banner-container\",class:{ 'my-banner': _vm.isMe }},[(_vm.isMe)?_c('div',{staticClass:\"banner-cropper-wrap\"},[(_vm.bannerSelector.showBar)?[_c('image-cropper',{attrs:{\"init-image\":_vm.bannerSelector.image,\"uploading\":_vm.bannerSelector.loading,\"auto-size\":true},on:{\"submit\":_vm.submitBannerChange}}),_c('div',{staticClass:\"banner-select-bar\"},[_c('p',[_vm._v(\"确认要更换主页背景图吗（拖动图片可裁剪，鼠标滚动可缩放）?\")]),_c('el-button',{attrs:{\"disabled\":_vm.bannerSelector.loading,\"type\":\"text\"},on:{\"click\":_vm.cancelBannerChange}},[_vm._v(\"取消\")])],1)]:_c('div',{staticClass:\"banner-file-input file-input bg\"},[_c('input',{ref:\"bannerInput\",attrs:{\"accept\":_vm.$imageAcceptStr,\"type\":\"file\"},on:{\"change\":_vm.selectBanner}})])],2):_vm._e(),(_vm.isMe)?[_c('div',{staticClass:\"avatar bg file-input\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.user.avatar, { width: 200, height: 200 })) + \")\") })},[_c('input',{ref:\"avatarInput\",attrs:{\"accept\":_vm.$imageAcceptStr,\"type\":\"file\"},on:{\"change\":_vm.openAvatarModal}})]),_c('v-dialog',{staticClass:\"avatar-cropper-modal\",attrs:{\"footer\":false,\"width\":\"400px\",\"title\":\"头像裁剪\"},on:{\"cancel\":_vm.handleAvatarCropperCancel},model:{value:(_vm.avatarCropper.showModal),callback:function ($$v) {_vm.$set(_vm.avatarCropper, \"showModal\", $$v)},expression:\"avatarCropper.showModal\"}},[(_vm.avatarCropper.showModal)?_c('image-cropper',{attrs:{\"init-image\":_vm.avatarCropper.src,\"uploading\":_vm.avatarCropper.loading,\"width\":358,\"height\":358,\"type\":\"avatar\"},on:{\"submit\":_vm.handleAvatarCropperSubmit}}):_vm._e()],1)]:_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(_vm.user.avatar, { width: 200, height: 200 }),\"alt\":\"avatar\"}}),_c('span',{staticClass:\"nickname\"},[_vm._v(\"\\n        \"+_vm._s(_vm.user.nickname)+\"\\n        \"),(_vm.isMe)?[_c('user-sex',{attrs:{\"sex\":_vm.convertUserSex(_vm.user.sex),\"secret\":_vm.user.sexSecret}}),_c('span',{staticClass:\"level\"},[_vm._v(\"\\n            Lv\"+_vm._s(_vm.user.exp.level)+\"\\n          \")])]:[_c('user-sex',{attrs:{\"sex\":_vm.user.sex,\"secret\":_vm.user.sexSecret}}),_c('span',{staticClass:\"level\"},[_vm._v(\"\\n            Lv\"+_vm._s(_vm.user.level)+\"\\n          \")])]],2),(_vm.isMe)?_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"250\",\"trigger\":\"hover\",\"popper-class\":\"exp-detail\"}},[_c('div',{staticClass:\"content\"},[_c('v-hr',{attrs:{\"text\":\"我的等级\"}}),_c('p',[_vm._v(\"当前等级：\"),_c('span',[_vm._v(_vm._s(_vm.user.exp.level))])]),_c('p',[_vm._v(\"距离升级：\"),_c('span',[_vm._v(_vm._s(_vm.user.exp.have_exp)+\" / \"+_vm._s(_vm.user.exp.next_level_exp))])]),_c('v-hr',{attrs:{\"text\":\"升级方法\"}}),_c('ul',[_c('li',[_vm._v(\"每日签到：+2\")]),_c('li',[_vm._v(\"发帖子：+4\")]),_c('li',[_vm._v(\"写漫评：+5\")]),_c('li',[_vm._v(\"写回答：+4\")]),_c('li',[_vm._v(\"传图片（限图片区）：+3\")]),_c('li',[_vm._v(\"提问题（限问答区）：+3\")]),_c('li',[_vm._v(\"写评论（包括跟帖）：+2\")]),_c('li',[_vm._v(\"回复评论：+1\")]),_c('li',[_vm._v(\"获得喜欢：+2\")]),_c('li',[_vm._v(\"获得收藏：+2\")]),_c('li',[_vm._v(\"获得金币：+3\")])]),_c('v-hr',{attrs:{\"text\":\"其它提醒\"}}),_c('p',[_vm._v(\"评论/回复自己的内容不会获得经验\")]),_c('p',[_vm._v(\"少于15字的内容，是没有经验的\")]),_c('p',[_vm._v(\"如果内容被删除，会掉经验和等级\")])],1),_c('div',{staticClass:\"exp-container\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":18,\"percentage\":_vm.expPercent,\"color\":\"#f25d8e\"}})],1)]):_vm._e(),_c('div',{staticClass:\"buttons\"},[(_vm.isMe)?[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"placement\":\"bottom\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\n              金币可提现额度：\"+_vm._s(_vm.withdrawCoinCount)+\"\\n              \"),_c('br'),_vm._v(\"\\n              (排除签到所得的金币)\\n            \")]),_c('el-button',{attrs:{\"loading\":_vm.signDayLoading,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleDaySign}},[_vm._v(\"\\n              \"+_vm._s(_vm.daySigned ? '已签到' : '签到')+_vm._s(_vm.coinCount ? (\" (\" + _vm.coinCount + \")\") : '')+\"\\n            \")])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"placement\":\"bottom\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\n              点击复制我的邀请地址\\n              \"),_c('br'),_vm._v(\"\\n              邀请小伙伴们注册赚金币\\n            \")]),_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:((\"http://calibur.tv/about/invite/\" + (_vm.user.id))),expression:\"`http://calibur.tv/about/invite/${user.id}`\"}],attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"success\":_vm.handleCopySuccess}},[_vm._v(\"邀请码：\"+_vm._s(_vm.user.id))])],1)]:_vm._e()],2),_c('p',{staticClass:\"signature\",domProps:{\"textContent\":_vm._s(_vm.user.signature)}})],2)]),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(((_vm.user.faker)?(\"<div class=\\\"faker-tips\\\"><span>重要提醒</span><p>这是一个运营号，并非本人，该账号下所有信息都是搬运而来</p><p>如果你就是该账号本人，可以联系网站工作人员拿回该账号，该账号通过搬运资源获得的金币也将归你所有</p><p>当然，你也有权要求我们删除所有你的内容</p></div>\"):\"<!---->\")),_vm._ssrNode(\"<div class=\\\"user-flows-wrap\\\">\",\"</div>\",[_c('tab-container',{attrs:{\"list\":_vm.cards,\"def\":\"user-bangumi\",\"pos\":\"left\"}}),_vm._ssrNode(\"<div class=\\\"route-container\\\">\",\"</div>\",[_c('router-view')],1)],1)],2)],1)}\nvar layout_staticRenderFns = []\nvar layout_esExports = { render: layout_render, staticRenderFns: layout_staticRenderFns }\n/* harmony default export */ var show_layout = (layout_esExports);\n// CONCATENATED MODULE: ./src/views/user/show/layout.vue\nfunction layout_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(242),i.__inject__&&i.__inject__(ssrContext),i)\n;(i=__webpack_require__(244),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar layout_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar layout___vue_template_functional__ = false\n/* styles */\nvar layout___vue_styles__ = layout_injectStyle\n/* scopeId */\nvar layout___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar layout___vue_module_identifier__ = \"e152e24e\"\nvar layout_Component = layout_normalizeComponent(\n  layout,\n  show_layout,\n  layout___vue_template_functional__,\n  layout___vue_styles__,\n  layout___vue_scopeId__,\n  layout___vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_layout = __webpack_exports__[\"default\"] = (layout_Component.exports);\n\n\n/***/ })\n\n};;",
    "16.server-bundle.js": "exports.ids = [16];\nexports.modules = {\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    async voteAction(is_agree) {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.currentUserId === this.authorId) {\n        this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.vote({\n          type: this.type,\n          id: this.id,\n          is_agree\n        });\n        this.$emit(\"vote\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1156c834\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(126),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"979a7632\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"78030ae6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn:hover{background-color:rgba(0,161,214,.2)}.vote-button .vote-btn.vote-down{margin-left:4px}.vote-button .vote-btn.active{background-color:#00a1d6;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(125);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fc77789\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"190\",\"height\":\"105\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\"><i class=\\\"el-icon-edit\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + ' 个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\"><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\" 人关注\\n    \")+\"</span>\"):\"<!---->\")),_c('v-share',{staticClass:\"stats\",attrs:{\"url\":_vm.item.answer ? _vm.$alias.answer(_vm.item.answer.id) : _vm.$alias.question(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.answer ? _vm.item.answer.intro : _vm.item.intro,\"type\":\"button\"}})],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(144),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8a32c2ea\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(137);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      this.$channel.$emit(\"show-create-question-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-471e9265\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"question-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"查看问题列表\")])],1):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"39ca55eb\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(145);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"435c4c99\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}.question-flow-item{padding-bottom:15px;padding-top:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .user-avatar{float:left;margin-right:10px;width:24px;height:24px;border-radius:12px;overflow:hidden}.question-flow-item .qaq-flow-header .nickname{font-weight:600;font-size:15px;line-height:24px;color:#444}.question-flow-item .title{font-size:18px;font-weight:600;line-height:1.6;color:#1a1a1a;margin-bottom:6px}.question-flow-item .title:hover{color:#0381aa}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-top:-2px;margin-right:18px;margin-bottom:4px;border-radius:4px;overflow:hidden;float:left}.question-flow-item .content .text{line-height:25px;max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .v-share{display:inline-block}.question-flow-item .footer .share-btn{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:20px}.question-flow-item .footer .stats{margin-right:20px;font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(215);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"458c7c67\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#post-flow .img{background-color:#0084ff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 357:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(143);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/question.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var question = ({\n  name: \"QuestionWorld\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"world/getData\", {\n      type: \"question\",\n      sort: \"active\",\n      ctx\n    }), store.dispatch(\"world/getMeta\", {\n      type: \"question\"\n    })]);\n  },\n\n  components: {\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.question.meta;\n    }\n\n  },\n  methods: {\n    openCreateQuestion() {\n      this.$channel.$emit(\"show-create-question-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9a9957fe\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"post-flow\"}},[_vm._ssrNode(\"<div class=\\\"flow-intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"img\\\">知</div>\"),_vm._ssrNode(\"<div class=\\\"intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.openCreateQuestion}},[_vm._v(\"\\n            提问\\n          \")])],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"title\\\">问答</h2>\"+((_vm.meta)?(\"<div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个提问 · 收到了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 个回答</div>\"):\"<!---->\")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTips = !_vm.showTips}}},[_vm._v(\"\\n            \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n            \"),_c('i',{class:_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'})])],2)]),(_vm.showTips)?_c('el-alert',{staticClass:\"detail\",attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('p',[_vm._v(\"\\n          就是动漫版知乎\\n        \")]),_c('p',[_vm._v(\"\\n          话题内容仅限二次元，其余讨论的一切都会被删除\\n        \")])]):_vm._e()],1)],2),_c('question-flow-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_question = (esExports);\n// CONCATENATED MODULE: ./src/views/world/question.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(214),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"ea57c9b8\"\nvar Component = normalizeComponent(\n  question,\n  world_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "17.server-bundle.js": "exports.ids = [17];\nexports.modules = {\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    async voteAction(is_agree) {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.currentUserId === this.authorId) {\n        this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.vote({\n          type: this.type,\n          id: this.id,\n          is_agree\n        });\n        this.$emit(\"vote\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1156c834\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(126),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"979a7632\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"78030ae6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn:hover{background-color:rgba(0,161,214,.2)}.vote-button .vote-btn.vote-down{margin-left:4px}.vote-button .vote-btn.active{background-color:#00a1d6;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(125);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fc77789\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"190\",\"height\":\"105\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\"><i class=\\\"el-icon-edit\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + ' 个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\"><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\" 人关注\\n    \")+\"</span>\"):\"<!---->\")),_c('v-share',{staticClass:\"stats\",attrs:{\"url\":_vm.item.answer ? _vm.$alias.answer(_vm.item.answer.id) : _vm.$alias.question(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.answer ? _vm.item.answer.intro : _vm.item.intro,\"type\":\"button\"}})],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(144),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8a32c2ea\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(137);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      this.$channel.$emit(\"show-create-question-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-471e9265\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"question-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"查看问题列表\")])],1):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"39ca55eb\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(145);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"435c4c99\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}.question-flow-item{padding-bottom:15px;padding-top:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .user-avatar{float:left;margin-right:10px;width:24px;height:24px;border-radius:12px;overflow:hidden}.question-flow-item .qaq-flow-header .nickname{font-weight:600;font-size:15px;line-height:24px;color:#444}.question-flow-item .title{font-size:18px;font-weight:600;line-height:1.6;color:#1a1a1a;margin-bottom:6px}.question-flow-item .title:hover{color:#0381aa}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-top:-2px;margin-right:18px;margin-bottom:4px;border-radius:4px;overflow:hidden;float:left}.question-flow-item .content .text{line-height:25px;max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .v-share{display:inline-block}.question-flow-item .footer .share-btn{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:20px}.question-flow-item .footer .stats{margin-right:20px;font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(254);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"54b17429\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-question .el-radio-group{margin-left:0!important;margin-top:6px}#user-question #no-content{margin-top:25px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 380:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(143);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(137);\n\n// EXTERNAL MODULE: ./src/api/flowApi.js\nvar flowApi = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/question.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var question = ({\n  name: \"UserQuestion\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"question\",\n      sort: \"news\",\n      userZone: route.params.zone,\n      ctx\n    });\n  },\n\n  components: {\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */],\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      active: \"提问\",\n      answerList: [],\n      loadingAnswer: false,\n      fetchedAnswer: false,\n      noMoreAnswer: false,\n      page: 0\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  },\n  methods: {\n    handleTabSwitch(label) {\n      if (label === \"回答\") {\n        this.getUserAnswers(true);\n      }\n    },\n\n    async getUserAnswers(init = false) {\n      if (init && this.fetchedAnswer) {\n        return;\n      }\n\n      if (this.loadingAnswer) {\n        return;\n      }\n\n      this.loadingAnswer = true;\n      const api = new flowApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.fetch({\n          sort: \"news\",\n          type: \"answer\",\n          take: 10,\n          page: this.page,\n          minId: 0,\n          seenIds: \"\",\n          bangumiId: 0,\n          userZone: this.zone\n        });\n        this.fetchedAnswer = true;\n        this.answerList = this.answerList.concat(data.list);\n        this.noMoreAnswer = data.noMore;\n        this.page++;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingAnswer = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-419e6644\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-question\"}},[_vm._ssrNode(\"<div>\",\"</div>\",[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.handleTabSwitch},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-radio-button',{attrs:{\"label\":\"提问\"}}),_c('el-radio-button',{attrs:{\"label\":\"回答\"}})],1)],1),(_vm.active === '提问')?_c('question-flow-list',{attrs:{\"user-zone\":_vm.zone}}):_c('div',[_c('ul',_vm._l((_vm.answerList),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item}})})),(!_vm.answerList.length && _vm.noMoreAnswer)?_c('no-content'):_c('load-more-btn',{attrs:{\"auto\":true,\"no-more\":_vm.noMoreAnswer,\"loading\":_vm.loadingAnswer},on:{\"fetch\":function($event){_vm.getUserAnswers(false)}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_question = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/question.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(253),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4fa43056\"\nvar Component = normalizeComponent(\n  question,\n  show_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "18.server-bundle.js": "exports.ids = [18];\nexports.modules = {\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      const target = e.target;\n      const isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      let imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        const img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      let prevIndex;\n      let nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      const image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      const imageWidth = image.width;\n      const imageHeight = image.height;\n      const maxWidth = this.maxWidth;\n      const maxHeight = this.maxHeight;\n      let finalWidth;\n      let finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight;\n        const heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight;\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / widthRadio, 10);\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight;\n        finalWidth = parseInt(imageWidth / heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c25cc24\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(123),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4ba27814\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"585a4787\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview-3a_0 .container-GX_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_0 .bar-1K_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_0 .bar-1K_0.top-bar-1S_0{top:0}.image-preview-3a_0 .bar-1K_0.foot-bar-2c_0{bottom:0}.image-preview-3a_0 .wrap-13_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_0 .item-2Y_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_0 .top-bar-1S_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_0 .top-bar-1S_0 .close-ZW_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_0 .foot-bar-2c_0{text-align:center}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_0 .next-btn-30_0,.image-preview-3a_0 .prev-btn-1N_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_0 .next-btn-30_0 i,.image-preview-3a_0 .prev-btn-1N_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_0 .next-btn-30_0 i:hover,.image-preview-3a_0 .prev-btn-1N_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_0 .prev-btn-1N_0{left:0;text-align:left}.image-preview-3a_0 .next-btn-30_0{right:0;text-align:right}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_0\",\n\t\"imagePreview\": \"image-preview-3a_0\",\n\t\"container\": \"container-GX_0\",\n\t\"bar\": \"bar-1K_0\",\n\t\"top-bar\": \"top-bar-1S_0\",\n\t\"topBar\": \"top-bar-1S_0\",\n\t\"foot-bar\": \"foot-bar-2c_0\",\n\t\"footBar\": \"foot-bar-2c_0\",\n\t\"wrap\": \"wrap-13_0\",\n\t\"item\": \"item-2Y_0\",\n\t\"close\": \"close-ZW_0\",\n\t\"download\": \"download-3r_0\",\n\t\"prev-btn\": \"prev-btn-1N_0\",\n\t\"prevBtn\": \"prev-btn-1N_0\",\n\t\"next-btn\": \"next-btn-30_0\",\n\t\"nextBtn\": \"next-btn-30_0\"\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostShowItem\",\n  components: {\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5f79ac2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-show-item\"},[_vm._ssrNode(\"<div class=\\\"header clearfix\\\">\",\"</div>\",[(_vm.item.user)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":32}})],1):(_vm.item.bangumi)?_c('el-tooltip',{attrs:{\"content\":_vm.item.bangumi.name,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"24\"}})],1)]):_vm._e(),_vm._ssrNode(\"<span class=\\\"time\\\">\",\"</span>\",[_vm._ssrNode(\"\\n      发表于: \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2),_vm._ssrNode(((_vm.item.top_at && _vm.bangumiId)?(\"<div class=\\\"top_badge\\\">置顶</div>\"):\"<!---->\")+((_vm.item.is_nice)?(\"<div class=\\\"nice_badge\\\">精</div>\"):\"<!---->\")+((_vm.item.is_creator)?(\"<div class=\\\"creator_badge\\\">原创</div>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"title oneline href-fade-blue\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</a>\")],2),_vm._ssrNode(((_vm.item.user)?(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\"+_vm._ssrEscape(\"\\n    :\\n    \"+_vm._s(_vm.item.desc)+\"\\n  \")+\"</p>\"):(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\">\"+_vm._ssrEscape(_vm._s(_vm.item.desc))+\"</p>\"))),(_vm.item.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",[_c('image-preview',{attrs:{\"images\":_vm.item.images,\"download\":false,\"query\":\"image-box\"}},_vm._l((_vm.item.images),function(image,index){return _c('div',{key:index,staticClass:\"image-box\"},[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)}))],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"counter\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.comment_count))+\"</span>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(((!_vm.bangumiId && !_vm.userZone)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\"):\"<!---->\")),_c('v-share',{attrs:{\"url\":_vm.$alias.post(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.desc,\"type\":\"button\"}}),_vm._ssrNode(\"<span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-dianzan1\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span>\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(129),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1214cb76\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(130);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4aa4607b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-show-item .header .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-show-item{float:none;padding:10px 10px 10px 65px;position:relative}.post-show-item:not(:last-child){border-bottom:1px dotted #e4e6eb}.post-show-item .header{position:relative;height:32px}.post-show-item .header .bangumi-avatar{display:block;float:left;margin-right:10px;margin-top:4px}.post-show-item .header .user-avatar{display:block;float:left;margin-right:7px}.post-show-item .header .title{font-size:14px;line-height:32px;display:block}.post-show-item .header .time{float:right;display:block;line-height:32px;color:#999;font-size:12px;margin-left:10px}.post-show-item .header .creator_badge,.post-show-item .header .nice_badge,.post-show-item .header .top_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:5px 5px 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.post-show-item .header .top_badge{background-color:#00a1d6}.post-show-item .header .nice_badge{background-color:#f25d8e}.post-show-item .header .creator_badge{background-color:#daa520}.post-show-item .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-show-item .content.min-height{min-height:44px}.post-show-item .content a{font-size:12px;line-height:22px;color:#262626;font-weight:600}.post-show-item .images{height:90px;overflow:hidden;margin-top:10px;margin-bottom:15px}.post-show-item .images .image-box{margin-right:10px;height:100%;position:relative;float:left}.post-show-item .images .image-box:after{content:\\\"\\\";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0}.post-show-item .images .image-box:hover:after{opacity:.1}.post-show-item .images .image-box img{height:100%;width:auto}.post-show-item .counter{position:absolute;left:0;top:12px;width:50px;height:30px;line-height:26px;font-size:12px;text-align:center;background-color:RGB(247,247,247);display:block;border:1px solid #e4e6eb;border-radius:3px}.post-show-item .footer{text-align:right;font-size:13px;color:#99a2aa}.post-show-item .footer .bangumi{float:left;font-size:12px;line-height:20px}.post-show-item .footer .v-share{display:inline-block}.post-show-item .footer .v-share .share-btn{color:#99a2aa;font-size:12px}.post-show-item .footer span{margin-left:15px}.post-show-item .footer i,.post-show-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(128);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      this.$channel.$emit(\"show-create-post-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6685ccf3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing && !_vm.postList.length)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5bbf77b6\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(209);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"75952696\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#post-flow .img{background-color:RGB(60,134,247)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 351:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(138);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/post.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var post = ({\n  name: \"PostWorld\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"world/getData\", {\n      type: \"post\",\n      sort: \"active\",\n      ctx\n    }), store.dispatch(\"world/getMeta\", {\n      type: \"post\"\n    })]);\n  },\n\n  components: {\n    PostFlowList: PostFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.post.meta;\n    }\n\n  },\n  methods: {\n    openCreatePost() {\n      this.$channel.$emit(\"show-create-post-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79da2690\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"post-flow\"}},[_vm._ssrNode(\"<div class=\\\"flow-intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"img\\\">帖</div>\"),_vm._ssrNode(\"<div class=\\\"intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.openCreatePost}},[_vm._v(\"\\n            发帖\\n          \")])],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"title\\\">帖吧</h2>\"+((_vm.meta)?(\"<div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个吧 · 发表了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 条帖子</div>\"):\"<!---->\")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTips = !_vm.showTips}}},[_vm._v(\"\\n            \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n            \"),_c('i',{class:_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'})])],2)]),(_vm.showTips)?_c('el-alert',{staticClass:\"detail\",attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('p',[_vm._v(\"\\n          「calibur.tv」的贴吧功能与\\n          \"),_c('a',{attrs:{\"href\":\"https://tieba.baidu.com/f?kw=calibur\",\"target\":\"_blank\"}},[_vm._v(\"「百度贴吧」\")]),_vm._v(\"\\n          基本相同，不过本站目前只允许开设「二次元」领域的贴吧，非二次元相关话题是不允许的；\\n        \")]),_c('p',[_vm._v(\"\\n          「贴吧」板块讨论的话题应该更加的轻松一些，大家天马星空的想法都可以在此发表，\\n          如果你想写一篇专业的漫评，可以到\\n          \"),_c('router-link',{attrs:{\"to\":_vm.$alias.world('review')}},[_vm._v(\"「漫评」\")]),_vm._v(\"\\n          板块发文；\\n        \")],1),_c('p',[_vm._v(\"\\n          如果你想为你喜欢的动漫角色盖楼，那么非常荣幸的告诉你，我们为 “盖楼” 专门开发了一个\\n          \"),_c('router-link',{attrs:{\"to\":_vm.$alias.roleTrending}},[_vm._v(\"「应援」\")]),_vm._v(\"\\n          系统，每次应援都需要消耗\\n          \"),_c('router-link',{attrs:{\"to\":\"/about/hello\"}},[_vm._v(\"「金币」\")]),_vm._v(\"\\n          ，而不是谁的 “水军” 多谁就可以排名靠前；\\n        \")],1),_c('p',[_vm._v(\"\\n          最后，如果有人喜欢了你的帖子，那么每个喜欢就可以让你收获一枚金币。\\n          当然了，如果你想要喜欢别人的帖子，那么你需要消耗一枚金币。\\n        \")])]):_vm._e()],1)],2),_c('post-flow-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_post = (esExports);\n// CONCATENATED MODULE: ./src/views/world/post.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(208),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"07e96444\"\nvar Component = normalizeComponent(\n  post,\n  world_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "19.server-bundle.js": "exports.ids = [19];\nexports.modules = {\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      const target = e.target;\n      const isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      let imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        const img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      let prevIndex;\n      let nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      const image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      const imageWidth = image.width;\n      const imageHeight = image.height;\n      const maxWidth = this.maxWidth;\n      const maxHeight = this.maxHeight;\n      let finalWidth;\n      let finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight;\n        const heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight;\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / widthRadio, 10);\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight;\n        finalWidth = parseInt(imageWidth / heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c25cc24\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(123),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4ba27814\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"585a4787\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview-3a_0 .container-GX_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_0 .bar-1K_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_0 .bar-1K_0.top-bar-1S_0{top:0}.image-preview-3a_0 .bar-1K_0.foot-bar-2c_0{bottom:0}.image-preview-3a_0 .wrap-13_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_0 .item-2Y_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_0 .top-bar-1S_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_0 .top-bar-1S_0 .close-ZW_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_0 .foot-bar-2c_0{text-align:center}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_0 .next-btn-30_0,.image-preview-3a_0 .prev-btn-1N_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_0 .next-btn-30_0 i,.image-preview-3a_0 .prev-btn-1N_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_0 .next-btn-30_0 i:hover,.image-preview-3a_0 .prev-btn-1N_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_0 .prev-btn-1N_0{left:0;text-align:left}.image-preview-3a_0 .next-btn-30_0{right:0;text-align:right}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_0\",\n\t\"imagePreview\": \"image-preview-3a_0\",\n\t\"container\": \"container-GX_0\",\n\t\"bar\": \"bar-1K_0\",\n\t\"top-bar\": \"top-bar-1S_0\",\n\t\"topBar\": \"top-bar-1S_0\",\n\t\"foot-bar\": \"foot-bar-2c_0\",\n\t\"footBar\": \"foot-bar-2c_0\",\n\t\"wrap\": \"wrap-13_0\",\n\t\"item\": \"item-2Y_0\",\n\t\"close\": \"close-ZW_0\",\n\t\"download\": \"download-3r_0\",\n\t\"prev-btn\": \"prev-btn-1N_0\",\n\t\"prevBtn\": \"prev-btn-1N_0\",\n\t\"next-btn\": \"next-btn-30_0\",\n\t\"nextBtn\": \"next-btn-30_0\"\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostShowItem\",\n  components: {\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5f79ac2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-show-item\"},[_vm._ssrNode(\"<div class=\\\"header clearfix\\\">\",\"</div>\",[(_vm.item.user)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":32}})],1):(_vm.item.bangumi)?_c('el-tooltip',{attrs:{\"content\":_vm.item.bangumi.name,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"24\"}})],1)]):_vm._e(),_vm._ssrNode(\"<span class=\\\"time\\\">\",\"</span>\",[_vm._ssrNode(\"\\n      发表于: \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2),_vm._ssrNode(((_vm.item.top_at && _vm.bangumiId)?(\"<div class=\\\"top_badge\\\">置顶</div>\"):\"<!---->\")+((_vm.item.is_nice)?(\"<div class=\\\"nice_badge\\\">精</div>\"):\"<!---->\")+((_vm.item.is_creator)?(\"<div class=\\\"creator_badge\\\">原创</div>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"title oneline href-fade-blue\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</a>\")],2),_vm._ssrNode(((_vm.item.user)?(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\"+_vm._ssrEscape(\"\\n    :\\n    \"+_vm._s(_vm.item.desc)+\"\\n  \")+\"</p>\"):(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\">\"+_vm._ssrEscape(_vm._s(_vm.item.desc))+\"</p>\"))),(_vm.item.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",[_c('image-preview',{attrs:{\"images\":_vm.item.images,\"download\":false,\"query\":\"image-box\"}},_vm._l((_vm.item.images),function(image,index){return _c('div',{key:index,staticClass:\"image-box\"},[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)}))],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"counter\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.comment_count))+\"</span>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(((!_vm.bangumiId && !_vm.userZone)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\"):\"<!---->\")),_c('v-share',{attrs:{\"url\":_vm.$alias.post(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.desc,\"type\":\"button\"}}),_vm._ssrNode(\"<span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-dianzan1\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span>\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(129),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1214cb76\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(130);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4aa4607b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-show-item .header .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-show-item{float:none;padding:10px 10px 10px 65px;position:relative}.post-show-item:not(:last-child){border-bottom:1px dotted #e4e6eb}.post-show-item .header{position:relative;height:32px}.post-show-item .header .bangumi-avatar{display:block;float:left;margin-right:10px;margin-top:4px}.post-show-item .header .user-avatar{display:block;float:left;margin-right:7px}.post-show-item .header .title{font-size:14px;line-height:32px;display:block}.post-show-item .header .time{float:right;display:block;line-height:32px;color:#999;font-size:12px;margin-left:10px}.post-show-item .header .creator_badge,.post-show-item .header .nice_badge,.post-show-item .header .top_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:5px 5px 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.post-show-item .header .top_badge{background-color:#00a1d6}.post-show-item .header .nice_badge{background-color:#f25d8e}.post-show-item .header .creator_badge{background-color:#daa520}.post-show-item .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-show-item .content.min-height{min-height:44px}.post-show-item .content a{font-size:12px;line-height:22px;color:#262626;font-weight:600}.post-show-item .images{height:90px;overflow:hidden;margin-top:10px;margin-bottom:15px}.post-show-item .images .image-box{margin-right:10px;height:100%;position:relative;float:left}.post-show-item .images .image-box:after{content:\\\"\\\";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0}.post-show-item .images .image-box:hover:after{opacity:.1}.post-show-item .images .image-box img{height:100%;width:auto}.post-show-item .counter{position:absolute;left:0;top:12px;width:50px;height:30px;line-height:26px;font-size:12px;text-align:center;background-color:RGB(247,247,247);display:block;border:1px solid #e4e6eb;border-radius:3px}.post-show-item .footer{text-align:right;font-size:13px;color:#99a2aa}.post-show-item .footer .bangumi{float:left;font-size:12px;line-height:20px}.post-show-item .footer .v-share{display:inline-block}.post-show-item .footer .v-share .share-btn{color:#99a2aa;font-size:12px}.post-show-item .footer span{margin-left:15px}.post-show-item .footer i,.post-show-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(128);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      this.$channel.$emit(\"show-create-post-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6685ccf3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing && !_vm.postList.length)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5bbf77b6\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(252);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"151fc693\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-post .posts-of-mine{margin-left:10px}#user-post .posts-of-mine #no-content{margin-left:-10px}#user-post .posts-of-reply li{float:none;padding:10px;position:relative}#user-post .posts-of-reply li:not(:last-child){border-bottom:1px dotted #e4e6eb}#user-post .posts-of-reply li .header{position:relative;height:32px;line-height:32px}#user-post .posts-of-reply li .header .prefix{float:left}#user-post .posts-of-reply li .header .title{display:block}#user-post .posts-of-reply li .header .time{float:right;display:block;line-height:32px;font-size:12px;position:relative;margin-right:12px;margin-left:10px;color:#999;z-index:1}#user-post .posts-of-reply li .header .avatar{display:block;float:right;margin-top:4px;position:relative;z-index:1}#user-post .posts-of-reply li .origin{background-color:#e5e9ef;padding:10px 20px;margin:10px 0;border-radius:5px}#user-post .posts-of-reply li .reply{border-left:5px solid #e5e9ef;padding:0 20px;margin:10px 0}#user-post .posts-of-reply li .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden}#user-post .posts-of-reply li .images{height:90px;overflow:hidden;margin-top:10px;margin-bottom:15px}#user-post .posts-of-reply li .images .image-box{margin-right:10px;height:100%;position:relative;float:left}#user-post .posts-of-reply li .images .image-box:after{content:\\\"\\\";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0}#user-post .posts-of-reply li .images .image-box:hover:after{opacity:.1}#user-post .posts-of-reply li .images .image-box img{height:100%;width:auto}#user-post .posts-of-reply .load-more-btn{margin-left:10px}#user-post #no-content{margin-top:25px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 377:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(138);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/post.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var post = ({\n  name: \"UserPost\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"post\",\n      sort: \"news\",\n      userZone: route.params.zone,\n      ctx\n    });\n  },\n\n  components: {\n    PostFlowList: PostFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      tab: \"发表\",\n      postListType: \"reply\",\n      list: [],\n      loading: false,\n      fetched: false,\n      noMore: false,\n      page: 0\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  },\n  methods: {\n    handleTabSwitch(label) {\n      if (label === \"回复\") {\n        this.getUserPosts(true);\n      }\n    },\n\n    async getUserPosts(init = false) {\n      if (init && this.fetched) {\n        return;\n      }\n\n      if (this.loading || this.noMore) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new userApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.replyPosts({\n          take: 10,\n          page: this.page,\n          zone: this.zone\n        });\n        this.fetched = true;\n        this.list = this.list.concat(data.list);\n        this.noMore = data.noMore;\n        this.page++;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77f382f2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-post\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.handleTabSwitch},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('el-radio-button',{attrs:{\"label\":\"发表\"}}),_c('el-radio-button',{attrs:{\"label\":\"回复\"}})],1),_c('post-flow-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === '发表'),expression:\"tab === '发表'\"}],staticClass:\"posts-of-mine\",attrs:{\"user-zone\":_vm.zone}}),_vm._ssrNode(\"<div class=\\\"posts-of-reply\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.tab === '回复') ? '' : 'none' }))+\">\",\"</div>\",[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.list),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<div class=\\\"header clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"prefix\\\">回复：</span>\"),_c('el-tooltip',{attrs:{\"content\":item.bangumi.name,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"24\"}})],1)]),_c('v-time',{staticClass:\"time\",model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(item.post.id)))+\" target=\\\"_blank\\\" class=\\\"title href-fade-blue oneline\\\">\"+_vm._ssrEscape(_vm._s(item.post.title))+\"</a>\")],2),_vm._ssrNode(\"<div class=\\\"origin\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(item.post.content))+\"</div>\"),(item.post.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",_vm._l((item.post.images),function(image,index){return _vm._ssrNode(\"<div class=\\\"image-box\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)})):_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"content\\\">\"+(_vm._s(item.content))+\"</div>\"),(item.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",_vm._l((item.images),function(image,index){return _vm._ssrNode(\"<div class=\\\"image-box\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)})):_vm._e()],2)])})),(!_vm.list.length && _vm.noMore)?_c('no-content'):_c('load-more-btn',{attrs:{\"auto\":true,\"no-more\":_vm.noMore,\"loading\":_vm.loading},on:{\"fetch\":function($event){_vm.getUserPosts(false)}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_post = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/post.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(251),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"30611b0f\"\nvar Component = normalizeComponent(\n  post,\n  show_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "20.server-bundle.js": "exports.ids = [20];\nexports.modules = {\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    async voteAction(is_agree) {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.currentUserId === this.authorId) {\n        this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.vote({\n          type: this.type,\n          id: this.id,\n          is_agree\n        });\n        this.$emit(\"vote\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1156c834\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(126),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"979a7632\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"78030ae6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn:hover{background-color:rgba(0,161,214,.2)}.vote-button .vote-btn.vote-down{margin-left:4px}.vote-button .vote-btn.active{background-color:#00a1d6;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(125);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fc77789\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"190\",\"height\":\"105\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\"><i class=\\\"el-icon-edit\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + ' 个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\"><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\" 人关注\\n    \")+\"</span>\"):\"<!---->\")),_c('v-share',{staticClass:\"stats\",attrs:{\"url\":_vm.item.answer ? _vm.$alias.answer(_vm.item.answer.id) : _vm.$alias.question(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.answer ? _vm.item.answer.intro : _vm.item.intro,\"type\":\"button\"}})],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(144),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8a32c2ea\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(137);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      this.$channel.$emit(\"show-create-question-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-471e9265\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"question-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"查看问题列表\")])],1):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"39ca55eb\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(145);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"435c4c99\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}.question-flow-item{padding-bottom:15px;padding-top:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .user-avatar{float:left;margin-right:10px;width:24px;height:24px;border-radius:12px;overflow:hidden}.question-flow-item .qaq-flow-header .nickname{font-weight:600;font-size:15px;line-height:24px;color:#444}.question-flow-item .title{font-size:18px;font-weight:600;line-height:1.6;color:#1a1a1a;margin-bottom:6px}.question-flow-item .title:hover{color:#0381aa}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-top:-2px;margin-right:18px;margin-bottom:4px;border-radius:4px;overflow:hidden;float:left}.question-flow-item .content .text{line-height:25px;max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .v-share{display:inline-block}.question-flow-item .footer .share-btn{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:20px}.question-flow-item .footer .stats{margin-right:20px;font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(143);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/question.vue\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var question = ({\n  name: \"BangumiQuestion\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"question\",\n      sort: \"active\",\n      bangumiId: route.params.id,\n      ctx\n    });\n  },\n\n  components: {\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59a8fd14\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('question-flow-list',{attrs:{\"bangumi-id\":_vm.id,\"bangumi-name\":_vm.info.name}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_question = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/question.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5029b7f1\"\nvar Component = normalizeComponent(\n  question,\n  show_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "21.server-bundle.js": "exports.ids = [21];\nexports.modules = {\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      const target = e.target;\n      const isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      let imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        const img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      let prevIndex;\n      let nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      const image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      const imageWidth = image.width;\n      const imageHeight = image.height;\n      const maxWidth = this.maxWidth;\n      const maxHeight = this.maxHeight;\n      let finalWidth;\n      let finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight;\n        const heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight;\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / widthRadio, 10);\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight;\n        finalWidth = parseInt(imageWidth / heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c25cc24\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(123),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4ba27814\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"585a4787\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".image-preview-3a_0 .container-GX_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_0 .bar-1K_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_0 .bar-1K_0.top-bar-1S_0{top:0}.image-preview-3a_0 .bar-1K_0.foot-bar-2c_0{bottom:0}.image-preview-3a_0 .wrap-13_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_0 .item-2Y_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_0 .top-bar-1S_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_0 .top-bar-1S_0 .close-ZW_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_0 .foot-bar-2c_0{text-align:center}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_0 .foot-bar-2c_0 .download-3r_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_0 .next-btn-30_0,.image-preview-3a_0 .prev-btn-1N_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_0 .next-btn-30_0 i,.image-preview-3a_0 .prev-btn-1N_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_0 .next-btn-30_0 i:hover,.image-preview-3a_0 .prev-btn-1N_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_0 .prev-btn-1N_0{left:0;text-align:left}.image-preview-3a_0 .next-btn-30_0{right:0;text-align:right}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_0\",\n\t\"imagePreview\": \"image-preview-3a_0\",\n\t\"container\": \"container-GX_0\",\n\t\"bar\": \"bar-1K_0\",\n\t\"top-bar\": \"top-bar-1S_0\",\n\t\"topBar\": \"top-bar-1S_0\",\n\t\"foot-bar\": \"foot-bar-2c_0\",\n\t\"footBar\": \"foot-bar-2c_0\",\n\t\"wrap\": \"wrap-13_0\",\n\t\"item\": \"item-2Y_0\",\n\t\"close\": \"close-ZW_0\",\n\t\"download\": \"download-3r_0\",\n\t\"prev-btn\": \"prev-btn-1N_0\",\n\t\"prevBtn\": \"prev-btn-1N_0\",\n\t\"next-btn\": \"next-btn-30_0\",\n\t\"nextBtn\": \"next-btn-30_0\"\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostShowItem\",\n  components: {\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5f79ac2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-show-item\"},[_vm._ssrNode(\"<div class=\\\"header clearfix\\\">\",\"</div>\",[(_vm.item.user)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone,\"custom-class\":\"user-avatar\"}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"size\":32}})],1):(_vm.item.bangumi)?_c('el-tooltip',{attrs:{\"content\":_vm.item.bangumi.name,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"24\"}})],1)]):_vm._e(),_vm._ssrNode(\"<span class=\\\"time\\\">\",\"</span>\",[_vm._ssrNode(\"\\n      发表于: \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2),_vm._ssrNode(((_vm.item.top_at && _vm.bangumiId)?(\"<div class=\\\"top_badge\\\">置顶</div>\"):\"<!---->\")+((_vm.item.is_nice)?(\"<div class=\\\"nice_badge\\\">精</div>\"):\"<!---->\")+((_vm.item.is_creator)?(\"<div class=\\\"creator_badge\\\">原创</div>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"title oneline href-fade-blue\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</a>\")],2),_vm._ssrNode(((_vm.item.user)?(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\"+_vm._ssrEscape(\"\\n    :\\n    \"+_vm._s(_vm.item.desc)+\"\\n  \")+\"</p>\"):(\"<p\"+(_vm._ssrClass(\"content\",{ 'min-height': !_vm.item.images.length }))+\">\"+_vm._ssrEscape(_vm._s(_vm.item.desc))+\"</p>\"))),(_vm.item.images.length)?_vm._ssrNode(\"<div class=\\\"images clearfix\\\">\",\"</div>\",[_c('image-preview',{attrs:{\"images\":_vm.item.images,\"download\":false,\"query\":\"image-box\"}},_vm._l((_vm.item.images),function(image,index){return _c('div',{key:index,staticClass:\"image-box\"},[_c('v-img',{attrs:{\"src\":image.url,\"width\":\"auto\",\"height\":\"90\"}})],1)}))],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"counter\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.comment_count))+\"</span>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_vm._ssrNode(((!_vm.bangumiId && !_vm.userZone)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\"):\"<!---->\")),_c('v-share',{attrs:{\"url\":_vm.$alias.post(_vm.item.id),\"title\":_vm.item.title,\"desc\":_vm.item.desc,\"type\":\"button\"}}),_vm._ssrNode(\"<span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-dianzan1\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span>\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(129),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1214cb76\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(130);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4aa4607b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-show-item .header .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.post-show-item{float:none;padding:10px 10px 10px 65px;position:relative}.post-show-item:not(:last-child){border-bottom:1px dotted #e4e6eb}.post-show-item .header{position:relative;height:32px}.post-show-item .header .bangumi-avatar{display:block;float:left;margin-right:10px;margin-top:4px}.post-show-item .header .user-avatar{display:block;float:left;margin-right:7px}.post-show-item .header .title{font-size:14px;line-height:32px;display:block}.post-show-item .header .time{float:right;display:block;line-height:32px;color:#999;font-size:12px;margin-left:10px}.post-show-item .header .creator_badge,.post-show-item .header .nice_badge,.post-show-item .header .top_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:5px 5px 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.post-show-item .header .top_badge{background-color:#00a1d6}.post-show-item .header .nice_badge{background-color:#f25d8e}.post-show-item .header .creator_badge{background-color:#daa520}.post-show-item .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-show-item .content.min-height{min-height:44px}.post-show-item .content a{font-size:12px;line-height:22px;color:#262626;font-weight:600}.post-show-item .images{height:90px;overflow:hidden;margin-top:10px;margin-bottom:15px}.post-show-item .images .image-box{margin-right:10px;height:100%;position:relative;float:left}.post-show-item .images .image-box:after{content:\\\"\\\";position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff;opacity:0}.post-show-item .images .image-box:hover:after{opacity:.1}.post-show-item .images .image-box img{height:100%;width:auto}.post-show-item .counter{position:absolute;left:0;top:12px;width:50px;height:30px;line-height:26px;font-size:12px;text-align:center;background-color:RGB(247,247,247);display:block;border:1px solid #e4e6eb;border-radius:3px}.post-show-item .footer{text-align:right;font-size:13px;color:#99a2aa}.post-show-item .footer .bangumi{float:left;font-size:12px;line-height:20px}.post-show-item .footer .v-share{display:inline-block}.post-show-item .footer .v-share .share-btn{color:#99a2aa;font-size:12px}.post-show-item .footer span{margin-left:15px}.post-show-item .footer i,.post-show-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(128);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      this.$channel.$emit(\"show-create-post-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6685ccf3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing && !_vm.postList.length)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()],1):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5bbf77b6\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 363:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(138);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/post.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var post = ({\n  name: \"BangumiPost\",\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"bangumi/getTopPosts\", {\n      ctx,\n      id\n    }), store.dispatch(\"flow/initData\", {\n      type: \"post\",\n      sort: \"active\",\n      bangumiId: id,\n      ctx\n    })]);\n  },\n\n  components: {\n    PostFlowList: PostFlowList[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22dd343a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('post-flow-list',{attrs:{\"bangumi-id\":_vm.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_post = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/post.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"c5bd4daa\"\nvar Component = normalizeComponent(\n  post,\n  show_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "22.server-bundle.js": "exports.ids = [22];\nexports.modules = {\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 342:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(343);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"618f72de\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 343:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-answer header{text-align:right;margin-right:15px}#trial-answer .el-card{margin-bottom:30px}#trial-answer .el-card img{max-width:100%}#trial-answer .el-card .title{padding:15px;display:block;font-weight:700;font-size:15px;border-bottom:1px solid #e5e9ef}#trial-answer .el-card .control{padding:15px;background-color:#f6f9fa}#trial-answer .el-card .json-content-txt-parser{margin-left:15px;margin-right:15px;margin-top:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 434:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/answer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var answer = ({\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.answerTrials().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    ban(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.answerBan({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"answer\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    pass(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.answerPass({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"answer\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    approve(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.answerApprove({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"answer\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    reject(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.answerReject({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"answer\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    quickDelete() {\n      this.$prompt(\"请输入回答id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new questionApi[\"a\" /* default */](this);\n        api.answerBan({\n          id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ad9abc4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/answer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-answer\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDelete}},[_vm._v(\"一键删回答\")])],1),_vm._l((_vm.list),function(item,index){return _c('el-col',{key:item.id,attrs:{\"span\":11,\"offset\":1}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('a',{staticClass:\"title\",attrs:{\"href\":_vm.$alias.answer(item.id),\"target\":\"_blank\"}},[_vm._v(\"点击查看内容\")]),_c('json-content',{attrs:{\"content\":item.content}}),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"bottom clearfix\"},[(item.deleted_at)?[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.approve(item.id, index)}}},[_vm._v(\"确认删除\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.reject(item.id, index)}}},[_vm._v(\"恢复答案\")])]:[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pass(item.id, index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.ban(item.id, index)}}},[_vm._v(\"删除\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (item.user_id))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"查看用户\")])],1)],2)])],1)],1)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_answer = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/answer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(342),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6b528738\"\nvar Component = normalizeComponent(\n  answer,\n  trial_answer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_answer = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "23.server-bundle.js": "exports.ids = [23];\nexports.modules = {\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(298);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"350803af\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#layout-write>header .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}#layout-write{min-height:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}#layout-write>header{position:fixed;left:0;top:0;width:100%;height:60px;background-color:#fff;border-bottom:1px solid rgba(0,0,0,.08);z-index:999}#layout-write>header .header-container{width:900px;margin:10px auto 0}#layout-write>header .logo{width:40px;height:40px;margin-right:10px;vertical-align:middle}#layout-write>header .slogan{display:inline-block;vertical-align:middle}#layout-write>header .slogan p{line-height:20px}#layout-write>header button{float:right;margin-top:4px;margin-left:15px}#layout-write>header button.success:focus,#layout-write>header button.success:hover{border-color:#67c23a;color:#67c23a}#layout-write>header button.warning:focus,#layout-write>header button.warning:hover{border-color:#e6a23c;color:#e6a23c}#layout-write>header button.danger:focus,#layout-write>header button.danger:hover{border-color:#f56c6c;color:#f56c6c}#layout-write .main-view{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%;width:900px;margin:0 auto;padding-top:100px}#layout-write .not-login{text-align:center;margin-top:30vh}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 397:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/write.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var write = ({\n  name: \"WriteLayout\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      submitting: false,\n      preview: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.$route.params.id;\n    },\n\n    user() {\n      return this.$store.state.user;\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    published() {\n      return this.$store.state.editor.resource ? !!this.$store.state.editor.resource.published_at : false;\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-submit\", result => {\n      this.submitting = result;\n    });\n  },\n\n  methods: {\n    emitPublish() {\n      this.$channel.$emit(\"write-publish\");\n    },\n\n    emitSave() {\n      this.$channel.$emit(\"write-save\");\n    },\n\n    emitPreview() {\n      this.preview = true;\n    },\n\n    emitDestroy() {\n      this.$channel.$emit(\"write-destroy\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a751fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/write.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.submitting),expression:\"submitting\"}],attrs:{\"id\":\"layout-write\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_vm._ssrNode(\"<div class=\\\"header-container\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/logo-new/logo.png', { width: 80 })))+\" alt=\\\"logo\\\" class=\\\"logo\\\"><div class=\\\"slogan\\\"><p>calibur.tv</p><p>天下漫友是一家</p></div>\"),(_vm.user)?[_c('el-tooltip',{attrs:{\"content\":_vm.user.nickname,\"placement\":\"bottom\",\"effect\":\"dark\"}},[_c('button',{staticClass:\"avatar\"},[_c('v-img',{attrs:{\"src\":_vm.user.avatar,\"size\":\"30\"}})],1)]),_c('el-button',{staticClass:\"primary\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-share\",\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.emitPublish}},[_vm._v(_vm._s(_vm.id ? '发布更新' : '发布'))]),(!_vm.published)?_c('el-button',{staticClass:\"warning\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-upload2\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":_vm.emitSave}},[_vm._v(\"保存\")]):_vm._e(),_c('el-button',{staticClass:\"success\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-view\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":_vm.emitPreview}},[_vm._v(\"预览\")]),(_vm.id)?_c('el-button',{staticClass:\"danger\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-delete\",\"plain\":\"\",\"round\":\"\"},on:{\"click\":_vm.emitDestroy}},[_vm._v(\"删除\")]):_vm._e()]:_vm._e()],2)]),(_vm.user)?[_c('router-view',{staticClass:\"main-view\"}),_c('v-dialog',{attrs:{\"fullscreen\":true,\"header\":false,\"footer\":false},model:{value:(_vm.preview),callback:function ($$v) {_vm.preview=$$v},expression:\"preview\"}},[_c('div',{staticStyle:{\"max-width\":\"700px\",\"margin\":\"20px auto\"}},[_c('json-content',{attrs:{\"show\":_vm.preview,\"content\":_vm.sections}})],1)])]:_vm._ssrNode(\"<div class=\\\"main-view not-login\\\">\",\"</div>\",[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.$channel.$emit('sign-in')}}},[_vm._v(\"\\n      继续操作前请先登录\\n    \")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_write = (esExports);\n// CONCATENATED MODULE: ./src/layouts/write.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(297),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"ba38662e\"\nvar Component = normalizeComponent(\n  write,\n  layouts_write,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_write = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "24.server-bundle.js": "exports.ids = [24];\nexports.modules = {\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d361ac22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"793b99c0\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15adb572\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(120),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"c0fc869a\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    },\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f6b2fb3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})})):_vm._e()}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"386c6940\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a4ac5ae\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all;margin-bottom:25px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(121);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebaeeeb6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 338:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(339);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"37419d84\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-score header{text-align:right;margin-right:15px}#trial-score .el-card{margin-bottom:30px}#trial-score .el-card .title{padding:15px;display:block;font-weight:700;font-size:15px;border-bottom:1px solid #e5e9ef}#trial-score .el-card img{max-width:100%}#trial-score .el-card .control{padding:15px;background-color:#f6f9fa}#trial-score .el-card .json-content-txt-parser{margin-left:15px;margin-right:15px;margin-top:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 432:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/score.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var score = ({\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.trials().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    ban(id, index) {\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.ban({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"score\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    pass(id, index) {\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.pass({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"score\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    approve(id, index) {\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.approve({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"score\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    reject(id, index) {\n      const api = new scoreApi[\"a\" /* default */](this);\n      api.reject({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"score\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    quickDelete() {\n      this.$prompt(\"请输入漫评id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new scoreApi[\"a\" /* default */](this);\n        api.ban({\n          id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54ca2ebe\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/score.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-score\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDelete}},[_vm._v(\"一键删漫评\")])],1),_vm._l((_vm.list),function(item,index){return _c('el-col',{key:item.id,attrs:{\"span\":11,\"offset\":1}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('a',{staticClass:\"title\",attrs:{\"href\":_vm.$alias.score(item.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.title)}}),_c('json-content',{attrs:{\"content\":item.content}}),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"bottom clearfix\"},[(item.deleted_at)?[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.approve(item.id, index)}}},[_vm._v(\"确认删除\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.reject(item.id, index)}}},[_vm._v(\"恢复漫评\")])]:[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.pass(item.id, index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.ban(item.id, index)}}},[_vm._v(\"删除\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (item.user_id))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"查看用户\")])],1)],2)])],1)],1)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_score = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/score.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(338),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"38e89ff0\"\nvar Component = normalizeComponent(\n  score,\n  trial_score,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_score = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "25.server-bundle.js": "exports.ids = [25];\nexports.modules = {\n\n/***/ 175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/TabContainer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TabContainer = ({\n  name: \"TabContainer\",\n  props: {\n    list: {\n      type: Array,\n      required: true\n    },\n    def: {\n      type: String,\n      default: \"\"\n    },\n    pos: {\n      type: String,\n      default: \"top\"\n    }\n  },\n\n  data() {\n    return {\n      current: this.def\n    };\n  },\n\n  watch: {\n    $route(to) {\n      this.current = to.name;\n    }\n\n  },\n\n  mounted() {\n    this.current = this.$route.name;\n  },\n\n  methods: {\n    tabClick(i) {\n      this.go(i.name);\n    },\n\n    go(x) {\n      const name = x ? x : \"homepage\";\n      this.$router.push({\n        name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-da6a22d8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/TabContainer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"tab-container\",attrs:{\"tab-position\":_vm.pos},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}},_vm._l((_vm.list),function(i,index){return _c('el-tab-pane',{key:index,attrs:{\"name\":i.name,\"lazy\":i.lazy,\"disabled\":i.disabled,\"closable\":i.closable}},[_c('div',{attrs:{\"slot\":\"label\"},domProps:{\"innerHTML\":_vm._s(i.label)},slot:\"label\"})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_TabContainer = (esExports);\n// CONCATENATED MODULE: ./src/components/common/TabContainer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(176),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6b92a9d7\"\nvar Component = normalizeComponent(\n  TabContainer,\n  common_TabContainer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_TabContainer = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(177);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"72dd8c61\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tab-container.el-tabs--top{margin-top:-10px}.tab-container.el-tabs--top .el-tabs__nav-wrap:after{background-color:transparent}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 224:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(225);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"2809c900\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 225:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".bangumi-banner .banner-mask{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(0,0,0,.3)}.bangumi-banner .info{width:60%;min-width:600px;margin:120px auto 0;color:#fff;position:relative}.bangumi-banner .info .summary,.bangumi-banner .info .title{text-shadow:0 1px 10px gray}.bangumi-banner .info .title{text-align:center;font-size:24px;font-weight:700}.bangumi-banner .info .summary{word-break:break-all;word-wrap:break-word;text-indent:2em;font-size:13px;line-height:20px;margin:40px 0 20px}.bangumi-banner .info .console{text-align:center}.bangumi-banner .info .console .follow-button.is-followed{background-color:transparent;border-color:#fff;text-shadow:0 1px 10px gray;color:#fff}.bangumi-banner .info .console .follow-button.is-followed:hover{background-color:hsla(0,0%,100%,.25)}.bangumi-banner .info .console .follow-button.not-follow{background-color:#f25d8e;border-color:#f25d8e}.bangumi-banner .info .console .follow-button.not-follow:hover{border-color:#ff8eb3;background-color:#ff8eb3}.bangumi-banner .info .console .follow-button i{margin-right:5px}.bangumi-banner .v-share{position:absolute;right:40px;bottom:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 226:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(227);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3874df98\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-aside>div{margin-bottom:20px}#bangumi-aside .no-one{color:#6d757a}#bangumi-aside #bangumi-tags li{margin-right:10px;margin-bottom:10px;float:left}.request-become-master-modal p{margin-top:10px;margin-bottom:10px;line-height:20px}.request-become-master-modal ul{margin-left:25px}.request-become-master-modal li{list-style-type:disc;line-height:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 362:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiBanner.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiBanner = ({\n  name: \"BangumiBanner\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      loadingFollow: false\n    };\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n  methods: {\n    handleFollowAction(result) {\n      this.$store.commit(\"bangumi/SET_FOLLOW\", {\n        result\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04ee23ce\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiBanner.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('v-header',{staticClass:\"bangumi-banner\",attrs:{\"banner\":_vm.info.banner,\"type\":\"mask\",\"height\":\"400px\"}},[_c('div',{staticClass:\"banner-mask\"}),_c('div',{staticClass:\"info\"},[_c('h1',{staticClass:\"title\",domProps:{\"textContent\":_vm._s(_vm.info.name)}}),_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.info.summary)}}),_c('div',{staticClass:\"console\"},[_c('follow-button',{attrs:{\"id\":_vm.info.id,\"classes\":_vm.info.followed ? 'is-followed' : 'not-follow',\"followed\":_vm.info.followed,\"type\":\"bangumi\"},on:{\"submit\":_vm.handleFollowAction}})],1)]),_c('v-share',{attrs:{\"type\":\"panel\"}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiBanner = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiBanner.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(224),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"07a31476\"\nvar Component = normalizeComponent(\n  BangumiBanner,\n  bangumi_BangumiBanner,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiBanner = (Component.exports);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiAside.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiAside = ({\n  name: \"BangumiAside\",\n\n  data() {\n    return {\n      loadingFollowers: false,\n      openRequestMasterModal: false\n    };\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    tags() {\n      return this.info.tags;\n    },\n\n    followers() {\n      return this.info.follow_users;\n    },\n\n    managers() {\n      return this.info.manager_users;\n    },\n\n    managerUsers() {\n      if (!this.managers.total) {\n        return [];\n      }\n\n      return this.managers.list.map(_ => {\n        return _.user;\n      });\n    }\n\n  },\n  methods: {\n    async fetchMoreFollowers() {\n      if (this.loadingFollowers) {\n        return;\n      }\n\n      this.loadingFollowers = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n      const type = \"follow\";\n\n      try {\n        const result = await api.users({\n          id: this.info.id,\n          take: 15,\n          last_id: this.followers.list[this.followers.list.length - 1].id,\n          model: \"bangumi\",\n          type\n        });\n        this.$store.commit(\"bangumi/FETCH_SOCIAL_USERS\", {\n          type,\n          result\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingFollowers = false;\n      }\n    },\n\n    fetchMoreManagers() {// 现在最多5个，没有分页\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f2292ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiAside.vue\nvar BangumiAside_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-aside\"}},[_vm._ssrNode(((_vm.tags.length)?(\"<div id=\\\"bangumi-tags\\\"><h2 class=\\\"sub-title\\\">标签</h2><ul>\"+(_vm._ssrList((_vm.tags),function(tag){return (\"<li class=\\\"tag\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTag(tag.id)))+\" target=\\\"_blank\\\" class=\\\"tag-btn\\\">\"+_vm._ssrEscape(_vm._s(tag.name))+\"</a></li>\")}))+\"</ul></div>\"):\"<!---->\")),_vm._ssrNode(\"<div id=\\\"bangumi-followers\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"sub-title\\\">\"+_vm._ssrEscape(\"关注的人\"+_vm._s(_vm.followers.total ? (\"（\" + (_vm.followers.total) + \"）\") : ''))+\"</h2>\"),(_vm.followers.total)?_c('ava-dialog',{attrs:{\"users\":_vm.followers.list,\"fetch\":_vm.fetchMoreFollowers,\"title\":(\"《\" + (_vm.info.name) + \"》的关注者们\"),\"loading\":_vm.loadingFollowers,\"no-more\":_vm.followers.noMore}}):_c('span',{staticClass:\"no-one\"},[_vm._v(\"还没有人关注\")])],2),_vm._ssrNode(\"<div id=\\\"bangumi-managers\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"sub-title\\\">吧主</h2>\"),(_vm.managers.total)?_c('ava-dialog',{attrs:{\"users\":_vm.managerUsers,\"fetch\":_vm.fetchMoreManagers,\"title\":(\"《\" + (_vm.info.name) + \"》的吧主们\"),\"loading\":false,\"no-more\":true}}):_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.openRequestMasterModal = true}}},[_vm._v(\"还没有吧主，点击申请\")]),_c('v-dialog',{staticClass:\"request-become-master-modal\",attrs:{\"title\":(\"申请成为《\" + (_vm.info.name) + \"》的吧主\"),\"footer\":false},model:{value:(_vm.openRequestMasterModal),callback:function ($$v) {_vm.openRequestMasterModal=$$v},expression:\"openRequestMasterModal\"}},[_c('p',[_vm._v(\"亲爱的漫友你好，欢迎来到 calibur.tv！\")]),_c('p',[_vm._v(\"如果你成为了吧主，那就代表你成为了这里重要的一员，因此我们在甄选吧主时会非常谨慎，你起码要满足一下要求：\")]),_c('ul',[_c('li',[_vm._v(\"你要有足够的阅片量，是个真正的漫迷，足够强\")]),_c('li',[_vm._v(\"你要有充足的精力和耐心，与 calibur 一同成长\")]),_c('li',[_vm._v(\"你要有负责人的精神，不能滥用权限\")]),_c('li',[_vm._v(\"你要待人和善，不能有意伤害其他漫友\")])]),_c('p',[_vm._v(\"如果你满足以上条件，请尽快联系我们，组织需要你！\")]),_c('p',[_vm._v(\"请到 \"),_c('a',{attrs:{\"href\":\"/about/hello\"}},[_vm._v(\"「交流与反馈」\")]),_vm._v(\"页面寻找 QQ 群加入我们！\")])])],2)],2)}\nvar BangumiAside_staticRenderFns = []\nvar BangumiAside_esExports = { render: BangumiAside_render, staticRenderFns: BangumiAside_staticRenderFns }\n/* harmony default export */ var bangumi_BangumiAside = (BangumiAside_esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiAside.vue\nfunction BangumiAside_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(226),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiAside_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiAside___vue_template_functional__ = false\n/* styles */\nvar BangumiAside___vue_styles__ = BangumiAside_injectStyle\n/* scopeId */\nvar BangumiAside___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiAside___vue_module_identifier__ = \"2b163644\"\nvar BangumiAside_Component = BangumiAside_normalizeComponent(\n  BangumiAside,\n  bangumi_BangumiAside,\n  BangumiAside___vue_template_functional__,\n  BangumiAside___vue_styles__,\n  BangumiAside___vue_scopeId__,\n  BangumiAside___vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiAside = (BangumiAside_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/TabContainer.vue + 2 modules\nvar TabContainer = __webpack_require__(175);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/layout.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var layout = ({\n  name: \"BangumiShowLayout\",\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"bangumi/getBangumi\", {\n      ctx,\n      id: route.params.id\n    });\n  },\n\n  components: {\n    BangumiBanner: components_bangumi_BangumiBanner,\n    BangumiAside: components_bangumi_BangumiAside,\n    TabContainer: TabContainer[\"a\" /* default */]\n  },\n\n  head() {\n    if (!this.id) {\n      return;\n    }\n\n    return {\n      title: `${this.info.name} - 番剧`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: this.info.summary\n      }]\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    cards() {\n      const info = this.info;\n\n      if (!info) {\n        return [];\n      }\n\n      return [{\n        label: \"帖子\",\n        name: \"bangumi-post\",\n        show: true\n      }, {\n        label: \"视频\",\n        name: \"bangumi-video\",\n        show: info.has_video\n      }, {\n        label: \"漫画\",\n        name: \"bangumi-cartoon\",\n        show: info.has_cartoon\n      }, {\n        label: \"偶像\",\n        name: \"bangumi-role\",\n        show: true\n      }, {\n        label: \"相册\",\n        name: \"bangumi-image\",\n        show: true\n      }, {\n        label: \"漫评\",\n        name: \"bangumi-score\",\n        show: true\n      }, {\n        label: \"问答\",\n        name: \"bangumi-question\",\n        show: true\n      }, {\n        label: \"设置\",\n        name: \"bangumi-setting\",\n        show: info.is_master\n      }].filter(_ => _.show);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70e4edac\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/layout.vue\nvar layout_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-show\"}},[_c('bangumi-banner'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('tab-container',{attrs:{\"list\":_vm.cards,\"def\":\"bangumi-post\"}}),_c('router-view')],1),_c('bangumi-aside',{attrs:{\"slot\":\"aside\"},slot:\"aside\"})],2)],1)}\nvar layout_staticRenderFns = []\nvar layout_esExports = { render: layout_render, staticRenderFns: layout_staticRenderFns }\n/* harmony default export */ var show_layout = (layout_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/layout.vue\nvar layout_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar layout___vue_template_functional__ = false\n/* styles */\nvar layout___vue_styles__ = null\n/* scopeId */\nvar layout___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar layout___vue_module_identifier__ = \"66009416\"\nvar layout_Component = layout_normalizeComponent(\n  layout,\n  show_layout,\n  layout___vue_template_functional__,\n  layout___vue_styles__,\n  layout___vue_scopeId__,\n  layout___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_layout = __webpack_exports__[\"default\"] = (layout_Component.exports);\n\n\n/***/ })\n\n};;",
    "26.server-bundle.js": "exports.ids = [26];\nexports.modules = {\n\n/***/ 162:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Footer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Footer = ({\n  name: \"VFooter\",\n\n  data() {\n    return {\n      toggleShareModal: false\n    };\n  },\n\n  computed: {\n    show() {\n      return [\"homepage\", \"invite-user\", \"question-show\"].indexOf(this.$route.name) === -1;\n    },\n\n    friends() {\n      return this.$store.state.pageData ? this.$store.state.pageData.friend_links : [];\n    }\n\n  },\n  methods: {\n    openShareModal() {\n      this.toggleShareModal = true;\n    },\n\n    handleCopySuccess() {\n      this.$toast.success(\"复制成功\");\n      this.toggleShareModal = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07df597c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Footer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('footer',{attrs:{\"id\":\"footer\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"cards\\\">\",\"</ul>\",[_vm._ssrNode(\"<li class=\\\"card-item\\\">\",\"</li>\",[_vm._ssrNode(\"<p>calibur - 天下漫友是一家</p><a href=\\\"/about/hello\\\" target=\\\"_blank\\\">功能简介</a><a href=\\\"javascript:;\\\">分享网站</a>\"),_c('v-dialog',{attrs:{\"custom-class\":_vm.$style.shareTipsModal,\"title\":\"感谢分享\"},model:{value:(_vm.toggleShareModal),callback:function ($$v) {_vm.toggleShareModal=$$v},expression:\"toggleShareModal\"}},[_c('div',{class:_vm.$style.tips},[_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              【calibur.tv】一个纯粹的二次元社区网站，致力于实现\\\"天下漫友是一家\\\"！\\n            \")]),_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！\\n            \")]),_c('p',{class:_vm.$style.p},[_vm._v(\"\\n              快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv\\n            \")])]),_c('div',{class:_vm.$style.footer,attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(\"【calibur.tv】一个纯粹的二次元社区网站，致力于实现'天下漫友是一家'！站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！快来加入我们吧~(^o^)/~ 网址：http://calibur.tv\"),expression:\"`【calibur.tv】一个纯粹的二次元社区网站，致力于实现'天下漫友是一家'！站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv`\"}],class:_vm.$style.copyShareBtn,attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"success\":_vm.handleCopySuccess}},[_vm._v(\"点击复制\")])],1)]),_vm._ssrNode(\"<div><a href=\\\"javascript:;\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/beianbgs.png', { width: 40 })))+\" class=\\\"icon\\\">\\n            沪ICP备17050785号-1\\n          </a></div><div><a href=\\\"http://www.shjbzx.cn/\\\" target=\\\"_blank\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/int-info.png', { width: 40 })))+\" class=\\\"icon\\\">\\n            上海互联网举报中心\\n          </a></div>\")],2),_vm._ssrNode(\"<li class=\\\"card-item\\\"><p>友情链接</p>\"+(_vm._ssrList((_vm.friends),function(item,index){return (\"<a\"+(_vm._ssrAttr(\"href\",item.link))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</a>\")}))+\"</li>\"),_vm._ssrNode(\"<li class=\\\"card-item\\\">\",\"</li>\",[_vm._ssrNode(\"<a href=\\\"https://www.calibur.tv/user/yu-yuan-lin-yin-7/bangumi\\\" target=\\\"_blank\\\" style=\\\"margin:0\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":\"https://image.calibur.tv/owner/logo/animate.gif\",\"width\":\"250\",\"height\":\"100\"}})],1)])],2)])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_Footer = (esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Footer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(163),i.__inject__&&i.__inject__(ssrContext),i)\n;(i=this[\"$style\"] = __webpack_require__(165),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27a640ac\"\nvar Component = normalizeComponent(\n  Footer,\n  layouts_Footer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Footer = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(164);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"583dd14c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#footer{width:100%;padding:40px 0;margin-top:40px;position:relative;z-index:2;background-color:#f6f9fa}#footer .cards{margin-left:20px}#footer .cards .card-item{display:block;min-height:100px;font-size:12px;line-height:1;padding-right:40px;float:left}#footer .cards .card-item:not(:first-child){border-left:1px solid #e5e9ef;padding-left:39px}#footer .cards .card-item p{margin-bottom:16px;font-size:14px;color:#6d757a}#footer .cards .card-item a{margin-bottom:16px;margin-right:10px;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;color:#99a2aa}#footer .cards .card-item a:hover{color:#00a1d6}#footer .cards .card-item div{margin-top:15px}#footer .cards .card-item .icon{width:16px;vertical-align:sub}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(166);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"65c6ce78\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".share-tips-modal-1J_1{text-align:left}.share-tips-modal-1J_1 .tips-tw_1 .p-2L_1{margin:25px 10px 0}.share-tips-modal-1J_1 .tips-tw_1 .footer-2e_1{padding:20px}.share-tips-modal-1J_1 .tips-tw_1 .footer-2e_1 .copy-share-btn-WA_1{float:right;margin-left:10px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"share-tips-modal\": \"share-tips-modal-1J_1\",\n\t\"shareTipsModal\": \"share-tips-modal-1J_1\",\n\t\"tips\": \"tips-tw_1\",\n\t\"p\": \"p-2L_1\",\n\t\"footer\": \"footer-2e_1\",\n\t\"copy-share-btn\": \"copy-share-btn-WA_1\",\n\t\"copyShareBtn\": \"copy-share-btn-WA_1\"\n};\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(302);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"759a0ef3\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#error-default{min-height:100%;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}#error-default,#error-default .error-message{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}#error-default .error-message{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}#error-default .error-message .error-img{width:260px;height:260px;margin-right:50px;border-radius:50%}#error-default .error-message .error-show{border-left:1px dashed #ccd0d7;margin-bottom:50px;padding-left:26px}#error-default .error-config p{line-height:1.8}#error-default .error-config button{margin-top:10px;margin-bottom:5px;margin-right:10px}#error-default .error-log{width:500px;margin:0 auto;color:#99a2aa;font-size:12px}#error-default .error-log p{word-break:break-all;max-height:195px;margin-top:10px;overflow:hidden}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 399:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/layouts/Header.vue + 8 modules\nvar Header = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./src/components/layouts/Footer.vue + 2 modules\nvar Footer = __webpack_require__(162);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/error.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var error = ({\n  name: \"ErrorLayout\",\n  components: {\n    vHeader: Header[\"a\" /* default */],\n    vFooter: Footer[\"a\" /* default */]\n  },\n  computed: {\n    params() {\n      return this.$route.query;\n    },\n\n    message() {\n      return this.params.message;\n    },\n\n    from() {\n      return decodeURIComponent(this.params.redirect);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-97d0bfb6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/error.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-default\"}},[_c('v-header'),_vm._ssrNode(\"<div class=\\\"error-message\\\">\",\"</div>\",[_vm._ssrNode(\"<img src=\\\"https://image.calibur.tv/owner/error/404.jpeg?imageMogr2/auto-orient/strip|imageView2/1/w/500/h/500\\\" class=\\\"error-img\\\">\"),_vm._ssrNode(\"<div class=\\\"error-show\\\">\",\"</div>\",[_c('router-view',{staticClass:\"error-config\"}),_vm._ssrNode(\"<div class=\\\"error-log\\\"><p>\"+_vm._ssrEscape(\"错误来源：\"+_vm._s(_vm.from))+\"</p><p>\"+_vm._ssrEscape(\"错误信息：\"+_vm._s(_vm.message))+\"</p></div>\")],2)],2),_c('v-footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_error = (esExports);\n// CONCATENATED MODULE: ./src/layouts/error.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(301),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0a5b0a92\"\nvar Component = normalizeComponent(\n  error,\n  layouts_error,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_error = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "27.server-bundle.js": "exports.ids = [27];\nexports.modules = {\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      noScore: 0\n    };\n  },\n\n  computed: {\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-480210f4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.item.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('a',{attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{staticClass:\"bangumi-avatar\",attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}})],1),(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.noScore),callback:function ($$v) {_vm.noScore=$$v},expression:\"noScore\"}})],1)],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.score(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"content\\\"><div class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</div><div class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></a><div class=\\\"footer\\\"><span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8e2f1ac2\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"fa241dbc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".score-flow-item .header .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.score-flow-item{padding-bottom:15px;padding-top:20px}.score-flow-item:not(:last-child){border-bottom:1px solid #f4f5f7}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .created-at{float:right;color:#99a2aa;font-size:12px;line-height:30px}.score-flow-item .header .about{overflow:hidden}.score-flow-item .header .about .bangumi-avatar,.score-flow-item .header .about .user-avatar{display:inline-block;vertical-align:middle;margin-right:8px}.score-flow-item .header .about .bangumi-avatar{border-radius:3px;border:1px solid #e5e9ef}.score-flow-item .header .about .name{line-height:30px;font-size:12px;margin-right:20px}.score-flow-item .header .about .name,.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle}.score-flow-item .content{display:block}.score-flow-item .content .title{color:#212121;cursor:pointer;font-size:16px;line-height:30px;font-weight:700;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.score-flow-item .content .intro{font-size:14px;margin-top:8px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .content:hover .title{color:#00a1d6}.score-flow-item .footer{margin-top:16px;line-height:16px;color:#99a2aa}.score-flow-item .footer span{margin-right:15px}.score-flow-item .footer i,.score-flow-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61ddef21\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"写下《\"+_vm._s(_vm.bangumiName)+\"》的第一篇漫评\")])],1):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.createScore,\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"发表第一篇漫评\")])],1):_vm._e()]):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"166ef375\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 232:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(233);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"d36835aa\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 233:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-score #bangumi-score-panel .bangumi-score-wrap{border-right:1px solid #e5e9ef}#bangumi-score #bangumi-score-panel .bangumi-score-total{padding-left:80px}#bangumi-score #bangumi-score-panel .bangumi-score-total .intro{margin-bottom:15px}#bangumi-score #bangumi-score-panel .bangumi-score-total .intro .total{float:left;font-size:28px;line-height:56px;margin-right:15px}#bangumi-score #bangumi-score-panel .bangumi-score-total .intro .rate{overflow:hidden;padding-top:10px}#bangumi-score #bangumi-score-panel .bangumi-score-total .intro .rate span{font-size:12px;color:#6d757a}#bangumi-score #bangumi-score-panel .bangumi-score-total .ladder{width:200px}#bangumi-score #bangumi-score-panel .bangumi-score-total .ladder .label,#bangumi-score #bangumi-score-panel .bangumi-score-total .ladder .percent{margin-right:10px;font-size:13px;line-height:14px;color:#6d757a;vertical-align:middle}#bangumi-score #bangumi-score-panel .bangumi-score-total .ladder .score{display:inline-block;height:10px;background-color:#f7ba2a;margin-right:5px;border-radius:3px;vertical-align:middle}#bangumi-score #score-list{margin-top:30px}#bangumi-score #score-list .sub-title button{float:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 368:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/charts/BangumiScoreChart.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiScoreChart = ({\n  components: {\n    VeRadar: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 369));\n    }\n  },\n  props: {\n    source: {\n      type: Object,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: \"400px\"\n    }\n  },\n\n  data() {\n    const labelMap = {\n      total: \"总分\",\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    const dimension = \"total\";\n    const columns = Object.keys(labelMap);\n    const metrics = columns.filter(_ => _ !== dimension);\n    const indicator = metrics.map(_ => {\n      return {\n        name: labelMap[_],\n        max: 10\n      };\n    });\n    return {\n      chartExtend: {\n        radar: {\n          indicator,\n          shape: \"polygon\",\n          splitArea: {\n            show: false\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: \"##ccd0d7\",\n              type: \"dotted\"\n            }\n          },\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: \"#ccd0d7\",\n              type: \"dotted\"\n            }\n          },\n          silent: false,\n          splitNumber: 10\n        },\n        series: {\n          areaStyle: {\n            normal: {}\n          },\n          label: {\n            normal: {\n              show: true\n            }\n          }\n        }\n      },\n      chartSettings: {\n        labelMap,\n        dimension,\n        metrics\n      },\n      chartData: {\n        columns,\n        rows: [this.source]\n      }\n    };\n  },\n\n  computed: {},\n  watch: {},\n\n  created() {},\n\n  mounted() {},\n\n  methods: {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e298f38c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/charts/BangumiScoreChart.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',{style:({ height: _vm.size })},[_c('ve-radar',{attrs:{\"data\":_vm.chartData,\"setting\":_vm.chartSettings,\"extend\":_vm.chartExtend,\"loading\":_vm.loading,\"width\":_vm.size,\"height\":_vm.size,\"legend-visible\":false,\"tooltip-visible\":false,\"resizeable\":false}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var charts_BangumiScoreChart = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/charts/BangumiScoreChart.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"24e616ac\"\nvar Component = normalizeComponent(\n  BangumiScoreChart,\n  charts_BangumiScoreChart,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_charts_BangumiScoreChart = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(142);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/score.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var score = ({\n  name: \"BangumiScore\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    const id = route.params.id;\n    await Promise.all([store.dispatch(\"bangumi/getBangumiScore\", {\n      ctx,\n      id\n    }), store.dispatch(\"flow/initData\", {\n      type: \"score\",\n      sort: \"active\",\n      bangumiId: id,\n      ctx\n    })]);\n  },\n\n  components: {\n    BangumiScoreChart: bangumi_charts_BangumiScoreChart,\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    bangumiScore() {\n      return this.$store.state.bangumi.score;\n    },\n\n    totalRate() {\n      return this.bangumiScore.total / 20;\n    },\n\n    totalScore() {\n      return this.bangumiScore.total / 10;\n    },\n\n    scores() {\n      return this.$store.state.flow.score.active;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9bf2df7c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/score.vue\nvar score_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-score\"}},[(_vm.bangumiScore)?_c('el-row',{attrs:{\"id\":\"bangumi-score-panel\"}},[_c('el-col',{staticClass:\"bangumi-score-wrap\",attrs:{\"span\":12}},[_c('bangumi-score-chart',{attrs:{\"source\":_vm.bangumiScore.radar,\"size\":\"300px\"}})],1),_c('el-col',{staticClass:\"bangumi-score-total\",attrs:{\"span\":12}},[_c('div',{staticClass:\"intro\"},[_c('div',{staticClass:\"total\",domProps:{\"textContent\":_vm._s(_vm.totalScore)}}),_c('div',{staticClass:\"rate\"},[_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.totalRate),callback:function ($$v) {_vm.totalRate=$$v},expression:\"totalRate\"}}),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.bangumiScore.count)+\"人评价\")])],1)]),_c('div',{staticClass:\"ladder\"},_vm._l((_vm.bangumiScore.ladder),function(star,index){return _c('div',{key:index,staticClass:\"star\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(star.key)+\"星\")]),_c('div',{staticClass:\"score\",style:({ width: ((130 * star.val / _vm.bangumiScore.count) + \"px\") })}),_c('span',{staticClass:\"percent\",domProps:{\"textContent\":_vm._s(((star.val / _vm.bangumiScore.count * 100) + \"%\"))}})])}))])],1):_vm._e(),(_vm.scores && _vm.scores.total)?_vm._ssrNode(\"<div id=\\\"score-list\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">\",\"</h3>\",[_vm._ssrNode(_vm._ssrEscape(\"\\n      共 \"+_vm._s(_vm.scores.total)+\" 条漫评\\n      \")),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",((_vm.$alias.createScore) + \"?bid=\" + (_vm.info.id))))+\" target=\\\"_blank\\\">\",\"</a>\",[(!_vm.info.scored)?_c('el-button',{attrs:{\"plan\":\"\",\"round\":\"\",\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"\\n          写漫评\\n        \")]):_vm._e()],1)],2)]):_vm._e(),(_vm.info)?_c('score-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()],1)}\nvar score_staticRenderFns = []\nvar score_esExports = { render: score_render, staticRenderFns: score_staticRenderFns }\n/* harmony default export */ var show_score = (score_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/score.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(232),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar score_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar score___vue_template_functional__ = false\n/* styles */\nvar score___vue_styles__ = injectStyle\n/* scopeId */\nvar score___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar score___vue_module_identifier__ = \"112cb897\"\nvar score_Component = score_normalizeComponent(\n  score,\n  show_score,\n  score___vue_template_functional__,\n  score___vue_styles__,\n  score___vue_scopeId__,\n  score___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_score = __webpack_exports__[\"default\"] = (score_Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "28.server-bundle.js": "exports.ids = [28];\nexports.modules = {\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      noScore: 0\n    };\n  },\n\n  computed: {\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-480210f4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.item.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('a',{attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{staticClass:\"bangumi-avatar\",attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}})],1),(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.noScore),callback:function ($$v) {_vm.noScore=$$v},expression:\"noScore\"}})],1)],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.score(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"content\\\"><div class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</div><div class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></a><div class=\\\"footer\\\"><span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8e2f1ac2\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"fa241dbc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".score-flow-item .header .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.score-flow-item{padding-bottom:15px;padding-top:20px}.score-flow-item:not(:last-child){border-bottom:1px solid #f4f5f7}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .created-at{float:right;color:#99a2aa;font-size:12px;line-height:30px}.score-flow-item .header .about{overflow:hidden}.score-flow-item .header .about .bangumi-avatar,.score-flow-item .header .about .user-avatar{display:inline-block;vertical-align:middle;margin-right:8px}.score-flow-item .header .about .bangumi-avatar{border-radius:3px;border:1px solid #e5e9ef}.score-flow-item .header .about .name{line-height:30px;font-size:12px;margin-right:20px}.score-flow-item .header .about .name,.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle}.score-flow-item .content{display:block}.score-flow-item .content .title{color:#212121;cursor:pointer;font-size:16px;line-height:30px;font-weight:700;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.score-flow-item .content .intro{font-size:14px;margin-top:8px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .content:hover .title{color:#00a1d6}.score-flow-item .footer{margin-top:16px;line-height:16px;color:#99a2aa}.score-flow-item .footer span{margin-right:15px}.score-flow-item .footer i,.score-flow-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61ddef21\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"写下《\"+_vm._s(_vm.bangumiName)+\"》的第一篇漫评\")])],1):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.createScore,\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"发表第一篇漫评\")])],1):_vm._e()]):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"166ef375\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(213);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"485a7c32\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#score-flow .img{background-color:#30a080}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 356:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(142);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/score.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var score = ({\n  name: \"ScoreWorld\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"world/getData\", {\n      type: \"score\",\n      sort: \"active\",\n      ctx\n    }), store.dispatch(\"world/getMeta\", {\n      type: \"score\"\n    })]);\n  },\n\n  components: {\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.score.meta;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f5d7aa2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/score.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-flow\"}},[_vm._ssrNode(\"<div class=\\\"flow-intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"img\\\">评</div>\"),_vm._ssrNode(\"<div class=\\\"intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.createScore))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\"}},[_vm._v(\"\\n              写漫评\\n            \")])],1)]),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"title\\\">漫评</h2>\"+((_vm.meta)?(\"<div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个番剧 · 收获了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 条漫评</div>\"):\"<!---->\")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTips = !_vm.showTips}}},[_vm._v(\"\\n            \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n            \"),_c('i',{class:_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'})])],2)]),(_vm.showTips)?_c('el-alert',{staticClass:\"detail\",attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('p',[_vm._v(\"\\n          很自豪的讲，「calibur.tv」现在的漫评功能应该是业界领先的，虽然我们还是个小站，o(￣┰￣*)ゞ；\\n        \")]),_c('p',[_vm._v(\"\\n          要发表一篇优秀的漫评是比较困难的，它需要你具备一定的 “文采” 和 “看番量”，但不用怕，我们是支持创作的过程中将你的作品\\n          存成草稿的，并且发布后也是可以编辑的，你完全可以精心构思你要表达的每一句话；\\n        \")]),_c('p',[_vm._v(\"\\n          我们的评分需要从多个维度来进行，它虽然能够辅助你找到分析动漫的起点，但是却会限制你的思维，因此不要太在意你的 “总分”，\\n          将注意力放在\"),_c('strong',[_vm._v(\"文字的表达\")]),_vm._v(\"与\"),_c('strong',[_vm._v(\"图片的选取\")]),_vm._v(\"上；\\n        \")]),_c('p',[_vm._v(\"\\n          不要担心会剧透，尽情的表达你的观点就好！但是也请你保持 “友善” 与 “理智”，不要去恶意贬低自己比喜欢的作品，不要去没有依据的吹捧你喜欢的作品，\\n          尽可能的客观吧；\\n        \")]),_c('p',[_vm._v(\"\\n          说了这么多，快点来试试看吧，ο(=•ω＜=)ρ⌒☆\\n        \")])]):_vm._e()],1)],2),_c('score-flow-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_score = (esExports);\n// CONCATENATED MODULE: ./src/views/world/score.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(212),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"e0fd4b78\"\nvar Component = normalizeComponent(\n  score,\n  world_score,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_score = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "29.server-bundle.js": "exports.ids = [29];\nexports.modules = {\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee965ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"98\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover fr\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_c('user-card',{attrs:{\"id\":_vm.item.lover.id,\"zone\":_vm.item.lover.zone}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.item.lover.nickname)}}),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"size\":\"20\"}})],1)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n        粉丝:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        金币:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n      \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(135),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6ae7c1de\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(136);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3a80fbe1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cartoon-role-flow-item .summary .lover .image{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child){border-bottom:1px solid #f0f0f0}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item .avatar{float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .summary{overflow:hidden;height:100px}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:20px;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a;margin-top:20px}.cartoon-role-flow-item .summary .lover .image{display:inline-block;vertical-align:middle;margin-left:10px}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(5);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写要应援的偶像\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-298f85f8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[(_vm.source.nothing)?_c('no-content',[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending,\"target\":\"_blank\"}},[_vm._v(\"查看角色列表\")]):_vm._e(),(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()],1):[_c('ul',_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(!(_vm.source.noMore && _vm.bangumiId))?_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}}):_vm._e()],(_vm.bangumiId && _vm.source.noMore && !_vm.source.nothing)?_vm._ssrNode(\"<div class=\\\"load-more-roles\\\">\",\"</div>\",[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")])],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(150),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3084c8b2\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(151);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3c6ea45c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#cartoon-role-flow-list .load-more-btn{width:100%}#cartoon-role-flow-list .load-more-roles{margin-top:30px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 381:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(149);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/role.vue\n//\n//\n//\n//\n\n/* harmony default export */ var role = ({\n  name: \"UserCartoonRole\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"role\",\n      sort: \"news\",\n      userZone: route.params.zone,\n      ctx\n    });\n  },\n\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4203b28e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/role.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cartoon-role-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_role = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/role.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1943b036\"\nvar Component = normalizeComponent(\n  role,\n  show_role,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_role = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "30.server-bundle.js": "exports.ids = [30];\nexports.modules = {\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee965ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"98\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover fr\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_c('user-card',{attrs:{\"id\":_vm.item.lover.id,\"zone\":_vm.item.lover.zone}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.item.lover.nickname)}}),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"size\":\"20\"}})],1)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n        粉丝:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        金币:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n      \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(135),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6ae7c1de\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(136);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3a80fbe1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cartoon-role-flow-item .summary .lover .image{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child){border-bottom:1px solid #f0f0f0}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item .avatar{float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .summary{overflow:hidden;height:100px}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:20px;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a;margin-top:20px}.cartoon-role-flow-item .summary .lover .image{display:inline-block;vertical-align:middle;margin-left:10px}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(5);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写要应援的偶像\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-298f85f8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[(_vm.source.nothing)?_c('no-content',[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending,\"target\":\"_blank\"}},[_vm._v(\"查看角色列表\")]):_vm._e(),(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()],1):[_c('ul',_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(!(_vm.source.noMore && _vm.bangumiId))?_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}}):_vm._e()],(_vm.bangumiId && _vm.source.noMore && !_vm.source.nothing)?_vm._ssrNode(\"<div class=\\\"load-more-roles\\\">\",\"</div>\",[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")])],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(150),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3084c8b2\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(151);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3c6ea45c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#cartoon-role-flow-list .load-more-btn{width:100%}#cartoon-role-flow-list .load-more-roles{margin-top:30px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 387:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(149);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/role/trending.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var trending = ({\n  name: \"TrendingRole\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"world/initData\", {\n      type: \"role\",\n      sort: \"hot\",\n      ctx\n    });\n  },\n\n  head: {\n    title: \"角色排行榜\"\n  },\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-442c84fd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/role/trending.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"trending-role\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('h2',{staticClass:\"sub-title\"},[_vm._v(\"偶像排行榜\")]),_c('cartoon-role-flow-list')],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_trending = (esExports);\n// CONCATENATED MODULE: ./src/views/role/trending.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"48787666\"\nvar Component = normalizeComponent(\n  trending,\n  role_trending,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_trending = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "31.server-bundle.js": "exports.ids = [31];\nexports.modules = {\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee965ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"98\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover fr\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_c('user-card',{attrs:{\"id\":_vm.item.lover.id,\"zone\":_vm.item.lover.zone}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.item.lover.nickname)}}),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"size\":\"20\"}})],1)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n      ·\\n      <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n        粉丝:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        金币:\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n      \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(135),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6ae7c1de\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(136);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3a80fbe1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cartoon-role-flow-item .summary .lover .image{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child){border-bottom:1px solid #f0f0f0}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item .avatar{float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .summary{overflow:hidden;height:100px}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:20px;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a;margin-top:20px}.cartoon-role-flow-item .summary .lover .image{display:inline-block;vertical-align:middle;margin-left:10px}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(5);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写要应援的偶像\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-298f85f8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[(_vm.source.nothing)?_c('no-content',[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending,\"target\":\"_blank\"}},[_vm._v(\"查看角色列表\")]):_vm._e(),(_vm.bangumiId)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()],1):[_c('ul',_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(!(_vm.source.noMore && _vm.bangumiId))?_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}}):_vm._e()],(_vm.bangumiId && _vm.source.noMore && !_vm.source.nothing)?_vm._ssrNode(\"<div class=\\\"load-more-roles\\\">\",\"</div>\",[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"没有你喜欢的角色？\")])],1):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(150),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3084c8b2\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(151);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3c6ea45c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#cartoon-role-flow-list .load-more-btn{width:100%}#cartoon-role-flow-list .load-more-roles{margin-top:30px;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 366:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(149);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/role.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var role = ({\n  name: \"BangumiCartoonRole\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"role\",\n      sort: \"hot\",\n      bangumiId: route.params.id,\n      ctx\n    });\n  },\n\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19bb29b1\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/role.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('cartoon-role-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_role = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/role.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"601e6601\"\nvar Component = normalizeComponent(\n  role,\n  show_role,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_role = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "32.server-bundle.js": "exports.ids = [32];\nexports.modules = {\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 354));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 355));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 200\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      const result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 300) {\n        return 300;\n      }\n\n      return result;\n    },\n\n    loadMore() {\n      this.$emit(\"load\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c978d7d\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[_c('waterfall',{attrs:{\"line-gap\":_vm.width + 12,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"height\":_vm.computeBoxHeight(item.source),\"order\":index,\"width\":_vm.width}},[_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id),\"target\":\"_blank\"}},[(item.is_creator)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"原创\",\"placement\":\"top\"}},[_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"})]):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"height\":_vm.computeImageHeight(item.source),\"width\":_vm.width,\"lazy\":false}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-dianzan1\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":item.user.id,\"zone\":item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"main-name\",domProps:{\"textContent\":_vm._s(item.user.nickname)}})],1):[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('user-card',{staticStyle:{\"float\":\"none\"},attrs:{\"id\":item.user.id,\"zone\":item.user.zone,\"custom-class\":\"oneline\"}},[_vm._v(\"\\n                    \"+_vm._s(item.user.nickname)+\"\\n                  \")])],1),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)])])}))],1),_c('load-more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(140),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0352f782\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openUploadImageModal() {\n      this.$channel.$emit(\"show-upload-image-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28649c54\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[(_vm.source.list.length)?_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone,\"width\":190},on:{\"load\":_vm.loadMore}}):_vm._e(),(_vm.source.nothing)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openUploadImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()],1):_vm._e()],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"20f778be\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(141);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"357fd988\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}#image-waterfall-flow .vue-waterfall{width:848px}#image-waterfall-flow .vue-waterfall-slot{padding-right:12px;padding-bottom:12px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .image-box img{display:block;-webkit-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center}#image-waterfall-flow .image .image-box:hover img{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{border-radius:4px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;display:block}#image-waterfall-flow .load-more-btn{margin-top:20px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(211);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"67eca53f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-flow .img{background-color:#ec414d}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 352:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(139);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/image.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var world_image = ({\n  name: \"ImageWorld\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"world/getData\", {\n      type: \"image\",\n      sort: \"active\",\n      ctx\n    }), store.dispatch(\"world/getMeta\", {\n      type: \"image\"\n    })]);\n  },\n\n  components: {\n    ImageFlowList: ImageFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.image.meta;\n    }\n\n  },\n  methods: {\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 3,\n        desc: \"{?}\",\n        placeholder: \"请填写你遇到的问题\"\n      });\n    },\n\n    openCreateImage() {\n      this.$channel.$emit(\"show-upload-image-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32599cb6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-flow\"}},[_vm._ssrNode(\"<div class=\\\"flow-intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"img\\\">图</div>\"),_vm._ssrNode(\"<div class=\\\"intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_c('el-button',{attrs:{\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.openCreateImage}},[_vm._v(\"\\n            上传图片\\n          \")])],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"title\\\">相册</h2>\"+((_vm.meta)?(\"<div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个画册 · 上传了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 张图片</div>\"):\"<!---->\")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTips = !_vm.showTips}}},[_vm._v(\"\\n            \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n            \"),_c('i',{class:_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'})])],2)]),(_vm.showTips)?_c('el-alert',{staticClass:\"detail\",attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('p',[_vm._v(\"\\n          「calibur.tv」的相册功能支持你创建自己的相册、或上传精美的单张图片，但是我们只希望你上传与「二次元」相关的图片，非二次元相关话题是不允许的；\\n        \")]),_c('p',[_vm._v(\"\\n          无论是上传单张图片还是创建相册，你都需要选择一个你要投稿的番剧，这么做虽然限制了你的自由，但是它可以保证社区内图片的质量；\\n        \")]),_c('p',[_vm._v(\"\\n          如果你要上传的图片的番剧还没有被网站收录，你可以\\n          \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"「点击反馈」\")]),_vm._v(\"\\n          来告诉我们，如果你上传的图片并不属于某部番剧，而只是一张精美的动漫图片，\\n          那么你暂时可以将它投稿到\\n          \"),_c('a',{attrs:{\"href\":_vm.$alias.bangumi(834),\"target\":\"_blank\"}},[_vm._v(\"「次元壁」\")]),_vm._v(\"这个番剧下面；\\n        \")]),_c('p',[_vm._v(\"\\n          如果你想上传漫画，那么请联系我们然后申请成为吧主，只有吧主才有权限上传漫画；\\n        \")]),_c('p',[_vm._v(\"\\n          如果你上传的图片是你自己创作的，那么请在上传图片或创建相册时勾选 “原创” 选项，它能够为你带来一些\\n          \"),_c('router-link',{attrs:{\"to\":\"/about/hello\"}},[_vm._v(\"「金币」\")])],1)]):_vm._e()],1)],2),_c('image-flow-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_world_image = (esExports);\n// CONCATENATED MODULE: ./src/views/world/image.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(210),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"47778ee6\"\nvar Component = normalizeComponent(\n  world_image,\n  views_world_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_world_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "33.server-bundle.js": "exports.ids = [33];\nexports.modules = {\n\n/***/ 146:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiRecommended.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiRecommended = ({\n  name: \"BangumiRecommended\",\n\n  data() {\n    return {\n      counter: 0\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.bangumi.recommended;\n    },\n\n    filterList() {\n      const begin = this.counter * 4;\n      const end = begin + 4;\n      return this.list.slice(begin, end);\n    }\n\n  },\n  methods: {\n    choiceTags() {\n      if ((this.counter + 1) * 4 >= this.list.length) {\n        this.counter = 0;\n      } else {\n        this.counter++;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ede42ec\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiRecommended.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-recommended\"}},[_c('v-affix',{staticStyle:{\"width\":\"280px\"},attrs:{\"offset\":{ top: 70, bottom: 40 },\"relative-element-selector\":\".default-layout\"}},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      推荐番剧\\n      \"),_c('span',{on:{\"click\":_vm.choiceTags}},[_c('i',{staticClass:\"el-icon-refresh\",style:({ transform: (\"rotate(\" + (_vm.counter * 360) + \"deg)\") })}),_vm._v(\"\\n        换一换\\n      \")])]),_c('ul',_vm._l((_vm.filterList),function(item){return _c('li',{key:item.id},[_c('a',{attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(item.avatar, { width: 120 })}}),_c('div',[_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s('《' + item.name + '》')}}),_c('span',{domProps:{\"textContent\":_vm._s(item.tag)}})])])])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiRecommended = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiRecommended.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(147),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d723201\"\nvar Component = normalizeComponent(\n  BangumiRecommended,\n  bangumi_BangumiRecommended,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiRecommended = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(148);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"99100104\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-recommended a:after,#bangumi-recommended a:before{content:\\\"\\\";clear:both;display:table}#bangumi-recommended .sub-title{font-size:15px;margin-left:0!important;margin-top:-5px}#bangumi-recommended .sub-title span{float:right;cursor:pointer}#bangumi-recommended .sub-title i{-webkit-transition:.5s ease;-o-transition:.5s ease;transition:.5s ease}#bangumi-recommended li{padding-bottom:8px;cursor:pointer}#bangumi-recommended li:hover a{background-color:#e5e9ef}#bangumi-recommended li:hover span{background-color:#ff8eb3;color:#fff}#bangumi-recommended a{display:block;width:100%;height:100%;border-radius:5px;overflow:hidden;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}#bangumi-recommended img{width:60px;height:60px;margin-right:5px;float:left}#bangumi-recommended div{overflow:hidden;padding:2px 5px}#bangumi-recommended p{line-height:18px;height:18px;font-size:12px;margin-bottom:3px;color:#222}#bangumi-recommended span{display:inline-block;color:#99a2aa;font-size:12px;line-height:16px;padding:2px 5px;border-radius:5px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 216:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(217);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b3a72d9\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-news .sub-title{margin-left:15px}#bangumi-news .el-tabs{padding-left:15px}#bangumi-news .el-tabs .el-tabs__nav{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;text-align:center}#bangumi-news .el-tabs .el-tabs__nav .el-tabs__item{-webkit-box-flex:1;-ms-flex:1;flex:1}#bangumi-news .bangumi{width:195px;margin:0 10px 20px 0;float:left}#bangumi-news .bangumi .avatar{width:65px;height:65px;display:block;float:left;margin-right:8px}#bangumi-news .bangumi .avatar img{width:100%;height:100%;border-radius:5px}#bangumi-news .bangumi .intro{overflow:hidden;font-size:12px}#bangumi-news .bangumi .intro .name{height:37px;margin-top:5px;margin-bottom:5px;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#bangumi-news .bangumi .intro span{color:#99a2aa;line-height:18px}#bangumi-news .bangumi .intro span .part{border-radius:9px;color:#fff;text-align:center;padding:0 4px;height:18px;min-width:36px;max-width:50px;margin-left:5px;display:inline-block;vertical-align:top}#bangumi-news .bangumi .intro span .part.new{background-color:#ff8eb3}#bangumi-news .bangumi .intro span .part.old{background-color:#b8c0cc}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 358:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/bangumi/BangumiRecommended.vue + 2 modules\nvar BangumiRecommended = __webpack_require__(146);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/news.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst weekly = [\"最新\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"];\n/* harmony default export */ var news = ({\n  name: \"BangumiNews\",\n  components: {\n    BangumiRecommended: BangumiRecommended[\"a\" /* default */]\n  },\n  head: {\n    title: \"新番放送 - 番剧\"\n  },\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"bangumi/getReleased\", ctx), store.dispatch(\"bangumi/getRecommended\")]);\n  },\n\n  data() {\n    return {\n      showtime: weekly,\n      thisWeek: weekly[new Date().getDay() || 7]\n    };\n  },\n\n  computed: {\n    released() {\n      return this.$store.state.bangumi.released;\n    }\n\n  },\n  methods: {\n    openFeedbackForResource() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 5,\n        desc: \"我想看新番：{?}\",\n        placeholder: \"请填写你要的番剧名\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7539fca0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/news.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-news\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('div',{staticClass:\"breadcrumb-links\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiNews}},[_vm._v(\"新番放送\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiTimeline}},[_vm._v(\"时间轴\")]),_c('a',{attrs:{\"href\":_vm.$alias.bangumiTag()}},[_vm._v(\"分类索引\")])],1),_c('h2',{staticClass:\"sub-title\"},[_vm._v(\"新番放送表\")]),_c('el-tabs',{model:{value:(_vm.thisWeek),callback:function ($$v) {_vm.thisWeek=$$v},expression:\"thisWeek\"}},_vm._l((_vm.showtime),function(tab,index){return _c('el-tab-pane',{key:index,attrs:{\"name\":tab,\"label\":tab}},[(_vm.released && _vm.released[index] && _vm.released[index].length)?_c('ul',_vm._l((_vm.released[index]),function(item){return _c('li',{key:item.id,staticClass:\"bangumi\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(item.avatar, { width: 180 }),\"alt\":item.name}})]),_c('div',{staticClass:\"intro\"},[_c('a',{staticClass:\"name href-fade-blue\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.name)}}),_c('span',[_vm._v(\"\\n                  更新至\\n                  \"),(item.released_video_id)?_c('a',{staticClass:\"part oneline\",class:[item.update ? 'new' : 'old'],attrs:{\"href\":_vm.$alias.video(item.released_video_id),\"target\":\"_blank\"}},[_vm._v(\"\\n                    \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                  \")]):_c('strong',{staticClass:\"part oneline\",class:[item.update ? 'new' : 'old']},[_vm._v(\"\\n                    \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                  \")])])])])})):_c('no-content',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedbackForResource}},[_vm._v(\"求资源\")])],1)],1)}))],1),_c('template',{slot:\"aside\"},[_c('bangumi-recommended')],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_news = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/news.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(216),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8c30bfac\"\nvar Component = normalizeComponent(\n  news,\n  bangumi_news,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_news = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "34.server-bundle.js": "exports.ids = [34];\nexports.modules = {\n\n/***/ 146:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiRecommended.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiRecommended = ({\n  name: \"BangumiRecommended\",\n\n  data() {\n    return {\n      counter: 0\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.bangumi.recommended;\n    },\n\n    filterList() {\n      const begin = this.counter * 4;\n      const end = begin + 4;\n      return this.list.slice(begin, end);\n    }\n\n  },\n  methods: {\n    choiceTags() {\n      if ((this.counter + 1) * 4 >= this.list.length) {\n        this.counter = 0;\n      } else {\n        this.counter++;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ede42ec\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiRecommended.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-recommended\"}},[_c('v-affix',{staticStyle:{\"width\":\"280px\"},attrs:{\"offset\":{ top: 70, bottom: 40 },\"relative-element-selector\":\".default-layout\"}},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      推荐番剧\\n      \"),_c('span',{on:{\"click\":_vm.choiceTags}},[_c('i',{staticClass:\"el-icon-refresh\",style:({ transform: (\"rotate(\" + (_vm.counter * 360) + \"deg)\") })}),_vm._v(\"\\n        换一换\\n      \")])]),_c('ul',_vm._l((_vm.filterList),function(item){return _c('li',{key:item.id},[_c('a',{attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(item.avatar, { width: 120 })}}),_c('div',[_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s('《' + item.name + '》')}}),_c('span',{domProps:{\"textContent\":_vm._s(item.tag)}})])])])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiRecommended = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiRecommended.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(147),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d723201\"\nvar Component = normalizeComponent(\n  BangumiRecommended,\n  bangumi_BangumiRecommended,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiRecommended = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(148);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"99100104\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-recommended a:after,#bangumi-recommended a:before{content:\\\"\\\";clear:both;display:table}#bangumi-recommended .sub-title{font-size:15px;margin-left:0!important;margin-top:-5px}#bangumi-recommended .sub-title span{float:right;cursor:pointer}#bangumi-recommended .sub-title i{-webkit-transition:.5s ease;-o-transition:.5s ease;transition:.5s ease}#bangumi-recommended li{padding-bottom:8px;cursor:pointer}#bangumi-recommended li:hover a{background-color:#e5e9ef}#bangumi-recommended li:hover span{background-color:#ff8eb3;color:#fff}#bangumi-recommended a{display:block;width:100%;height:100%;border-radius:5px;overflow:hidden;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}#bangumi-recommended img{width:60px;height:60px;margin-right:5px;float:left}#bangumi-recommended div{overflow:hidden;padding:2px 5px}#bangumi-recommended p{line-height:18px;height:18px;font-size:12px;margin-bottom:3px;color:#222}#bangumi-recommended span{display:inline-block;color:#99a2aa;font-size:12px;line-height:16px;padding:2px 5px;border-radius:5px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(221);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"2ebec87e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-timeline .bangumi:after,#bangumi-timeline .bangumi:before{content:\\\"\\\";clear:both;display:table}#bangumi-timeline .sub-title{margin-left:15px}#bangumi-timeline .collections{position:relative}#bangumi-timeline .collections:before{content:\\\"\\\";position:absolute;display:block;left:14.5px;top:0;bottom:0;width:1px;background-color:#00b5e5}#bangumi-timeline .collections .collection{padding-left:30px}#bangumi-timeline .collections .collection .time{height:30px;line-height:30px;padding-left:45px;margin-left:-30px;position:relative;font-weight:400;color:#99a2aa;font-size:16px;margin-top:20px}#bangumi-timeline .collections .collection .time:before{content:\\\"\\\";position:absolute;left:0;top:0;width:30px;height:30px;border-radius:50%;border:1px solid #00b5e5;background-color:#fff}#bangumi-timeline .collections .collection .time:after{content:\\\"\\\";position:absolute;left:7px;top:7px;width:16px;height:16px;border-radius:50%;background-color:#00b5e5}#bangumi-timeline .bangumi{width:100%;padding:20px 10px}#bangumi-timeline .bangumi .avatar{margin-right:15px;border-radius:5px;overflow:hidden;float:left}#bangumi-timeline .bangumi .content{overflow:hidden}#bangumi-timeline .bangumi .content .title{font-size:18px;font-weight:700}#bangumi-timeline .bangumi .content .title:hover{text-decoration:underline}#bangumi-timeline .bangumi .content .desc{margin:10px 0 12px;color:#99a2aa;font-size:13px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/bangumi/BangumiRecommended.vue + 2 modules\nvar BangumiRecommended = __webpack_require__(146);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/time.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var time = ({\n  name: \"BangumiTimeline\",\n  components: {\n    BangumiRecommended: BangumiRecommended[\"a\" /* default */]\n  },\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await Promise.all([store.dispatch(\"bangumi/getTimeline\", ctx), store.dispatch(\"bangumi/getRecommended\")]);\n  },\n\n  head: {\n    title: \"时间轴 - 番剧\"\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    timeline() {\n      return this.$store.state.bangumi.timeline.data;\n    },\n\n    noMore() {\n      return this.$store.state.bangumi.timeline.noMore;\n    }\n\n  },\n  methods: {\n    async loadMore() {\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"bangumi/getTimeline\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50534f30\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/time.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-timeline\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('div',{staticClass:\"breadcrumb-links\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiNews}},[_vm._v(\"新番放送\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiTimeline}},[_vm._v(\"时间轴\")]),_c('a',{attrs:{\"href\":_vm.$alias.bangumiTag()}},[_vm._v(\"分类索引\")])],1),_c('h2',{staticClass:\"sub-title\"},[_vm._v(\"时间轴\")]),_c('ul',{staticClass:\"collections\"},_vm._l((_vm.timeline),function(col){return _c('ul',{key:col.date,staticClass:\"collection\"},[_c('h3',{staticClass:\"time\",domProps:{\"textContent\":_vm._s(col.date)}}),_vm._l((col.list),function(item){return _c('li',{key:item.id,staticClass:\"bangumi\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.avatar,\"size\":\"90\"}})],1),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"title\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"textContent\":_vm._s(item.summary)}})])])})],2)})),_c('load-more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1),_c('template',{slot:\"aside\"},[_c('bangumi-recommended')],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_time = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/time.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(220),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2a1c49b8\"\nvar Component = normalizeComponent(\n  time,\n  bangumi_time,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_time = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "35.server-bundle.js": "exports.ids = [35];\nexports.modules = {\n\n/***/ 146:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiRecommended.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiRecommended = ({\n  name: \"BangumiRecommended\",\n\n  data() {\n    return {\n      counter: 0\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.bangumi.recommended;\n    },\n\n    filterList() {\n      const begin = this.counter * 4;\n      const end = begin + 4;\n      return this.list.slice(begin, end);\n    }\n\n  },\n  methods: {\n    choiceTags() {\n      if ((this.counter + 1) * 4 >= this.list.length) {\n        this.counter = 0;\n      } else {\n        this.counter++;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ede42ec\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiRecommended.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-recommended\"}},[_c('v-affix',{staticStyle:{\"width\":\"280px\"},attrs:{\"offset\":{ top: 70, bottom: 40 },\"relative-element-selector\":\".default-layout\"}},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      推荐番剧\\n      \"),_c('span',{on:{\"click\":_vm.choiceTags}},[_c('i',{staticClass:\"el-icon-refresh\",style:({ transform: (\"rotate(\" + (_vm.counter * 360) + \"deg)\") })}),_vm._v(\"\\n        换一换\\n      \")])]),_c('ul',_vm._l((_vm.filterList),function(item){return _c('li',{key:item.id},[_c('a',{attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(item.avatar, { width: 120 })}}),_c('div',[_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s('《' + item.name + '》')}}),_c('span',{domProps:{\"textContent\":_vm._s(item.tag)}})])])])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiRecommended = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiRecommended.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(147),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d723201\"\nvar Component = normalizeComponent(\n  BangumiRecommended,\n  bangumi_BangumiRecommended,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiRecommended = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(148);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"99100104\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-recommended a:after,#bangumi-recommended a:before{content:\\\"\\\";clear:both;display:table}#bangumi-recommended .sub-title{font-size:15px;margin-left:0!important;margin-top:-5px}#bangumi-recommended .sub-title span{float:right;cursor:pointer}#bangumi-recommended .sub-title i{-webkit-transition:.5s ease;-o-transition:.5s ease;transition:.5s ease}#bangumi-recommended li{padding-bottom:8px;cursor:pointer}#bangumi-recommended li:hover a{background-color:#e5e9ef}#bangumi-recommended li:hover span{background-color:#ff8eb3;color:#fff}#bangumi-recommended a{display:block;width:100%;height:100%;border-radius:5px;overflow:hidden;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}#bangumi-recommended img{width:60px;height:60px;margin-right:5px;float:left}#bangumi-recommended div{overflow:hidden;padding:2px 5px}#bangumi-recommended p{line-height:18px;height:18px;font-size:12px;margin-bottom:3px;color:#222}#bangumi-recommended span{display:inline-block;color:#99a2aa;font-size:12px;line-height:16px;padding:2px 5px;border-radius:5px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 222:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(223);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"491e1dee\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 223:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-tags .bangumi:after,#bangumi-tags .bangumi:before{content:\\\"\\\";clear:both;display:table}#bangumi-tags .bangumis{margin-left:15px}#bangumi-tags .tags{margin-bottom:25px;margin-left:15px}#bangumi-tags .tags li{margin-right:10px;margin-bottom:10px;float:left}#bangumi-tags .tags .btn{font-size:12px;background-color:#fff;border:1px solid #ccd0d7;padding:0 5px;line-height:22px;border-radius:4px}#bangumi-tags .tags .btn:hover{background-color:#ccd0d7}#bangumi-tags .bangumi{width:100%;padding:20px 10px}#bangumi-tags .bangumi:not(:last-child){border-bottom:1px solid #e5e9ef}#bangumi-tags .bangumi .avatar{margin-right:15px;border-radius:5px;overflow:hidden;float:left}#bangumi-tags .bangumi .content{overflow:hidden}#bangumi-tags .bangumi .content .title{font-size:18px;font-weight:700}#bangumi-tags .bangumi .content .title:hover{text-decoration:underline}#bangumi-tags .bangumi .content .desc{margin:10px 0 12px;color:#99a2aa;font-size:13px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 361:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/bangumi/BangumiRecommended.vue + 2 modules\nvar BangumiRecommended = __webpack_require__(146);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/tags.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var tags = ({\n  name: \"BangumiTags\",\n  components: {\n    BangumiRecommended: BangumiRecommended[\"a\" /* default */]\n  },\n  head: {\n    title: \"分类索引 - 番剧\"\n  },\n\n  async asyncData({\n    route,\n    store,\n    ctx\n  }) {\n    const id = route.query.id;\n    const arr = [store.dispatch(\"bangumi/getTags\", {\n      id,\n      ctx\n    }), store.dispatch(\"bangumi/getRecommended\")];\n\n    if (id && (/^\\d+$/.test(id) || id.indexOf(\"-\") !== -1 && id.split(\"-\").every(item => /^\\d+$/.test(item)))) {\n      arr.push(store.dispatch(\"bangumi/getCategory\", {\n        id,\n        ctx\n      }));\n    }\n\n    await Promise.all(arr);\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.$route.query.id;\n    },\n\n    bangumis() {\n      return this.$store.state.bangumi.category.data;\n    },\n\n    tags() {\n      return this.$store.state.bangumi.tags;\n    },\n\n    noMore() {\n      return this.$store.state.bangumi.category.noMore;\n    }\n\n  },\n  methods: {\n    refresh() {\n      const selected = [];\n      this.tags.forEach(tag => {\n        if (tag.selected) {\n          selected.push(tag.id);\n        }\n      });\n\n      if (selected.length) {\n        window.location = this.$alias.bangumiTag(selected.join(\"-\"));\n      }\n    },\n\n    async loadMore() {\n      if (this.notFetch) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"bangumi/getCategory\", {\n          id: this.$route.query.id,\n          ctx: this\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-329abe5f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/tags.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\",attrs:{\"id\":\"bangumi-tags\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('div',{staticClass:\"breadcrumb-links\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiNews}},[_vm._v(\"新番放送\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiTimeline}},[_vm._v(\"时间轴\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumiTag()}},[_vm._v(\"分类索引\")])],1),_c('div',{staticClass:\"tags\"},[_c('h2',{staticClass:\"sub-title\"},[_vm._v(\"标签列表\")]),_c('ul',[_vm._l((_vm.tags),function(tag,index){return _c('li',{key:tag.id,on:{\"click\":function($event){_vm.$store.commit('bangumi/selectTag', index)}}},[_c('a',{staticClass:\"tag-btn\",class:{ 'selected': tag.selected },attrs:{\"href\":_vm.$alias.bangumiTag(tag.id)},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(_vm._s(tag.name))])])}),_c('li',[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.refresh}},[_vm._v(\"点击查找\")])])],2)]),(_vm.bangumis && _vm.bangumis.length)?_c('div',{staticClass:\"bangumis\"},[_c('h2',{staticClass:\"sub-title\"},[_vm._v(\"番剧列表\")]),_c('ul',_vm._l((_vm.bangumis),function(item){return _c('li',{key:item.id,staticClass:\"bangumi\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.avatar,\"size\":\"90\"}})],1),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"title\",attrs:{\"href\":_vm.$alias.bangumi(item.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"textContent\":_vm._s(item.summary)}})])])})),_c('load-more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):(_vm.id)?_c('no-content'):_vm._e()],1),_c('template',{slot:\"aside\"},[_c('bangumi-recommended')],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_tags = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/tags.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(222),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3a483670\"\nvar Component = normalizeComponent(\n  tags,\n  bangumi_tags,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_tags = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "36.server-bundle.js": "exports.ids = [36];\nexports.modules = {\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      noScore: 0\n    };\n  },\n\n  computed: {\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-480210f4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('el-tooltip',{attrs:{\"content\":_vm.item.created_at,\"placement\":\"top\",\"effect\":\"dark\"}},[_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":_vm.item.user.id,\"zone\":_vm.item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('a',{attrs:{\"href\":_vm.$alias.bangumi(_vm.item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{staticClass:\"bangumi-avatar\",attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"name href-fade-blue\",domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}})],1),(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.noScore),callback:function ($$v) {_vm.noScore=$$v},expression:\"noScore\"}})],1)],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.score(_vm.item.id)))+\" target=\\\"_blank\\\" class=\\\"content\\\"><div class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</div><div class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></a><div class=\\\"footer\\\"><span><i class=\\\"iconfont icon-buoumaotubiao44\\\"></i>\"+_vm._ssrEscape(\"\\n      收藏数 (\"+_vm._s(_vm.item.mark_count)+\")\\n    \")+\"</span>\"+((_vm.item.is_creator)?(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      投食数 (\"+_vm._s(_vm.item.reward_count)+\")\\n    \")+\"</span>\"):(\"<span><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n      喜欢数 (\"+_vm._s(_vm.item.like_count)+\")\\n    \")+\"</span>\"))+\"<span><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n      评论数 (\"+_vm._s(_vm.item.comment_count)+\")\\n    \")+\"</span></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8e2f1ac2\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"fa241dbc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".score-flow-item .header .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}.score-flow-item{padding-bottom:15px;padding-top:20px}.score-flow-item:not(:last-child){border-bottom:1px solid #f4f5f7}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .created-at{float:right;color:#99a2aa;font-size:12px;line-height:30px}.score-flow-item .header .about{overflow:hidden}.score-flow-item .header .about .bangumi-avatar,.score-flow-item .header .about .user-avatar{display:inline-block;vertical-align:middle;margin-right:8px}.score-flow-item .header .about .bangumi-avatar{border-radius:3px;border:1px solid #e5e9ef}.score-flow-item .header .about .name{line-height:30px;font-size:12px;margin-right:20px}.score-flow-item .header .about .name,.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle}.score-flow-item .content{display:block}.score-flow-item .content .title{color:#212121;cursor:pointer;font-size:16px;line-height:30px;font-weight:700;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.score-flow-item .content .intro{font-size:14px;margin-top:8px;line-height:22px;max-height:44px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .content:hover .title{color:#00a1d6}.score-flow-item .footer{margin-top:16px;line-height:16px;color:#99a2aa}.score-flow-item .footer span{margin-right:15px}.score-flow-item .footer i,.score-flow-item .footer span{line-height:20px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61ddef21\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.nothing)?_c('no-content',[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId),\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"写下《\"+_vm._s(_vm.bangumiName)+\"》的第一篇漫评\")])],1):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.createScore,\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"}},[_vm._v(\"发表第一篇漫评\")])],1):_vm._e()]):_c('load-more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"166ef375\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 379:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(142);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/score.vue\n//\n//\n//\n//\n\n/* harmony default export */ var score = ({\n  name: \"UserScore\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"score\",\n      sort: \"news\",\n      userZone: route.params.zone,\n      ctx\n    });\n  },\n\n  components: {\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0a2cfd4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/score.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('score-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_score = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/score.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3435999a\"\nvar Component = normalizeComponent(\n  score,\n  show_score,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_score = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "37.server-bundle.js": "exports.ids = [37];\nexports.modules = {\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(315);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1e35699a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".dashboard-editor-container[data-v-16659c14]{margin:-20px;padding:32px;background-color:#f0f2f5}.dashboard-editor-container .chart-wrapper[data-v-16659c14]{background:#fff;padding:16px 16px 0;margin-bottom:32px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(317);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7e30f94f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".panel-group[data-v-f0dda2d4]{margin-top:18px}.panel-group .card-panel-col[data-v-f0dda2d4]{margin-bottom:32px}.panel-group .card-panel[data-v-f0dda2d4]{height:108px;cursor:pointer;font-size:12px;position:relative;overflow:hidden;color:#666;background:#fff;-webkit-box-shadow:4px 4px 40px rgba(0,0,0,.05);box-shadow:4px 4px 40px rgba(0,0,0,.05);border-color:rgba(0,0,0,.05)}.panel-group .card-panel:hover .card-panel-icon-wrapper[data-v-f0dda2d4]{color:#fff}.panel-group .card-panel:hover .icon-people[data-v-f0dda2d4]{background:#40c9c6}.panel-group .card-panel:hover .icon-message[data-v-f0dda2d4]{background:#36a3f7}.panel-group .card-panel:hover .icon-money[data-v-f0dda2d4]{background:#f4516c}.panel-group .card-panel:hover .icon-shoppingCard[data-v-f0dda2d4]{background:#34bfa3}.panel-group .card-panel .icon-people[data-v-f0dda2d4]{color:#40c9c6}.panel-group .card-panel .icon-message[data-v-f0dda2d4]{color:#36a3f7}.panel-group .card-panel .icon-money[data-v-f0dda2d4]{color:#f4516c}.panel-group .card-panel .icon-shoppingCard[data-v-f0dda2d4]{color:#34bfa3}.panel-group .card-panel .card-panel-icon-wrapper[data-v-f0dda2d4]{float:left;margin:14px 0 0 14px;padding:16px;-webkit-transition:all .38s ease-out;-o-transition:all .38s ease-out;transition:all .38s ease-out;border-radius:6px}.panel-group .card-panel .card-panel-icon-wrapper i[data-v-f0dda2d4]{font-size:48px}.panel-group .card-panel .card-panel-description[data-v-f0dda2d4]{float:right;font-weight:700;margin:26px;margin-left:0}.panel-group .card-panel .card-panel-description .card-panel-text[data-v-f0dda2d4]{line-height:18px;color:rgba(0,0,0,.45);font-size:16px;margin-bottom:12px}.panel-group .card-panel .card-panel-description .card-panel-num[data-v-f0dda2d4]{font-size:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 409:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"vue-count-to\"\nvar external__vue_count_to_ = __webpack_require__(92);\nvar external__vue_count_to__default = /*#__PURE__*/__webpack_require__.n(external__vue_count_to_);\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/dashboard/components/PanelGroup.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PanelGroup = ({\n  components: {\n    CountTo: external__vue_count_to__default.a\n  },\n\n  data() {\n    return {\n      stats: {}\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.realtimeStats().then(data => {\n        this.stats = data;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f0dda2d4\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/dashboard/components/PanelGroup.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"panel-group\",attrs:{\"gutter\":40}},[_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-people\"},[_c('svg-icon',{attrs:{\"icon-class\":\"users\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"注册\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.user,\"duration\":2600}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-message\"},[_c('svg-icon',{attrs:{\"icon-class\":\"edit\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"发帖\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.post,\"duration\":3000}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-money\"},[_c('svg-icon',{attrs:{\"icon-class\":\"comments\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"评论\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.comment,\"duration\":3200}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-shoppingCard\"},[_c('svg-icon',{attrs:{\"icon-class\":\"images\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"图片\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.image,\"duration\":3600}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-message\"},[_c('svg-icon',{attrs:{\"icon-class\":\"edit\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"漫评\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.score,\"duration\":3000}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-message\"},[_c('svg-icon',{attrs:{\"icon-class\":\"edit\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"提问\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.question,\"duration\":3000}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-message\"},[_c('svg-icon',{attrs:{\"icon-class\":\"edit\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"回答\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.answer,\"duration\":3000}})],1)])]),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":12,\"sm\":12,\"lg\":6}},[_c('div',{staticClass:\"card-panel\"},[_c('div',{staticClass:\"card-panel-icon-wrapper icon-shoppingCard\"},[_c('svg-icon',{attrs:{\"icon-class\":\"images\"}})],1),_c('div',{staticClass:\"card-panel-description\"},[_c('div',{staticClass:\"card-panel-text\"},[_vm._v(\"相册\")]),_c('count-to',{staticClass:\"card-panel-num\",attrs:{\"start-val\":0,\"end-val\":_vm.stats.image_album,\"duration\":3600}})],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_PanelGroup = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/dashboard/components/PanelGroup.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(316),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f0dda2d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2d390af0\"\nvar Component = normalizeComponent(\n  PanelGroup,\n  components_PanelGroup,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var dashboard_components_PanelGroup = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/dashboard/components/LineChart.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var LineChart = ({\n  components: {\n    VeLine: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 410));\n    }\n  },\n\n  data() {\n    return {\n      loading: true,\n      resource: [],\n      keyMaps: {\n        create_bangumi: \"创建番剧\",\n        create_image: \"总图片数\",\n        create_image_album: \"总相册数\",\n        create_post: \"总发帖\",\n        create_post_image: \"总帖图数\",\n        create_post_reply: \"总回帖量\",\n        create_comment: \"发评论\",\n        create_role: \"角色总数\",\n        create_video: \"视频总量\",\n        user_register: \"用户总量\"\n      },\n      ariseKeyMaps: {\n        create_bangumi: \"番剧增长率\",\n        create_image: \"图片增长率\",\n        create_image_album: \"相册增长率\",\n        create_post: \"帖子增长率\",\n        create_post_image: \"帖图增长率\",\n        create_post_reply: \"回帖增长率\",\n        create_comment: \"评论增长率\",\n        create_role: \"角色增长率\",\n        create_video: \"视频增长率\",\n        user_register: \"用户增长率\"\n      }\n    };\n  },\n\n  computed: {\n    groupByTypeData() {\n      return _.mapValues(_.groupBy(this.resource, \"type\"), clist => clist.map(item => _.omit(item, \"type\")));\n    },\n\n    types() {\n      return Object.keys(this.groupByTypeData);\n    }\n\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.timelineStats({\n        days: 30\n      }).then(data => {\n        this.resource = data.map(_ => {\n          const day = parseInt(_.day, 10) * 1000;\n          return {\n            id: parseInt(_.id, 10),\n            day: parseInt(_.day, 10) * 1000,\n            time: this.$moment(day).format(\"MM月DD日\"),\n            count: parseInt(_.count, 10),\n            type: _.type\n          };\n        });\n        this.loading = false;\n      });\n    },\n\n    computeData(key) {\n      const data = this.groupByTypeData[key];\n      return {\n        rows: _.sortBy(data.map(_ => _), \"day\", \"asc\")\n      };\n    },\n\n    computeAriseData(key) {\n      const data = _.sortBy(this.groupByTypeData[key], \"day\", \"asc\");\n\n      const result = data.map((item, index) => {\n        if (!index) {\n          return Object.assign({}, item, {\n            count: 0\n          });\n        }\n\n        const lastVal = data[index - 1].count;\n        return Object.assign({}, item, {\n          count: parseFloat((item.count - lastVal) / lastVal)\n        });\n      });\n      return {\n        rows: result\n      };\n    },\n\n    computeSetting(key) {\n      return {\n        metrics: [\"count\"],\n        dimension: [\"time\"],\n        labelMap: {\n          count: this.keyMaps[key]\n        }\n      };\n    },\n\n    computeAriseSetting(key) {\n      return {\n        metrics: [\"count\"],\n        dimension: [\"time\"],\n        yAxisType: [\"percent\"],\n        digit: 2,\n        labelMap: {\n          count: this.ariseKeyMaps[key]\n        }\n      };\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5838a062\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/dashboard/components/LineChart.vue\nvar LineChart_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading)?_c('el-row',{staticStyle:{\"background\":\"#fff\",\"padding\":\"16px 16px 0\",\"margin-bottom\":\"32px\"}},[_c('el-col',{attrs:{\"span\":10,\"offset\":1}},_vm._l((_vm.types),function(key,index){return _c('ve-line',{key:index,attrs:{\"data\":_vm.computeData(key),\"settings\":_vm.computeSetting(key)}})})),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},_vm._l((_vm.types),function(key,index){return _c('ve-line',{key:index,attrs:{\"data\":_vm.computeAriseData(key),\"settings\":_vm.computeAriseSetting(key)}})}))],1):_vm._e()}\nvar LineChart_staticRenderFns = []\nvar LineChart_esExports = { render: LineChart_render, staticRenderFns: LineChart_staticRenderFns }\n/* harmony default export */ var components_LineChart = (LineChart_esExports);\n// CONCATENATED MODULE: ./src/admin/views/dashboard/components/LineChart.vue\nvar LineChart_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar LineChart___vue_template_functional__ = false\n/* styles */\nvar LineChart___vue_styles__ = null\n/* scopeId */\nvar LineChart___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar LineChart___vue_module_identifier__ = \"bd824ea6\"\nvar LineChart_Component = LineChart_normalizeComponent(\n  LineChart,\n  components_LineChart,\n  LineChart___vue_template_functional__,\n  LineChart___vue_styles__,\n  LineChart___vue_scopeId__,\n  LineChart___vue_module_identifier__\n)\n\n/* harmony default export */ var dashboard_components_LineChart = (LineChart_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/dashboard/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var dashboard = ({\n  name: \"DashboardAdmin\",\n  components: {\n    PanelGroup: dashboard_components_PanelGroup,\n    LineChart: dashboard_components_LineChart\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16659c14\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/dashboard/index.vue\nvar dashboard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-editor-container\"},[_c('panel-group'),_c('line-chart')],1)}\nvar dashboard_staticRenderFns = []\nvar dashboard_esExports = { render: dashboard_render, staticRenderFns: dashboard_staticRenderFns }\n/* harmony default export */ var views_dashboard = (dashboard_esExports);\n// CONCATENATED MODULE: ./src/admin/views/dashboard/index.vue\nfunction dashboard_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(314),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar dashboard_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar dashboard___vue_template_functional__ = false\n/* styles */\nvar dashboard___vue_styles__ = dashboard_injectStyle\n/* scopeId */\nvar dashboard___vue_scopeId__ = \"data-v-16659c14\"\n/* moduleIdentifier (server only) */\nvar dashboard___vue_module_identifier__ = \"04f5ecc6\"\nvar dashboard_Component = dashboard_normalizeComponent(\n  dashboard,\n  views_dashboard,\n  dashboard___vue_template_functional__,\n  dashboard___vue_styles__,\n  dashboard___vue_scopeId__,\n  dashboard___vue_module_identifier__\n)\n\n/* harmony default export */ var admin_views_dashboard = __webpack_exports__[\"default\"] = (dashboard_Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "38.server-bundle.js": "exports.ids = [38];\nexports.modules = {\n\n/***/ 344:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(345);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"215a48e3\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-banner .image-wrap:after,#image-banner .image-wrap:before{content:\\\"\\\";clear:both;display:table}#image-banner #another{display:none}#image-banner .image-wrap .loop{width:280px;height:173px;float:left;margin-right:20px;margin-bottom:20px;border-radius:5px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;cursor:pointer;overflow:hidden;position:relative}#image-banner .image-wrap .loop img{width:100%;height:100%}#image-banner .image-wrap .loop .control{position:absolute;left:0;bottom:0;right:0;height:40px;background:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.4)),to(rgba(0,0,0,.6)));background:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.4) 65%,rgba(0,0,0,.6));background:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.4) 65%,rgba(0,0,0,.6));display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px}#image-banner .image-wrap .loop .control .edit-btn{color:#fff;margin-right:15px;font-size:13px}#image-banner .image-wrap .loop .mask{position:absolute;left:0;top:0;background:rgba(0,0,0,.7);width:100%;height:100%;opacity:0;font-size:12px;line-height:20px;padding:20px 10px;color:#fff}#image-banner .image-wrap .loop:hover{-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2)}#image-banner .image-wrap .loop:hover .mask{opacity:1;-webkit-transition:.2s;-o-transition:.2s;transition:.2s}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 436:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./src/admin/utils/imageGray.js\n/* harmony default export */ var imageGray = (function (ele, hgt = 0) {\n  if (typeof window === \"undefined\" || !ele) {\n    return 0;\n  }\n\n  let [data, width, height, length, i = -4, count = 0] = [];\n\n  const getRGB = reallyImage => {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext && canvas.getContext(\"2d\");\n    const rgb = {\n      r: 0,\n      g: 0,\n      b: 0\n    };\n    const blockSize = 5; // only visit every 5 pixels\n\n    height = canvas.height = hgt || reallyImage.naturalHeight || reallyImage.offsetHeight || reallyImage.height;\n    width = canvas.width = reallyImage.naturalWidth || reallyImage.offsetWidth || reallyImage.width;\n\n    try {\n      context.drawImage(reallyImage, 0, 0, width, height);\n    } catch (e) {\n      return rgb;\n    }\n\n    try {\n      data = context.getImageData(0, 0, width, height);\n    } catch (e) {\n      return rgb;\n    }\n\n    length = data.data.length;\n\n    while ((i += blockSize * 4) < length) {\n      ++count;\n      rgb.r += data.data[i];\n      rgb.g += data.data[i + 1];\n      rgb.b += data.data[i + 2];\n    }\n\n    rgb.r = ~~(rgb.r / count);\n    rgb.g = ~~(rgb.g / count);\n    rgb.b = ~~(rgb.b / count);\n    return rgb;\n  };\n\n  const getGray = rgb => {\n    return rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114;\n  };\n\n  return parseInt(getGray(getRGB(ele)), 10);\n});\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/image/banner.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var banner = ({\n  mixins: [page[\"a\" /* default */], upload[\"a\" /* default */]],\n\n  data() {\n    return {\n      showEditModal: false,\n      showCreateModal: false,\n      modalLoading: false,\n      form: {}\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.indexBannerList();\n        this.pageState.cur = 1;\n        this.pageState.size = 12;\n        this.pageState.total = data.length;\n        this.pageList = data;\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    getImageGrayLevel() {\n      this.form.gray = imageGray(this.$refs.another, 100);\n    },\n\n    handleSwitch(item) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.indexBannerToggle(item.id).then(result => {\n        item.use = result;\n        this.$toast.success(\"操作成功\");\n      }).catch(e => {\n        this.$toast.error(e);\n      });\n    },\n\n    openEditModal(item) {\n      this.form = {\n        id: item.id,\n        bangumi_id: item.bangumi_id,\n        user_id: item.user_id,\n        user_zone: item.user_zone,\n        user_nickname: item.user_nickname,\n        gray: \"\"\n      };\n      this.showEditModal = true;\n    },\n\n    openCreateModal() {\n      this.form = {\n        bangumi_id: 0,\n        user_id: 0,\n        url: \"\"\n      };\n      this.showCreateModal = true;\n      this.uploadConfig.pathPrefix = \"banner\";\n    },\n\n    async handleBannerEditSubmit() {\n      if (this.modalLoading) {\n        return;\n      }\n\n      this.modalLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.indexBannerEdit({\n          id: this.form.id,\n          bangumi_id: this.form.bangumi_id,\n          user_id: this.form.user_id\n        });\n        this.$toast.success(\"操作成功\");\n        this.showEditModal = false;\n        this.form = {};\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.modalLoading = false;\n      }\n    },\n\n    async handleBannerCreateSubmit() {\n      if (!this.form.url) {\n        this.$toast.error(\"请先上传图片\");\n        return;\n      }\n\n      if (this.form.gray === \"\") {\n        this.$toast.error(\"图片处理中...\");\n      }\n\n      if (this.modalLoading) {\n        return;\n      }\n\n      this.modalLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.indexBannerUpload({\n          url: this.form.url,\n          bangumi_id: this.form.bangumi_id,\n          user_id: this.form.user_id,\n          gray: this.form.gray\n        });\n        this.$toast.success(\"操作成功\");\n        this.showCreateModal = false;\n        window.location.reload();\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.modalLoading = false;\n      }\n    },\n\n    handleImageUploadSuccess(res) {\n      this.form.url = res.data.url;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cc8a38b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/image/banner.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"image-banner\"}},[_vm._ssrNode(((_vm.form.url)?(\"<img id=\\\"another\\\"\"+(_vm._ssrAttr(\"src\",((_vm.imagePrefix + _vm.form.url) + \"?imageMogr2/auto-orient/strip/gravity/Center/crop/435x300\")))+\" crossOrigin=\\\"anonymous\\\" alt=\\\"another\\\">\"):\"<!---->\")),_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openCreateModal}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\"\\n      上传图片\\n    \")])],1),_vm._ssrNode(\"<div class=\\\"image-wrap\\\">\",\"</div>\",_vm._l((_vm.pageData),function(item){return _vm._ssrNode(\"<div class=\\\"loop\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.url, { width: 280, height: 173 })))+\"><div class=\\\"mask\\\">\"+((item.user_id)?(\"<p>\\n          用户：\\n          <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(item.user_zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(item.user_nickname))+\"</a></p>\"):\"<!---->\")+((item.bangumi_id)?(\"<p>\\n          番剧：\\n          <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.bangumi_id)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(item.bangumi_name))+\"</a></p>\"):\"<!---->\")+\"</div>\"),_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"edit-btn\\\">编辑</button>\"),_c('el-switch',{on:{\"change\":function($event){_vm.handleSwitch(item)}},model:{value:(item.use),callback:function ($$v) {_vm.$set(item, \"use\", $$v)},expression:\"item.use\"}})],2)],2)})),_c('v-dialog',{attrs:{\"loading\":_vm.modalLoading,\"title\":\"编辑图片\"},on:{\"submit\":_vm.handleBannerEditSubmit},model:{value:(_vm.showEditModal),callback:function ($$v) {_vm.showEditModal=$$v},expression:\"showEditModal\"}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"选择番剧\"}},[_c('bangumi-search',{model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择作者\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.form.user_nickname)+\"\\n        \"),_c('user-search',{model:{value:(_vm.form.user_id),callback:function ($$v) {_vm.$set(_vm.form, \"user_id\", $$v)},expression:\"form.user_id\"}})],1)],1)],1),_c('v-dialog',{attrs:{\"loading\":_vm.modalLoading,\"title\":\"上传图片\"},on:{\"submit\":_vm.handleBannerCreateSubmit},model:{value:(_vm.showCreateModal),callback:function ($$v) {_vm.showCreateModal=$$v},expression:\"showCreateModal\"}},[_c('el-form',{attrs:{\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"选择图片\"}},[_c('el-upload',{ref:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"on-error\":_vm.handleImageUploadError,\"before-upload\":_vm.beforeImageUpload,\"on-success\":_vm.handleImageUploadSuccess,\"action\":_vm.imageUploadAction}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击更换\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"选择番剧\"}},[_c('bangumi-search',{attrs:{\"clear\":true},model:{value:(_vm.form.bangumi_id),callback:function ($$v) {_vm.$set(_vm.form, \"bangumi_id\", $$v)},expression:\"form.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择作者\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.form.user_nickname)+\"\\n        \"),_c('user-search',{model:{value:(_vm.form.user_id),callback:function ($$v) {_vm.$set(_vm.form, \"user_id\", $$v)},expression:\"form.user_id\"}})],1)],1)],1),_c('v-page',{attrs:{\"change\":_vm.handlePageChange,\"state\":_vm.pageState}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_banner = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/image/banner.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(344),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5741cf7e\"\nvar Component = normalizeComponent(\n  banner,\n  image_banner,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_image_banner = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "39.server-bundle.js": "exports.ids = [39];\nexports.modules = {\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 354));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 355));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 200\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      const result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 300) {\n        return 300;\n      }\n\n      return result;\n    },\n\n    loadMore() {\n      this.$emit(\"load\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c978d7d\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[_c('waterfall',{attrs:{\"line-gap\":_vm.width + 12,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"height\":_vm.computeBoxHeight(item.source),\"order\":index,\"width\":_vm.width}},[_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id),\"target\":\"_blank\"}},[(item.is_creator)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"原创\",\"placement\":\"top\"}},[_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"})]):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"height\":_vm.computeImageHeight(item.source),\"width\":_vm.width,\"lazy\":false}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-dianzan1\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":item.user.id,\"zone\":item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"main-name\",domProps:{\"textContent\":_vm._s(item.user.nickname)}})],1):[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('user-card',{staticStyle:{\"float\":\"none\"},attrs:{\"id\":item.user.id,\"zone\":item.user.zone,\"custom-class\":\"oneline\"}},[_vm._v(\"\\n                    \"+_vm._s(item.user.nickname)+\"\\n                  \")])],1),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)])])}))],1),_c('load-more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(140),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0352f782\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openUploadImageModal() {\n      this.$channel.$emit(\"show-upload-image-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28649c54\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[(_vm.source.list.length)?_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone,\"width\":190},on:{\"load\":_vm.loadMore}}):_vm._e(),(_vm.source.nothing)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openUploadImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()],1):_vm._e()],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"20f778be\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(141);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"357fd988\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}#image-waterfall-flow .vue-waterfall{width:848px}#image-waterfall-flow .vue-waterfall-slot{padding-right:12px;padding-bottom:12px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .image-box img{display:block;-webkit-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center}#image-waterfall-flow .image .image-box:hover img{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{border-radius:4px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;display:block}#image-waterfall-flow .load-more-btn{margin-top:20px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 378:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(139);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/image.vue\n//\n//\n//\n//\n\n/* harmony default export */ var show_image = ({\n  name: \"UserImage\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"image\",\n      sort: \"news\",\n      userZone: route.params.zone,\n      ctx\n    });\n  },\n\n  components: {\n    ImageFlowList: ImageFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55f2f4ff\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('image-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_show_image = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/image.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"32a8117c\"\nvar Component = normalizeComponent(\n  show_image,\n  user_show_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_show_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "40.server-bundle.js": "exports.ids = [40];\nexports.modules = {\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 354));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(89/* duplicate */).then(__webpack_require__.bind(null, 353));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 355));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 200\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      const result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 300) {\n        return 300;\n      }\n\n      return result;\n    },\n\n    loadMore() {\n      this.$emit(\"load\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c978d7d\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[_c('waterfall',{attrs:{\"line-gap\":_vm.width + 12,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"height\":_vm.computeBoxHeight(item.source),\"order\":index,\"width\":_vm.width}},[_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id),\"target\":\"_blank\"}},[(item.is_creator)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"原创\",\"placement\":\"top\"}},[_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"})]):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"height\":_vm.computeImageHeight(item.source),\"width\":_vm.width,\"lazy\":false}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-dianzan1\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-buoumaotubiao44\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?_c('user-card',{attrs:{\"id\":item.user.id,\"zone\":item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"main-name\",domProps:{\"textContent\":_vm._s(item.user.nickname)}})],1):[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('user-card',{staticStyle:{\"float\":\"none\"},attrs:{\"id\":item.user.id,\"zone\":item.user.zone,\"custom-class\":\"oneline\"}},[_vm._v(\"\\n                    \"+_vm._s(item.user.nickname)+\"\\n                  \")])],1),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)])])}))],1),_c('load-more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(140),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0352f782\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openUploadImageModal() {\n      this.$channel.$emit(\"show-upload-image-modal\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28649c54\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[(_vm.source.list.length)?_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone,\"width\":190},on:{\"load\":_vm.loadMore}}):_vm._e(),(_vm.source.nothing)?_c('no-content',[(_vm.showNoContentTips)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openUploadImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()],1):_vm._e()],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"20f778be\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(141);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"357fd988\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}#image-waterfall-flow .vue-waterfall{width:848px}#image-waterfall-flow .vue-waterfall-slot{padding-right:12px;padding-bottom:12px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .image-box img{display:block;-webkit-transition:.3s;-o-transition:.3s;transition:.3s;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center}#image-waterfall-flow .image .image-box:hover img{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{border-radius:4px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;display:block}#image-waterfall-flow .load-more-btn{margin-top:20px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 367:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(139);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/image.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var show_image = ({\n  name: \"BangumiImage\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"flow/initData\", {\n      type: \"image\",\n      sort: \"active\",\n      bangumiId: route.params.id,\n      ctx\n    });\n  },\n\n  components: {\n    ImageFlowList: ImageFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d3eba10\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('image-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_show_image = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/image.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5def96e0\"\nvar Component = normalizeComponent(\n  show_image,\n  bangumi_show_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_show_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    async initData() {\n      try {\n        await this.$store.dispatch(this.fetchInitAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async loadMore() {\n      try {\n        await this.$store.dispatch(this.fetchMoreAction, {\n          ctx: this,\n          type: this.flowType,\n          sort: this.fetchSort,\n          userZone: this.userZone,\n          bangumiId: this.bangumiId\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "41.server-bundle.js": "exports.ids = [41];\nexports.modules = {\n\n/***/ 326:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(327);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c7df5d14\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-show{margin-bottom:150px}#user-show .user{margin-bottom:50px}#user-show .user>div{margin-bottom:20px;font-size:16px}#user-show .user .label{font-weight:700;display:inline-block;text-align:right;width:80px}#user-show .user img{vertical-align:top}#user-show .user .avatar{width:150px;height:150px}#user-show .user .banner{height:200px;width:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 423:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar mixins_page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/user/show.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  mixins: [mixins_page[\"a\" /* default */]],\n\n  data() {\n    return {\n      searching: false,\n      user: null,\n      loading: false,\n      showTransactions: false,\n      showIpAddress: false\n    };\n  },\n\n  computed: {\n    queryId() {\n      return +(this.$route.query.id || 0);\n    },\n\n    queryZone() {\n      return this.$route.query.zone || \"\";\n    },\n\n    queryIp() {\n      return this.$route.query.ip || \"\";\n    },\n\n    isKing() {\n      return this.$store.state.user.id === 1;\n    }\n\n  },\n\n  created() {\n    if (this.queryId) {\n      this.getUserData({\n        type: \"id\",\n        value: this.queryId\n      });\n    }\n\n    if (this.queryZone) {\n      this.getUserData({\n        type: \"zone\",\n        value: this.queryZone\n      });\n    }\n\n    if (this.queryIp) {\n      this.getUserData({\n        type: \"ip_address\",\n        value: this.queryIp\n      });\n    }\n  },\n\n  methods: {\n    async getTransactions(page) {\n      this.showTransactions = true;\n\n      if (page <= this.pageState.max) {\n        this.pageState.cur = page;\n        return;\n      }\n\n      if (this.pageLoading) {\n        return;\n      }\n\n      this.pageLoading = true;\n      this.pageState.size = 20;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getUserCoinTransactions({\n          id: this.user.id,\n          to_page: page,\n          cur_page: this.pageState.cur,\n          take: this.pageState.size\n        });\n        this.pageState.total = data.total;\n        this.pageState.cur = page;\n        this.pageState.max = page;\n\n        if (page === 1) {\n          this.pageList = data.list;\n        } else {\n          this.pageList = this.pageList.concat(data.list);\n        }\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    async getUserData(data) {\n      if (this.searching) {\n        return;\n      }\n\n      this.searching = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.searchUser(data);\n\n        if (data.type === \"ip_address\") {\n          const ids = result.filter(_ => _ !== \"0\");\n\n          if (!ids.length) {\n            this.$toast.error(\"没有找到用户\");\n            return;\n          }\n\n          ids.forEach(item => {\n            window.open(`${window.location.href.split(\"?\")[0]}?id=${item}`);\n          });\n          return;\n        }\n\n        this.user = result;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.searching = false;\n      }\n    },\n\n    async addUserToTrial() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.addUserToTrial({\n          id: this.user.id\n        });\n        this.$toast.success(\"操作成功\");\n        this.user.state = 1;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async recover() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.recoverUser({\n          id: this.user.id\n        });\n        this.$toast.success(\"操作成功\");\n        this.user.deleted_at = null;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async block() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.blockUser({\n          id: this.user.id\n        });\n        this.$toast.success(\"操作成功\");\n        this.user.deleted_at = Date.now();\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    getMoney() {\n      this.$prompt(\"输入要提现的金额\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        const data = +value;\n\n        if (data !== data) {\n          this.$toast.error(\"错误的格式\");\n          return;\n        }\n\n        if (!/^\\d+$/.test(data)) {\n          this.$toast.error(\"必须是整数\");\n          return;\n        }\n\n        if (data <= 0) {\n          this.$toast.error(\"必须大于0\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.withdrawal({\n          id: this.user.id,\n          money: data\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a669ce8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/user/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.searching),expression:\"searching\"}],attrs:{\"id\":\"user-show\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('user-search',{attrs:{\"disabled\":true},on:{\"submit\":_vm.getUserData}})],1),(_vm.user)?_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<div><span class=\\\"label\\\">id：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.id)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">昵称：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.nickname)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">空间：</span><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.user.zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.user.zone))+\"</a></div><div><span class=\\\"label\\\">头像：</span><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.user.avatar, { width: 300 })))+\" class=\\\"avatar\\\"></div><div><span class=\\\"label\\\">背景：</span><a\"+(_vm._ssrAttr(\"href\",_vm.user.banner))+\" target=\\\"_blank\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.user.banner, { height: 200, mode: 2 })))+\" class=\\\"banner\\\"></a></div><div><span class=\\\"label\\\">签名：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.signature || '无')+\"\\n    \")+\"</div><div><span class=\\\"label\\\">手机号：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.phone)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">运营号：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.faker == 1 ? '是' : '否')+\"\\n    \")+\"</div><div><span class=\\\"label\\\">总金币数：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.coin_count)+\"，可提现：\"+_vm._s(_vm.user.coin_count - _vm.user.coin_from_sign)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">等级：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.level)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">性别：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.sex)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">生日：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.birthday)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">创建时间：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.created_at)+\"\\n    \")+\"</div><div><span class=\\\"label\\\">状态：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.deleted_at ? '已封禁' : _vm.user.state == 1 ? '审核中' : '正常')+\"\\n    \")+\"</div><div><span class=\\\"label\\\">权限：</span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.is_admin == 1 ? '管理员' : '普通用户')+\"\\n    \")+\"</div>\"),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">操作：</span>\"),(_vm.user.state == 0)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":_vm.addUserToTrial}},[_vm._v(\"加入审核列表\")]):_vm._e(),(!_vm.showTransactions)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.getTransactions(1)}}},[_vm._v(\"\\n        查看交易记录\\n      \")]):_vm._e(),(_vm.user.ip_address.length)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showIpAddress = !_vm.showIpAddress}}},[_vm._v(\"\\n        \"+_vm._s(_vm.showIpAddress ? '隐藏ip地址' : '查看ip地址')+\"\\n      \")]):_vm._e(),(_vm.user.deleted_at)?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.recover}},[_vm._v(\"\\n        解禁\\n      \")]):_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.block}},[_vm._v(\"\\n        封禁\\n      \")]),(_vm.isKing && _vm.user.coin_count - _vm.user.coin_from_sign >= 100)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.getMoney}},[_vm._v(\"\\n        提现\\n      \")]):_vm._e()],2)],2):_vm._e(),_c('el-collapse-transition',[(_vm.showIpAddress)?_c('el-table',{attrs:{\"data\":_vm.user.ip_address,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"地址\",\"prop\":\"ip_address\"}}),_c('el-table-column',{attrs:{\"label\":\"封禁状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.blocked !== '1')?_c('el-tag',[_vm._v(\"正常\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"\\n            已封禁\\n          \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"记录时间\",\"prop\":\"created_at\"}}),_c('el-table-column',{attrs:{\"label\":\"操作时间\",\"prop\":\"updated_at\"}})],1):_vm._e()],1),(_vm.showTransactions)?[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"id\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}}),_c('el-table-column',{attrs:{\"label\":\"金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('span',{},[_vm._v(\"\\n          \"+_vm._s(scope.row.type === '支出' ? '-' : '+')+_vm._s(scope.row.count)+\"\\n        \")])}}])}),_c('el-table-column',{attrs:{\"label\":\"来源\",\"prop\":\"action\"}}),_c('el-table-column',{attrs:{\"label\":\"来源id\",\"prop\":\"action_id\"}}),_c('el-table-column',{attrs:{\"label\":\"相关用户 id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":(\"/admin/user/show?id=\" + (scope.row.about_user_id)),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.about_user_id)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"相关用户手机号\",\"prop\":\"about_user_phone\"}}),_c('el-table-column',{attrs:{\"label\":\"相关用户注册时间\",\"prop\":\"about_user_sign_at\"}}),_c('el-table-column',{attrs:{\"label\":\"交易时间\",\"prop\":\"created_at\"}})],1),_c('v-page',{attrs:{\"change\":_vm.getTransactions,\"state\":_vm.pageState}})]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_show = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/user/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(326),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"cf3d9ba0\"\nvar Component = normalizeComponent(\n  show,\n  user_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "42.server-bundle.js": "exports.ids = [42];\nexports.modules = {\n\n/***/ 346:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(347);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"c8a3d28e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 347:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-words .tags-wrap{margin:50px 90px 50px 100px;height:400px}#trial-words .tags-wrap .el-tag{margin-left:10px;margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 439:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/words.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var trial_words = ({\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      showModal: false,\n      isDelete: false,\n      words: \"\"\n    };\n  },\n\n  computed: {\n    isKing() {\n      return this.$store.state.user.id === 1;\n    }\n\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.getTrialWords();\n      this.pageState.cur = 1;\n      this.pageState.size = 50;\n      this.pageState.total = data.length;\n      this.pageList = data;\n      this.pageLoading = false;\n    },\n\n    async handleDelete(tag, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.deleteTrialWords({\n          words: [tag]\n        });\n        this.$toast.success(\"操作成功\");\n        this.pageList.splice((this.pageState - 1) * this.pageState.size + index, 1);\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    openCreateModal() {\n      this.words = \"\";\n      this.isDelete = false;\n      this.showModal = true;\n    },\n\n    openDeleteModal() {\n      this.words = \"\";\n      this.isDelete = true;\n      this.showModal = true;\n    },\n\n    async submitWordsChange() {\n      if (!this.words) {\n        return;\n      }\n\n      const words = this.words.split(\"\\n\").filter(_ => _);\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        if (this.isDelete) {\n          await api.deleteTrialWords({\n            words\n          });\n        } else {\n          await api.addTrialWords({\n            words\n          });\n        }\n\n        if (this.isDelete) {\n          this.pageList = this.pageList.filter(_ => words.indexOf(_) === -1);\n          this.pageState.total = this.pageList.length;\n        } else {\n          this.pageList = words.concat(this.pageList);\n        }\n\n        this.$toast.success(\"操作成功\");\n        this.showModal = false;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09eb30a8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/words.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"trial-words\"}},[(_vm.isKing)?_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.openCreateModal}},[_vm._v(\"\\n      添加高危词\\n    \")]),(_vm.pageList.length)?_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.openDeleteModal}},[_vm._v(\"\\n      删除高危词\\n    \")]):_vm._e()],1):_vm._e(),(_vm.pageList.length)?_vm._ssrNode(\"<div class=\\\"tags-wrap\\\">\",\"</div>\",_vm._l((_vm.pageData),function(tag){return _c('el-tag',{key:tag,attrs:{\"disable-transitions\":true,\"type\":\"info\"},domProps:{\"textContent\":_vm._s(tag)}})})):_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"暂无高危词\"}}),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}}),_c('v-dialog',{attrs:{\"title\":_vm.isDelete ? '删除高危词' : '添加高危词'},on:{\"submit\":_vm.submitWordsChange},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('el-input',{attrs:{\"rows\":20,\"type\":\"textarea\",\"placeholder\":\"一行一个\"},model:{value:(_vm.words),callback:function ($$v) {_vm.words=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"words\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_trial_words = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/words.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(346),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"ca80aec2\"\nvar Component = normalizeComponent(\n  trial_words,\n  views_trial_words,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var admin_views_trial_words = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "43.server-bundle.js": "exports.ids = [43];\nexports.modules = {\n\n/***/ 328:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(329);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3ec22ebf\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-test .title{margin-bottom:20px;color:#6d757a}#trial-test .title .label{font-weight:700;font-size:20px;color:#000}#trial-test .result{margin-top:20px;margin-left:5px}#trial-test .result>div{margin-top:10px}#trial-test .result .label{font-weight:700;margin-bottom:5px}#trial-test .result p{margin-top:5px;font-size:13px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 425:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/test.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var test = ({\n  data() {\n    return {\n      imageUrl: \"\",\n      content: \"\",\n      testing: false,\n      imageResult: null,\n      textResult: null\n    };\n  },\n\n  methods: {\n    async imageTest() {\n      if (!this.imageUrl) {\n        return;\n      }\n\n      if (!/^http(|s):\\/\\//.test(this.imageUrl)) {\n        return;\n      }\n\n      if (this.testing) {\n        return;\n      }\n\n      this.testing = true;\n      this.imageResult = null;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        this.imageResult = await api.trialTestImage({\n          url: this.imageUrl.split(\"?\")[0]\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.testing = false;\n      }\n    },\n\n    async textTest() {\n      if (!this.content) {\n        return;\n      }\n\n      if (this.testing) {\n        return;\n      }\n\n      this.testing = true;\n      this.textResult = null;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        this.textResult = await api.trialTestText({\n          text: this.content\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.testing = false;\n      }\n    },\n\n    computedDaddyDetail(detail) {\n      if (!Array.isArray(detail)) {\n        return [];\n      }\n\n      if (!detail.length) {\n        return [];\n      }\n\n      return detail.map(item => item.value.name);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbb61be6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/test.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"trial-test\"}},[_vm._ssrNode(\"<p class=\\\"title\\\"><span class=\\\"label\\\">图片测试：</span>\\n    测试一张图片是否是色情、政治敏感、涉及暴恐\\n  </p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"placeholder\":\"输入图片地址\"},model:{value:(_vm.imageUrl),callback:function ($$v) {_vm.imageUrl=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"imageUrl\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"loading\":_vm.testing,\"type\":\"primary\"},on:{\"click\":_vm.imageTest}},[_vm._v(\"点击测试\")])],1)],1),(_vm.imageResult)?_vm._ssrNode(\"<div class=\\\"result\\\">\",\"</div>\",[_vm._ssrNode(\"<div><span class=\\\"label\\\">色情</span><p>\"+_vm._ssrEscape(\"审核：\"+_vm._s(_vm.imageResult.sex.review ? '需要' : '不需要'))+\"</p><p>\"+_vm._ssrEscape(\"删除：\"+_vm._s(_vm.imageResult.sex.delete ? '需要' : '不需要'))+\"</p><p>\"+_vm._ssrEscape(\"状态：\"+_vm._s(_vm.imageResult.sex.label))+\"</p><p>\"+_vm._ssrEscape(\"分值：\"+_vm._s(_vm.imageResult.sex.score))+\"</p></div><div><span class=\\\"label\\\">暴恐</span><p>\"+_vm._ssrEscape(\"审核：\"+_vm._s(_vm.imageResult.warn.review ? '需要' : '不需要'))+\"</p><p>\"+_vm._ssrEscape(\"删除：\"+_vm._s(_vm.imageResult.warn.delete ? '需要' : '不需要'))+\"</p><p>\"+_vm._ssrEscape(\"状态：\"+_vm._s(_vm.imageResult.warn.label))+\"</p><p>\"+_vm._ssrEscape(\"分值：\"+_vm._s(_vm.imageResult.warn.score))+\"</p></div>\"),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">政治敏感</span><p>\"+_vm._ssrEscape(\"审核：\"+_vm._s(_vm.imageResult.daddy.review ? '需要' : '不需要'))+\"</p><p>\"+_vm._ssrEscape(\"删除：\"+_vm._s(_vm.imageResult.daddy.delete ? '需要' : '不需要'))+\"</p>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"详情：\\n        \"),_vm._l((_vm.computedDaddyDetail(_vm.imageResult.daddy.detail)),function(name,index){return _c('el-tag',{key:index,attrs:{\"type\":\"info\",\"size\":\"mini\"},domProps:{\"textContent\":_vm._s(name)}})}),_vm._ssrNode(((!_vm.computedDaddyDetail(_vm.imageResult.daddy.detail).length)?(\"无\"):\"<!---->\"))],2)],2)],2):_vm._e(),_vm._ssrNode(\"<p class=\\\"title\\\" style=\\\"margin-top: 30px\\\"><span class=\\\"label\\\">文本测试：</span>\\n    测试一段文本中是否有敏感词句\\n  </p>\"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"rows\":6,\"type\":\"textarea\",\"placeholder\":\"输入文本内容\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"content\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"loading\":_vm.testing,\"type\":\"primary\"},on:{\"click\":_vm.textTest}},[_vm._v(\"点击测试\")])],1)],1),(_vm.textResult)?_vm._ssrNode(\"<div class=\\\"result\\\">\",\"</div>\",[_vm._ssrNode(\"<div><span class=\\\"label\\\">标记文本：</span><p>\"+(_vm._s(_vm.textResult.text))+\"</p></div>\"),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">敏感词：</span>\"),_vm._ssrNode(\"<p>\",\"</p>\",_vm._l((_vm.textResult.filters),function(tag,index){return _c('el-tag',{key:index,attrs:{\"type\":\"danger\"},domProps:{\"textContent\":_vm._s(tag)}})}))],2)],2):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_test = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/test.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(328),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7cc3928c\"\nvar Component = normalizeComponent(\n  test,\n  trial_test,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_test = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "44.server-bundle.js": "exports.ids = [44];\nexports.modules = {\n\n/***/ 336:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(337);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0ba1f155\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 337:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-image header{text-align:right;margin-right:30px}#trial-image .image{margin-bottom:20px}#trial-image .name{margin-bottom:10px}#trial-image .name .tag-container .el-tag{margin-right:5px}#trial-image .name a{margin-right:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 430:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/image.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var trial_image = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    computeAlbumHref(image) {\n      if (image.bangumi_id) {\n        return this.$alias.image(image.id);\n      }\n\n      return this.$alias.image(image.album_id);\n    },\n\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTrialImages().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(e => {\n        this.$toast.error(e);\n        this.loading = false;\n      });\n    },\n\n    deleteImage(image, index) {\n      this.$confirm(\"确定要删除吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteImage({\n          id: image.id,\n          type: image.bangumi_id ? \"album\" : \"image\"\n        }).then(() => {\n          this.list.splice(index, 1);\n          this.$channel.$emit(\"admin-trial-do\", {\n            type: \"images\"\n          });\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    passImage(image, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.passImage({\n        id: image.id,\n        type: image.bangumi_id ? \"album\" : \"image\"\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"images\"\n        });\n      }).catch(e => {\n        console.log(e);\n        this.$message.error(e);\n      });\n    },\n\n    approveImage(image, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.approveImage({\n        id: image.id,\n        type: image.bangumi_id ? \"album\" : \"image\"\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"images\"\n        });\n      }).catch(e => {\n        console.log(e);\n        this.$message.error(e);\n      });\n    },\n\n    rejectImage(image, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.rejectImage({\n        id: image.id,\n        type: image.bangumi_id ? \"album\" : \"image\"\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"images\"\n        });\n      }).catch(e => {\n        console.log(e);\n        this.$message.error(e);\n      });\n    },\n\n    quickDeleteAlbum() {\n      this.$prompt(\"请输入相册id\", \"删除相册\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteImage({\n          id: value,\n          type: \"album\"\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    quickDeleteImage() {\n      this.$prompt(\"请输入图片id\", \"删除图片\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteImage({\n          id: value,\n          type: \"image\"\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76d7d30a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-image\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDeleteImage}},[_vm._v(\"一键删图片\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDeleteAlbum}},[_vm._v(\"一键删相册\")])],1),_vm._ssrNode(\"<div>\",\"</div>\",_vm._l((_vm.list),function(image,index){return _c('el-col',{key:image.id,staticClass:\"image\",attrs:{\"span\":7,\"offset\":1}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('a',{attrs:{\"href\":_vm.$resize(image.url),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(image.url, { width: 500, mode: 2 })}})]),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('div',{staticClass:\"name\"},[_c('a',{attrs:{\"href\":_vm.computeAlbumHref(image),\"target\":\"_blank\"}},[_c('div',{staticClass:\"tag-container\"},[_c('el-tag',[_vm._v(\"查看相册\")]),(image.bangumi_id)?_c('a',{attrs:{\"href\":_vm.$alias.bangumi(image.bangumi_id, 'pins'),\"target\":\"_blank\"}},[_c('el-tag',[_vm._v(\"查看番剧\")])],1):_c('a',{attrs:{\"href\":_vm.$alias.image(image.album_id),\"target\":\"_blank\"}},[_c('el-tag',[_vm._v(\"查看相册\")])],1),(image.deleted_at)?_c('el-tag',[_vm._v(_vm._s(image.user_id == image.state ? '系统删除' : '举报删除'))]):_vm._e()],1)]),(image.name)?_c('span',{domProps:{\"textContent\":_vm._s(image.name)}}):_vm._e()]),(image.deleted_at)?[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.approveImage(image, index)}}},[_vm._v(\"确认删除\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.rejectImage(image, index)}}},[_vm._v(\"恢复图片\")])]:[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.passImage(image, index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteImage(image, index)}}},[_vm._v(\"删除\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (image.user_id))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"查看用户\")])],1)],2)])],1)}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_trial_image = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/image.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(336),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"304e8e51\"\nvar Component = normalizeComponent(\n  trial_image,\n  views_trial_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var admin_views_trial_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "45.server-bundle.js": "exports.ids = [45];\nexports.modules = {\n\n/***/ 334:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(335);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4fb4930c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-comment header{text-align:right;margin-right:15px}#trial-comment header .tips{float:left;line-height:30px;color:#6d757a}#trial-comment .sub-tag{margin-top:5px}#trial-comment .content-wrap .tag-wrap,#trial-comment .content-wrap a{display:inline-block;vertical-align:middle}#trial-comment .content-wrap .tag-wrap{margin-right:10px}#trial-comment .comment-item-img{display:inline-block;margin-right:10px;margin-bottom:5px}#trial-comment .comment-item-img img{height:150px;width:auto}#trial-comment .content{margin-left:5px}#trial-comment .control{text-align:center;margin-top:30px;margin-bottom:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 429:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/comment.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var comment = ({\n  data() {\n    return {\n      list: [],\n      types: [],\n      loading: true,\n      batching: false\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      this.loading = true;\n      this.list = [];\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTrialComments().then(data => {\n        this.list = data.comments;\n        this.types = data.types;\n        this.loading = false;\n      }).catch(e => {\n        this.$toast.error(e);\n        this.loading = false;\n      });\n    },\n\n    computeCommentLink(comment) {\n      let aliasName = comment.type;\n\n      if (aliasName === \"cartoon_role\") {\n        aliasName = \"cartoonRole\";\n      }\n\n      if (comment.parent_id !== \"0\") {\n        return `${this.$alias[aliasName](comment.modal_id)}?comment-id=${comment.parent_id}&reply-id=${comment.id}`;\n      }\n\n      return `${this.$alias[aliasName](comment.modal_id)}?comment-id=${comment.id}`;\n    },\n\n    checkIsHTML(content) {\n      return content.startsWith(\"[{\");\n    },\n\n    transformerContent(content) {\n      try {\n        return JSON.parse(content);\n      } catch (e) {\n        return [];\n      }\n    },\n\n    passComment(item, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.passComment({\n        id: item.id,\n        type: item.type\n      }).then(() => {\n        this.$message.success(\"操作成功\");\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"comments\"\n        });\n      }).catch(err => {\n        console.log(err);\n        this.$Message.error(err);\n      });\n    },\n\n    approveComment(item, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.approveComment({\n        id: item.id,\n        type: item.type\n      }).then(() => {\n        this.$message.success(\"操作成功\");\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"comments\"\n        });\n      }).catch(err => {\n        console.log(err);\n        this.$Message.error(err);\n      });\n    },\n\n    rejectComment(item, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.rejectComment({\n        id: item.id,\n        type: item.type,\n        parent_id: item.parent_id\n      }).then(() => {\n        this.$message.success(\"操作成功\");\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"comments\"\n        });\n      }).catch(err => {\n        console.log(err);\n        this.$Message.error(err);\n      });\n    },\n\n    deleteComment(item, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.deleteComment({\n        id: item.id,\n        type: item.type\n      }).then(() => {\n        this.$message.success(\"操作成功\");\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"comments\"\n        });\n      }).catch(err => {\n        console.log(err);\n        this.$Message.error(err);\n      });\n    },\n\n    quickDelete() {\n      this.$prompt(\"输入 type 和 id，用 - 分割\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        const data = value.split(\"-\");\n\n        if (data.length !== 2) {\n          this.$toast.error(\"错误的格式\");\n          return;\n        }\n\n        if (this.types.indexOf(data[0]) === -1) {\n          this.$toast.error(\"错误的类型\");\n          return;\n        }\n\n        if (!/^\\d+$/.test(data[1])) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteComment({\n          id: data[1],\n          type: data[0]\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    batchDelete() {\n      this.$prompt(\"输入 type 和 user_id，用 - 分割\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        const data = value.split(\"-\");\n\n        if (data.length !== 2) {\n          this.$toast.error(\"错误的格式\");\n          return;\n        }\n\n        if (this.types.indexOf(data[0]) === -1) {\n          this.$toast.error(\"错误的类型\");\n          return;\n        }\n\n        if (!/^\\d+$/.test(data[1])) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.batchDeleteComment({\n          user_id: data[1],\n          type: data[0]\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    computeArea(type) {\n      switch (type) {\n        case \"post\":\n          return \"帖子\";\n          break;\n\n        case \"image\":\n          return \"图片\";\n          break;\n\n        case \"video\":\n          return \"视频\";\n          break;\n\n        case \"question\":\n          return \"提问\";\n          break;\n\n        case \"answer\":\n          return \"回答\";\n          break;\n\n        case \"role\":\n          return \"偶像\";\n          break;\n      }\n\n      return type;\n    },\n\n    batchPass() {\n      if (this.batching || !this.list.length) {\n        return;\n      }\n\n      this.batching = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      api.batchPassComment({\n        pass_arr: this.list.filter(_ => !_.deleted_at).map(_ => {\n          return {\n            id: _.id,\n            type: _.type\n          };\n        }),\n        approve_arr: this.list.filter(_ => !!_.deleted_at).map(_ => {\n          return {\n            id: _.id,\n            type: _.type\n          };\n        })\n      }).then(() => {\n        this.batching = false;\n        this.$message.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"comments\",\n          count: this.list.length\n        });\n        this.getData();\n        this.$channel.$emit(\"admin-get-to-do\");\n      }).catch(err => {\n        console.log(err);\n        this.batching = false;\n        this.$Message.error(err);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-684cb89a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/comment.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-comment\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_vm._ssrNode(\"<span class=\\\"tips\\\">帖子：post，相册：image，漫评：score，视频：video，提问：question，回答：answer，偶像：role</span>\"),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDelete}},[_vm._v(\"一键删评论\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.batchDelete}},[_vm._v(\"批量删评论\")])],2),_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"分区\",\"width\":\"80px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-tag',[_vm._v(\"\\n            \"+_vm._s(_vm.computeArea(scope.row.type))+\"\\n          \")])],1),_c('div',{staticClass:\"sub-tag\"},[_c('el-tag',[_vm._v(\"\\n            \"+_vm._s(scope.row.modal_id)+\"\\n          \")])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.checkIsHTML(scope.row.content))?_vm._l((_vm.transformerContent(scope.row.content)),function(item,index){return _c('div',{key:index,class:(\"content-wrap comment-item-\" + (item.type))},[(!index)?_c('div',{staticClass:\"tag-wrap\"},[_c('div',[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"主评论\")])],1),_c('el-tag',{staticClass:\"sub-tag\",attrs:{\"type\":\"info\"},domProps:{\"textContent\":_vm._s(scope.row.user_id)}})],1):_vm._e(),(item.type === 'txt')?_c('a',{attrs:{\"href\":_vm.computeCommentLink(scope.row),\"target\":\"_blank\"}},[_c('span',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.data)}})]):(item.type === 'img')?_c('a',{attrs:{\"href\":_vm.$resize(item.data.key),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(item.data.key, { width: 300, mode: 2 })},on:{\"click\":function($event){_vm.openImage(item.data.key)}}})]):_vm._e()])}):_c('div',{staticClass:\"content-wrap comment-item-txt\"},[_c('div',{staticClass:\"tag-wrap\"},[_c('div',[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"子评论\")])],1),_c('el-tag',{staticClass:\"sub-tag\",attrs:{\"type\":\"info\"},domProps:{\"textContent\":_vm._s(scope.row.user_id)}})],1),_c('a',{attrs:{\"href\":_vm.computeCommentLink(scope.row),\"target\":\"_blank\"}},[_c('span',{staticClass:\"content\",domProps:{\"textContent\":_vm._s(scope.row.content)}})])])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.deleted_at)?[_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.approveComment(scope.row, scope.$index)}}},[_vm._v(\"确认\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.rejectComment(scope.row, scope.$index)}}},[_vm._v(\"恢复\")])]:[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.passComment(scope.row, scope.$index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteComment(scope.row, scope.$index)}}},[_vm._v(\"删除\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (scope.row.user_id))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"查看用户\")])],1)]}}])})],1),(_vm.list.length)?_vm._ssrNode(\"<div class=\\\"control\\\">\",\"</div>\",[_c('el-button',{attrs:{\"loading\":_vm.batching,\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.batchPass}},[_vm._v(\"全部通过\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_comment = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/comment.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(334),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"dcdd9c56\"\nvar Component = normalizeComponent(\n  comment,\n  trial_comment,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_comment = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "46.server-bundle.js": "exports.ids = [46];\nexports.modules = {\n\n/***/ 330:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(331);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"79a421ea\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 331:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-user .avatar{width:100px;height:100px}#trial-user .banner img{height:100px;width:auto}#trial-user .control{margin-left:-5px;margin-bottom:20px;text-align:center}#trial-user .control a{margin:0 10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 426:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/user.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var user = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTrialUsers().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    passUser(index, id) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.passUser({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"users\"\n        });\n      }).catch(e => {\n        console.log(e);\n        this.$toast.error(e);\n      });\n    },\n\n    delUser(index, id) {\n      this.$confirm(\"确定吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.blockUser({\n          id\n        }).then(() => {\n          this.list.splice(index, 1);\n          this.$channel.$emit(\"admin-trial-do\", {\n            type: \"users\"\n          });\n        }).catch(e => {\n          console.log(e);\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    delSomething(index, id, value, key) {\n      this.$confirm(\"确定吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteUserInfo({\n          id,\n          key,\n          value\n        }).then(() => {\n          this.list[index][key] = value;\n        }).catch(e => {\n          console.log(e);\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65c102b3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/user.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-user\"}},[_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"昵称\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.user(scope.row.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.nickname)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"头像\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(scope.row.avatar, { width: 200 })}})}}])}),_c('el-table-column',{attrs:{\"label\":\"背景\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{staticClass:\"banner\",attrs:{\"href\":_vm.$resize(scope.row.banner),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(scope.row.banner, { height: 200, mode: 2 })}})])}}])}),_c('el-table-column',{attrs:{\"label\":\"签名\",\"prop\":\"signature\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"control\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.passUser(scope.$index, scope.row.id)}}},[_vm._v(\"通过\")]),_c('router-link',{attrs:{\"to\":(\"/admin/user/show?zone=\" + (scope.row.zone))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"查看详情\")])],1),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.delUser(scope.$index, scope.row.id)}}},[_vm._v(\"封禁\")])],1),_c('div',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delSomething(scope.$index, scope.row.id, scope.row.zone, 'nickname')}}},[_vm._v(\"昵称\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delSomething(scope.$index, scope.row.id, '', 'avatar')}}},[_vm._v(\"头像\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delSomething(scope.$index, scope.row.id, '', 'banner')}}},[_vm._v(\"背景\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.delSomething(scope.$index, scope.row.id, '', 'signature')}}},[_vm._v(\"签名\")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_user = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/user.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(330),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"9d881576\"\nvar Component = normalizeComponent(\n  user,\n  trial_user,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_user = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "47.server-bundle.js": "exports.ids = [47];\nexports.modules = {\n\n/***/ 332:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(333);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"b4485962\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 333:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-post header{text-align:right;margin-right:15px}#trial-post .trial-post-item{padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #e5e9ef}#trial-post .trial-post-item .header img{width:30px;height:30px;vertical-align:middle;border-radius:4px;margin-right:10px}#trial-post .trial-post-item .body .content{font-size:13px;color:#99a2aa;text-indent:45px;margin-top:-15px}#trial-post .trial-post-item .body .images img{width:100px;height:100px;vertical-align:top;margin-right:5px;margin-bottom:5px;cursor:pointer}#trial-post .trial-post-item .item{margin-bottom:10px}#trial-post .trial-post-item .label{font-weight:700;font-size:14px;display:inline-block;width:45px}#trial-post .trial-post-item .el-tag{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 428:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/post.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var post = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTrialPosts().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    openImages(images) {\n      images.forEach(item => {\n        window.open(item.url);\n      });\n    },\n\n    delPost(index, id) {\n      this.$confirm(\"确定删除吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deletePost({\n          id\n        }).then(() => {\n          this.list.splice(index, 1);\n          this.$toast.success(\"操作成功\");\n          this.$channel.$emit(\"admin-trial-do\", {\n            type: \"posts\"\n          });\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    passPost(index, id) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.passPost({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"posts\"\n        });\n      }).catch(e => {\n        this.$message.error(e);\n      });\n    },\n\n    approvePost(index, id) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.approvePost({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"posts\"\n        });\n      }).catch(e => {\n        this.$message.error(e);\n      });\n    },\n\n    rejectPost(index, id) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.rejectPost({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"posts\"\n        });\n      }).catch(e => {\n        this.$message.error(e);\n      });\n    },\n\n    deleteImage(id, url, index, subIndex) {\n      if (!url) {\n        return;\n      }\n\n      this.$confirm(\"确定删除吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deletePostImage({\n          id,\n          url\n        }).then(() => {}).then(() => {\n          this.list[index].images.splice(subIndex, 1);\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    quickDelete() {\n      this.$prompt(\"请输入帖子id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deletePost({\n          id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    computePostState(post) {\n      const userId = parseInt(post.user_id, 10);\n      const state = post.state;\n\n      if (post.deleted_at) {\n        return userId === state ? \"系统已删除\" : \"吧务已删除\";\n      }\n\n      if (userId === state) {\n        return \"刚发布\";\n      }\n\n      if (post.is_nice) {\n        return \"被加精\";\n      }\n\n      if (post.top_at) {\n        return \"被置顶\";\n      }\n\n      return \"未知\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58ba4c1d\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-post\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDelete}},[_vm._v(\"一键删帖\")])],1),_vm._ssrNode(\"<div>\",\"</div>\",_vm._l((_vm.list),function(item,index){return _vm._ssrNode(\"<div class=\\\"trial-post-item\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\"><p class=\\\"item\\\"><span class=\\\"label\\\">用户：</span><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"user\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.user.avatar, { width: 60 })))+\"><span class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(item.user.nickname))+\"</span></a></p><p class=\\\"item\\\"><span class=\\\"label\\\">标题：</span><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.post(item.id)))+\" target=\\\"_blank\\\">\"+(_vm._s(item.f_title.text || item.title))+\"</a></p></div>\"),_vm._ssrNode(\"<div class=\\\"body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"item\\\"><span class=\\\"label\\\">内容：</span><div class=\\\"content\\\">\"+(_vm._s(item.f_content.text || item.content))+\"</div></div>\"+((item.images.length)?(\"<div class=\\\"images item\\\"><p class=\\\"label\\\">图片：</p>\"+(_vm._ssrList((item.images),function(img,subIndex){return (\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(img.url, { width: 200 })))+\">\")}))+\"</div>\"):\"<!---->\")),(item.words.filters.length)?_vm._ssrNode(\"<div class=\\\"tags item\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">词汇：</span>\"),_vm._l((item.words.filters),function(tag){return _c('el-tag',{key:tag,attrs:{\"type\":\"info\",\"size\":\"mini\"},domProps:{\"textContent\":_vm._s(tag)}})})],2):_vm._e()],2),_vm._ssrNode(\"<div class=\\\"item\\\"><span class=\\\"label\\\">状态：</span>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.computePostState(item))+\"\\n      \")+\"</div>\"),_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">操作：</span>\"),(item.deleted_at)?[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.approvePost(index, item.id)}}},[_vm._v(\"确认删除\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.rejectPost(index, item.id)}}},[_vm._v(\"恢复帖子\")])]:[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.passPost(index, item.id)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.delPost(index, item.id)}}},[_vm._v(\"删帖\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?zone=\" + (item.user.zone))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(\"查看用户\")])],1),(item.images.length)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.openImages(item.images)}}},[_vm._v(\"查看所有图片\")]):_vm._e()],2)],2)}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_post = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/post.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(332),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2385a0cc\"\nvar Component = normalizeComponent(\n  post,\n  trial_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "48.server-bundle.js": "exports.ids = [48];\nexports.modules = {\n\n/***/ 320:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(321);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"e802fdc4\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#video-create .video-preview{float:left;margin-right:10px;margin-bottom:10px}#video-create .video-preview .image{width:300px;height:225px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 416:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/video/create.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var create = ({\n  data() {\n    return {\n      validatePart: (rule, value, callback) => {\n        if (value.length !== 2) {\n          callback(new Error(\"集数格式不对\"));\n        } else if (value[0] < 1) {\n          callback(new Error(\"集数不能小于1\"));\n        } else if (value[0] > value[1]) {\n          callback(new Error(\"集数必须是正确的区间\"));\n        } else {\n          callback();\n        }\n      },\n      options: [\"jpg\", \"jpeg\", \"png\", \"JPG\", \"JPEG\", \"PNG\"],\n      videoFormat: [\"mp4\", \"flv\", \"Mp4\", \"Flv\"],\n      form: {\n        bangumiId: \"\",\n        parts: [1, 1],\n        prefix: \"\",\n        suffix: \"jpg\",\n        format: \"mp4\",\n        names: \"\",\n        videos: \"\",\n        uploaded: false,\n        titles: [],\n        urls: [],\n        posters: [],\n        haveSelfResource: true\n      },\n      saver: {\n        bangumi: false,\n        prefix: false,\n        suffix: false,\n        format: false,\n        videos: false,\n        parts: false,\n        names: false\n      },\n      list: {},\n      saving: false\n    };\n  },\n\n  methods: {\n    validateAndSaveBangumiId() {\n      this.$refs.form.validateField(\"bangumiId\", error => {\n        if (!error) {\n          this.saver.bangumi = true;\n        }\n      });\n    },\n\n    validateAndSavePrefix() {\n      this.$refs.form.validateField(\"prefix\", error => {\n        if (!error) {\n          this.saver.prefix = true;\n        }\n      });\n    },\n\n    validateAndSaveParts() {\n      this.$refs.form.validateField(\"parts\", error => {\n        if (!error) {\n          this.saver.parts = true;\n        }\n      });\n    },\n\n    handleSaverFormat() {\n      this.saver.format = true;\n    },\n\n    handleSaverSuffix() {\n      const arr = [];\n      const parts = this.form.parts;\n      const suffix = this.form.suffix;\n\n      for (let i = parts[0]; i <= parts[1]; i++) {\n        arr.push(`bangumi/${this.form.prefix}/poster/${i}.${suffix}`);\n      }\n\n      this.form.posters = arr;\n      this.saver.suffix = true;\n    },\n\n    validateAndSaveNames() {\n      const names = this.form.names;\n\n      if (!names) {\n        this.$toast.error(\"标题不能为空\");\n        return;\n      }\n\n      const parts = this.form.parts;\n      const length = parts[1] - parts[0] + 1;\n      const titles = names.split(\"\\n\");\n      const result = [];\n\n      if (titles.length !== length) {\n        this.$toast.error(\"标题个数不对\");\n        return;\n      }\n\n      let goOut = false;\n      titles.forEach(title => {\n        if (!title || title.length > 30) {\n          goOut = true;\n        }\n\n        result.push(title.trim());\n      });\n\n      if (goOut) {\n        this.$toast.error(\"每一个标题都不能为空，且不能超过30字\");\n        return;\n      }\n\n      this.form.titles = result;\n      this.saver.names = true;\n    },\n\n    validateAndSaveUrls() {\n      const videos = this.form.videos;\n\n      if (!videos) {\n        if (this.form.haveSelfResource) {\n          this.saver.videos = true;\n        } else {\n          this.$toast.error(\"资源链接不能为空\");\n        }\n\n        return;\n      }\n\n      const parts = this.form.parts;\n      const length = parts[1] - parts[0] + 1;\n      const arr = videos.split(\"\\n\");\n\n      if (this.form.haveSelfResource) {\n        if (arr.length > length) {\n          this.$toast.error(\"外链视频的个数大于视频的总数\");\n          return;\n        }\n      } else {\n        if (arr.length !== length) {\n          this.$toast.error(\"资源个数\");\n          return;\n        }\n      }\n\n      let goOut = false;\n      const result = [];\n      arr.forEach(video => {\n        if (video && !(video.startsWith(\"http://\") || video.startsWith(\"https://\"))) {\n          goOut = true;\n        }\n\n        result.push(video.trim().split(\"?\").shift());\n      });\n\n      if (goOut) {\n        this.$toast.error(\"存在不合法的链接\");\n        return;\n      }\n\n      this.form.urls = result;\n      this.saver.videos = true;\n    },\n\n    resetForm() {\n      this.saver = {\n        bangumi: false,\n        prefix: false,\n        suffix: false,\n        videos: false,\n        format: false,\n        parts: false,\n        names: false\n      };\n    },\n\n    async submitForm() {\n      if (this.saving) {\n        return;\n      }\n\n      this.saving = true;\n      const arr = [];\n      const begin = this.form.parts[0];\n\n      for (let i = begin; i <= this.form.parts[1]; i++) {\n        const idx = [i - begin];\n        arr.push({\n          bangumiId: this.form.bangumiId,\n          part: i,\n          name: this.form.titles[idx],\n          url: this.form.urls[idx] || \"\",\n          poster: this.form.posters[idx],\n          resource: this.form.haveSelfResource ? {\n            video: {\n              \"720\": {\n                useLyc: false,\n                src: `bangumi/${this.form.prefix}/video/720/${i}.${this.form.format}`\n              },\n              \"1080\": {\n                useLyc: false,\n                src: \"\"\n              }\n            },\n            lyric: {\n              zh: \"\",\n              en: \"\"\n            }\n          } : null\n        });\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.videoSave(arr);\n        this.$toast.success(\"操作成功\");\n        this.$refs.form.resetFields();\n        this.resetForm();\n      } catch (e) {\n        console.log(e);\n        this.$toast.error(\"保存失败，请联系管理员\");\n      } finally {\n        this.saving = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3abc91b3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/video/create.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"video-create\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"rules\":[{ type: 'number', required: true, message: '请选择视频所属番剧', trigger: 'submit' }],\"label\":\"番剧\",\"prop\":\"bangumiId\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('bangumi-search',{model:{value:(_vm.form.bangumiId),callback:function ($$v) {_vm.$set(_vm.form, \"bangumiId\", $$v)},expression:\"form.bangumiId\"}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.bangumi,\"type\":\"primary\"},on:{\"click\":_vm.validateAndSaveBangumiId}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',{attrs:{\"rules\":[{ required: true, message: '番剧英文名不能为空', trigger: 'blur' }],\"label\":\"番剧别名\",\"prop\":\"prefix\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"disabled\":_vm.saver.prefix,\"placeholder\":\"番剧的英文名\"},model:{value:(_vm.form.prefix),callback:function ($$v) {_vm.$set(_vm.form, \"prefix\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.prefix\"}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.prefix,\"type\":\"primary\"},on:{\"click\":_vm.validateAndSavePrefix}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',[_c('el-alert',{attrs:{\"title\":\"番剧的资源前缀统一设为番剧的英文名，英文之间用短横线 ' - ' 隔开，纯小写，不知道名字的请百度\",\"type\":\"info\"}})],1),_c('el-form-item',{attrs:{\"rules\":[{ validator: _vm.validatePart, trigger: 'change' }],\"label\":\"集数\",\"prop\":\"parts\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input-number',{attrs:{\"min\":1,\"disabled\":_vm.saver.parts,\"label\":\"描述文字\"},model:{value:(_vm.form.parts[0]),callback:function ($$v) {_vm.$set(_vm.form.parts, 0, $$v)},expression:\"form.parts[0]\"}}),_vm._v(\"\\n            -    \\n        \"),_c('el-input-number',{attrs:{\"min\":_vm.form.parts[0],\"disabled\":_vm.saver.parts,\"label\":\"描述文字\"},model:{value:(_vm.form.parts[1]),callback:function ($$v) {_vm.$set(_vm.form.parts, 1, $$v)},expression:\"form.parts[1]\"}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.parts,\"type\":\"primary\"},on:{\"click\":_vm.validateAndSaveParts}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"封面格式\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{attrs:{\"disabled\":_vm.saver.suffix,\"placeholder\":\"请选择\"},model:{value:(_vm.form.suffix),callback:function ($$v) {_vm.$set(_vm.form, \"suffix\", $$v)},expression:\"form.suffix\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.suffix,\"type\":\"primary\"},on:{\"click\":_vm.handleSaverSuffix}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',[_c('el-alert',{attrs:{\"title\":\"大部分视频封面图的格式是相同的，部分不相同的格式可以在之后重置\",\"type\":\"info\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频格式\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{attrs:{\"disabled\":_vm.saver.format,\"placeholder\":\"请选择\"},model:{value:(_vm.form.format),callback:function ($$v) {_vm.$set(_vm.form, \"format\", $$v)},expression:\"form.format\"}},_vm._l((_vm.videoFormat),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.format,\"type\":\"primary\"},on:{\"click\":_vm.handleSaverFormat}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',{attrs:{\"rules\":[{ required: true, message: '内容不能为空', trigger: 'blur' }],\"label\":\"每集名称\",\"prop\":\"names\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"disabled\":_vm.saver.names,\"rows\":10,\"type\":\"textarea\",\"placeholder\":\"每集番剧的名称，每行一个，不要有空行\"},model:{value:(_vm.form.names),callback:function ($$v) {_vm.$set(_vm.form, \"names\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.names\"}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.names,\"type\":\"primary\"},on:{\"click\":_vm.validateAndSaveNames}},[_vm._v(\"确认\")])],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"自建资源\"}},[_c('el-switch',{model:{value:(_vm.form.haveSelfResource),callback:function ($$v) {_vm.$set(_vm.form, \"haveSelfResource\", $$v)},expression:\"form.haveSelfResource\"}})],1),_c('el-form-item',{attrs:{\"label\":\"外链资源\",\"prop\":\"videos\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"disabled\":_vm.saver.videos,\"rows\":10,\"type\":\"textarea\",\"placeholder\":\"如果有自建资源，则外链资源可为空，如果某一集没有外链资源，则那一行可为空，如果不为空，则必须为合法链接，如果没有自建资源，要求就和标题一样\"},model:{value:(_vm.form.videos),callback:function ($$v) {_vm.$set(_vm.form, \"videos\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.videos\"}})],1),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认后不可修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"disabled\":_vm.saver.videos,\"type\":\"primary\"},on:{\"click\":_vm.validateAndSaveUrls}},[_vm._v(\"确认\")])],1)],1)],1),(_vm.saver.bangumi &&\n        _vm.saver.prefix &&\n        _vm.saver.names &&\n        _vm.saver.suffix &&\n        _vm.saver.parts &&\n        _vm.saver.format &&\n      _vm.saver.videos)?[_c('el-form-item',{attrs:{\"label\":\"视频预览\"}},_vm._l(((_vm.form.parts[1] - _vm.form.parts[0] + 1)),function(part,index){return _c('el-card',{key:part,staticClass:\"video-preview\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.$resize(_vm.form.posters[index], { width: 600, height: 450 })}}),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('span',[_vm._v(\"【第 \"+_vm._s(index + _vm.form.parts[0])+\" 集】\"+_vm._s(_vm.form.titles[index]))]),_c('div',{staticClass:\"bottom clearfix\"},[(_vm.form.haveSelfResource)?_c('a',{attrs:{\"href\":(\"https://video.calibur.tv/bangumi/\" + (_vm.form.prefix) + \"/video/720/\" + (index + _vm.form.parts[0]) + \".\" + (_vm.form.format)),\"target\":\"_blank\"}},[_vm._v(\"查看视频资源\")]):_vm._e(),_vm._v(\"\\n                   \\n              \"),(_vm.form.urls[index])?_c('a',{attrs:{\"href\":_vm.form.urls[index],\"target\":\"_blank\"}},[_vm._v(\"查看外链资源\")]):_vm._e()])])])})),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确认并上传\")])],1)]:[_c('el-form-item',[_c('el-alert',{attrs:{\"title\":\"确认上述所有信息后，自动进行下一步，确认后不可修改\",\"type\":\"warning\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)]],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var video_create = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/video/create.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(320),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"f40f9a1e\"\nvar Component = normalizeComponent(\n  create,\n  video_create,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_video_create = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "49.server-bundle.js": "exports.ids = [49];\nexports.modules = {\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(270);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"77a3b1e2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#about-hello .layout-main{margin-left:15px}#about-hello .layout-main h1{margin-bottom:16px;margin-top:16px;color:#333;font-size:24px}#about-hello .layout-main h3{margin-top:15px;color:#333;font-size:18px;position:relative;padding-left:12px;margin-bottom:20px}#about-hello .layout-main h3:before{content:\\\"\\\";position:absolute;left:0;top:0;width:3px;height:100%;background-color:#00a1d6;border-radius:3px}#about-hello .layout-main p{color:#333;font-size:14px;text-indent:2em;margin-top:5px;line-height:20px}#about-hello .layout-main ul{margin:10px 0 5px 25px}#about-hello .layout-main ul li{list-style-type:disc;font-size:14px;color:#666;line-height:25px;float:none}#about-hello .layout-main ul a{font-size:14px;color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 385:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/about/hello.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var hello = ({\n  name: \"DoorHello\",\n  head: {\n    title: \"欢迎\"\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.login ? this.$store.state.user : null;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-983a61dc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/about/hello.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"about-hello\"}},[_c('v-header'),_c('v-layout',[_c('template',{slot:\"main\"},[_c('h1',[_vm._v(\"欢迎来到 calibur.tv\"+_vm._s(_vm.currentUser ? ',' : '！')+\" \"+_vm._s(_vm.currentUser && _vm.currentUser.nickname))]),_c('p',[_vm._v(\"在开始之前，你应该了解一下这个网站的规则，这有助于让你得到更好使用的体验，让我们开始吧！\")]),_c('h3',[_vm._v(\"金币系统：\")]),_c('p',[_vm._v(\"每个用户每天都可以签到一次，每次可以获取 1 金币，这种金币的使用规则如下：\")]),_c('ul',[_c('li',[_vm._v(\"1 金币 = 1 元人民币\")]),_c('li',[_vm._v(\"金币可以通过签到获取，也可以通过发表原创内容让其他用户打赏给你\")]),_c('li',[_vm._v(\"\\n          使用自己的\\n          \"),_c('a',{attrs:{\"href\":(\"/about/invite/\" + (_vm.currentUser ? _vm.currentUser.id : 1)),\"target\":\"_blank\"}},[_vm._v(\"邀请码\")]),_vm._v(\"\\n          每邀请一个人注册，自己就会获得1枚金币\\n        \")]),_c('li',[_vm._v(\"签到获得的金币无法提现，但签到获得的金币可以打赏给其他人，其他人就可以提现了\")]),_c('li',[_vm._v(\"满 100 金币就可以提现\")]),_c('li',[_vm._v(\"提现是需要对内容进行审核的，如果你发表过「不利于社区发展」的内容，你是无法提现的\")]),_c('li',[_vm._v(\"提现目前只支持支付宝转账，更多提现方式后续会研发\")])]),_c('h3',[_vm._v(\"番剧系统：\")]),_c('p',[_vm._v(\"无论是现在的帖子、视频，还是以后的其它功能都将以「番剧」为单位\")]),_c('p',[_vm._v(\"calibur.tv 现在和以后都将以动漫为核心，网站只在二次元方向发展\")]),_c('h3',[_vm._v(\"帖子系统：\")]),_c('p',[_vm._v(\"经过上面对「金币系统」的介绍，大家应该明白，想要快速积累金币提现，就只能发表优质的内容，然后吸引其他用户为你打赏，目前打赏功能是这样的：\")]),_c('ul',[_c('li',[_vm._v(\"只有主题帖的打赏才给予金币，对帖子回复的点赞是没有金币的\")]),_c('li',[_vm._v(\"每个人只能给每个帖子打赏一枚金币，打赏后，楼主的金币 +1，你的金币 -1\")]),_c('li',[_vm._v(\"如果你在打赏后再取消打赏，楼主获取的金币会 -1，而你的金币不会 +1，因此打赏要谨慎\")]),_c('li',[_vm._v(\"如果你的帖子被删除或自己删除，你通过该帖子获得的金币不会减少\")])]),_c('h3',[_vm._v(\"用户系统：\")]),_c('p',[_vm._v(\"我们的用户系统还处于早期阶段，可讲的也只有：\")]),_c('ul',[_c('li',[_vm._v(\"每个用户都有自己的邀请码，每有一个人通过你的\"),_c('strong',[_vm._v(\"邀请码\")]),_vm._v(\"注册成为 calibur 的用户，你就会获得 1 金币\")])]),_c('h3',[_vm._v(\"盖楼系统：\")]),_c('p',[_vm._v(\"为了让每位动漫角色的粉丝都可以很好的为TA应援，我们开通了为偶像应援的盖楼系统\")]),_c('p',[_vm._v(\"相比于百度贴吧的帖子盖楼，我们的盖楼是需要一些成本（每次 1 金币）的，这样有如下好处：\")]),_c('ul',[_c('li',[_vm._v(\"可以通过金币数和粉丝数，量化每个角色的人气，并且这个人气是具有价值的，而不是像百度贴吧那样1个粉丝可以顶很多个人\")]),_c('li',[_vm._v(\"每个粉丝的贡献值也是可以量化的，这样就有了\\\"守护者\\\"这个职称，这个职称也将是实至名归的\")]),_c('li',[_vm._v(\"通过可以量化的人气，我们可以创建一个人气榜，这样就可以知道谁是人气王！\")])]),_c('h3',[_vm._v(\"图片系统：\")]),_c('p',[_vm._v(\"大家可以将自己喜欢的动漫图片传到网上，也可以创建自己的相册\")]),_c('ul',[_c('li',[_vm._v(\"如果是原创图片，可以在创建时勾选原创，这样的话就可以得到金币的收益\")]),_c('li',[_vm._v(\"网站图片必须与动漫相关，cosplay、手绘、原画等都可以\")]),_c('li',[_vm._v(\"目前用户无法上传漫画类别的相册，如果需要开通漫画权限，请联系网站管理员\")])]),_c('h3',[_vm._v(\"漫评系统：\")]),_c('p',[_vm._v(\"calibur.tv 有可以说最全面的番剧评分系统，可以方便大家对评价自己喜欢的番剧\")]),_c('ul',[_c('li',[_vm._v(\"漫评是从多个维度出发，既给了大家表达的方向，也给了漫评一个基本的框架\")]),_c('li',[_vm._v(\"不同的番剧在各自的维度发挥优势，有利于在未来根据大家对番剧的评价来推荐你喜欢的内容\")])]),_c('h3',[_vm._v(\"问答系统：\")]),_c('p',[_vm._v(\"闲着没事做了一个和知乎一样的问答系统，当然功能还比较简单\")]),_c('ul',[_c('li',[_vm._v(\"一些专业性的问题可以在这个板块下提问\")]),_c('li',[_vm._v(\"问题与回答限制于二次元以内，其它话题都是禁止的\")])]),_c('h3',[_vm._v(\"交流反馈：\")]),_c('p',[_vm._v(\"由于个人能力有限，网站可能会有很多不足之处，希望大家可以帮助完善\")]),_c('ul',[_c('li',[_vm._v(\"交流与反馈QQ群：\"),_c('strong',[_vm._v(\"106402736\")]),_vm._v(\"、\"),_c('strong',[_vm._v(\"806818950\")])]),_c('li',[_vm._v(\"提现QQ群：\"),_c('strong',[_vm._v(\"718529809\")]),_vm._v(\"，进群请填写自己的邀请码，审核通过后方可提现\")]),_c('li',[_vm._v(\"其它官方交流与合作请加QQ：414927352\")])]),_c('h3',[_vm._v(\"最后：\")]),_c('p',[_vm._v(\"我开发这个网站的初衷只是因为对动漫的热爱，同时我也希望和我一样热爱动漫的人，可以从这份初心中获取一点回报，不再需要「用爱来发电」\")]),_c('p',[_vm._v(\"网站目前的功能还很弱，相信以后会更好的，我只希望为自己喜欢的东西，做一点点贡献\")]),_c('p',[_vm._v(\"希望，你也喜欢这个网站。by：冰淤\")])])],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var about_hello = (esExports);\n// CONCATENATED MODULE: ./src/views/about/hello.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(269),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"225ac282\"\nvar Component = normalizeComponent(\n  hello,\n  about_hello,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_about_hello = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "50.server-bundle.js": "exports.ids = [50];\nexports.modules = {\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(205);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"b6e4320e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#homepage{width:100%;height:100%;z-index:0;background-color:#333}#homepage .banner{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;opacity:0;-webkit-transition:opacity 1s ease-in-out;-o-transition:opacity 1s ease-in-out;transition:opacity 1s ease-in-out}#homepage .banner.show{opacity:1}#homepage .index-panel{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#homepage .index-panel .slogan{width:435px;height:65px;margin:0 auto 25px}#homepage .index-panel .slogan.invert{-webkit-filter:invert(1);filter:invert(1)}#homepage .index-panel .search-input-wrap{height:40px;margin-bottom:100px;width:550px;padding:0 50px 0 10px;border:1px solid hsla(0,0%,100%,.8);background:rgba(0,0,0,.15)}#homepage .index-panel .search-input-wrap:hover{border:1px solid #fff;background:rgba(0,0,0,.3)}#homepage .index-panel .search-input-wrap:hover .search-input-btn{color:#fff}#homepage .index-panel .search-input-wrap .search-input-btn{position:absolute;right:0;top:0;width:38px;height:38px;color:hsla(0,0%,100%,.8);font-size:26px}#homepage .index-panel .search-input-wrap .search-input{color:#fff;line-height:40px;font-size:14px}#homepage .index-panel .search-input-wrap .search-input::-webkit-input-placeholder{color:#fff}#homepage .index-panel .search-input-wrap .search-input:-moz-placeholder,#homepage .index-panel .search-input-wrap .search-input::-moz-placeholder{color:#fff;opacity:1}#homepage .index-panel .search-input-wrap .search-input:-ms-input-placeholder,#homepage .index-panel .search-input-wrap .search-input::-ms-input-placeholder{color:#fff}#homepage .index-panel .search-input-wrap .search-suggestions{left:-1px;top:100%;width:551px;background:rgba(0,0,0,.15);border:1px solid hsla(0,0%,100%,.8)}#homepage .index-panel .search-input-wrap .search-suggestions span{color:#fff}#homepage .index-panel .search-input-wrap .search-suggestions li.active,#homepage .index-panel .search-input-wrap .search-suggestions li:hover{background-color:rgba(0,0,0,.3)}#homepage .banner-card{display:block;position:fixed;width:200px;height:50px;bottom:38px;right:8px;border-radius:4px;background-color:rgba(0,0,0,.4)}#homepage .banner-card .avatar{display:block;float:left;margin:5px 8px 0 10px;width:40px;height:40px;border-radius:20px;overflow:hidden}#homepage .banner-card .content{overflow:hidden;margin-top:7px}#homepage .banner-card .content p{height:18px;width:132px;color:#fff;font-size:12px;line-height:21px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 349:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var views = ({\n  name: \"Homepage\",\n  components: {\n    vSearch: Input[\"a\" /* default */]\n  },\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"homepage/getBanners\", ctx);\n  },\n\n  data() {\n    return {\n      banner1: null,\n      banner2: null,\n      timer: null,\n      toggle: true,\n      index: 0,\n      options: {\n        width: 2048,\n        height: 0,\n        mode: 0\n      },\n      query: \"\"\n    };\n  },\n\n  computed: {\n    banners() {\n      return this.$store.state.homepage.banners || [];\n    },\n\n    curBanner() {\n      return this.toggle ? this.banner1 : this.banner2;\n    }\n\n  },\n\n  created() {\n    this.banner1 = this.banners[0];\n  },\n\n  mounted() {\n    this.loopBanner();\n  },\n\n  beforeDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  },\n\n  methods: {\n    loopBanner() {\n      this.timer = setInterval(() => {\n        if (!this.banners) {\n          return;\n        }\n\n        this.index = 1 + this.index === this.banners.length ? 0 : this.index + 1;\n        const data = this.banners[this.index];\n        this.toggle ? this.banner2 = data : this.banner1 = data;\n        setTimeout(() => {\n          this.toggle = !this.toggle;\n        }, 7500);\n      }, 15000);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9802bc8e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"homepage\"}},[_c('v-header',{attrs:{\"type\":\"mask\"}}),_vm._ssrNode(((_vm.banner1)?(\"<div\"+(_vm._ssrClass(\"banner bg\",{'show' : _vm.toggle}))+(_vm._ssrStyle(null,{ backgroundImage: _vm.banner1 ? (\"url(\" + (_vm.$resize(_vm.banner1.url, _vm.options)) + \")\") : '' }, null))+\"></div>\"):\"<!---->\")+((_vm.banner2)?(\"<div\"+(_vm._ssrClass(\"banner bg\",{'show' : !_vm.toggle}))+(_vm._ssrStyle(null,{ backgroundImage: _vm.banner2 ? (\"url(\" + (_vm.$resize(_vm.banner2.url, _vm.options)) + \")\") : '' }, null))+\"></div>\"):\"<!---->\")),_vm._ssrNode(\"<div class=\\\"index-panel\\\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"slogan bg\",{ 'invert' : _vm.curBanner && _vm.curBanner.gray > 165 }))+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize('https://image.calibur.tv/owner/slogan.png')) + \")\") }, null))+\"></div>\"),_c('v-search',{attrs:{\"autofocus\":true,\"placeholder\":\"搜索二次元的一切\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('i',{staticClass:\"iconfont icon-sousuo\",attrs:{\"slot\":\"submit-btn\"},slot:\"submit-btn\"})])],2),_vm._ssrNode(((_vm.curBanner)?(\"<div class=\\\"banner-card\\\">\"+((_vm.curBanner.user_id)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.curBanner.user_zone)))+\" target=\\\"_blank\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.curBanner.user_avatar, { width: 80 })))+\" class=\\\"avatar\\\"></a>\"):(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/default/user-avatar', { width: 80 })))+\" class=\\\"avatar\\\">\"))+\"<div class=\\\"content\\\"><p class=\\\"oneline\\\">\\n        作者：\\n        \"+((_vm.curBanner.user_id)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.curBanner.user_zone)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.curBanner.user_nickname))+\"</a>\"):(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.curBanner.bangumi_id ? '原画' : '未知'))+\"</span>\"))+\"</p><p class=\\\"oneline\\\">\\n        番剧：\\n        \"+((_vm.curBanner.bangumi_id)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.curBanner.bangumi_id)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(_vm.curBanner.bangumi_name))+\"</a>\"):(\"<span>未知</span>\"))+\"</p></div></div>\"):\"<!---->\"))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_views = (esExports);\n// CONCATENATED MODULE: ./src/views/index.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(204),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"48ac3ffe\"\nvar Component = normalizeComponent(\n  views,\n  selectortype_template_index_0_src_views,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "51.server-bundle.js": "exports.ids = [51];\nexports.modules = {\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(231);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"76c8352a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 231:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-cartoon-flow .cartoon .about .user-avatar{border-radius:50%;border:1px solid #e5e9ef}#bangumi-cartoon-flow .header{margin-bottom:15px;text-align:right}#bangumi-cartoon-flow .header .total{float:left;line-height:28px}#bangumi-cartoon-flow .header .el-select{margin-right:8px}#bangumi-cartoon-flow .cartoon{width:198px;height:406px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:3px 9px 15px 3px;background-color:#fafafa;overflow:hidden;float:left}#bangumi-cartoon-flow .cartoon .poster-wrap{position:relative;display:block}#bangumi-cartoon-flow .cartoon .poster-wrap:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#bangumi-cartoon-flow .cartoon .poster-wrap:hover:after{opacity:1;height:100%;background:rgba(0,0,0,.5);-webkit-transition:background .2s;-o-transition:background .2s;transition:background .2s}#bangumi-cartoon-flow .cartoon .poster-wrap img{width:100%;height:300px;display:block}#bangumi-cartoon-flow .cartoon .poster-wrap .info{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#bangumi-cartoon-flow .cartoon .poster-wrap .info i{font-size:20px;vertical-align:middle}#bangumi-cartoon-flow .cartoon .poster-wrap .info .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#bangumi-cartoon-flow .cartoon .intro{height:55px;padding:5px 15px;background-color:#fff}#bangumi-cartoon-flow .cartoon .intro .name,#bangumi-cartoon-flow .cartoon .intro .social{height:20px;font-size:12px;line-height:20px}#bangumi-cartoon-flow .cartoon .intro .name{margin-top:3px}#bangumi-cartoon-flow .cartoon .intro .social{color:#99a2aa;margin-top:2px}#bangumi-cartoon-flow .cartoon .intro .social span{margin-right:10px}#bangumi-cartoon-flow .cartoon .intro .social .done{color:#f25d8e}#bangumi-cartoon-flow .cartoon .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#bangumi-cartoon-flow .cartoon .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#bangumi-cartoon-flow .cartoon .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(5);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiCartoonFlow.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiCartoonFlow = ({\n  name: \"BangumiCartoonFlow\",\n\n  data() {\n    return {\n      state: {\n        loading: false,\n        fetched: false\n      },\n      order: [{\n        label: \"由大到小排序\",\n        value: \"desc\"\n      }, {\n        label: \"由小到大排序\",\n        value: \"asc\"\n      }]\n    };\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    cartoons() {\n      return this.$store.state.bangumi.cartoon;\n    },\n\n    sort: {\n      get() {\n        return this.cartoons.sort;\n      },\n\n      set(sort) {\n        this.$store.dispatch(\"bangumi/changeCartoonSort\", {\n          sort,\n          ctx: this,\n          bangumiId: this.info.id\n        });\n      }\n\n    }\n  },\n  methods: {\n    async getData() {\n      if (this.state.loading) {\n        return;\n      }\n\n      this.state.loading = true;\n\n      try {\n        await this.$store.dispatch(\"bangumi/getCartoons\", {\n          ctx: this,\n          bangumiId: this.info.id\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.state.loading = false;\n        this.state.fetched = true;\n      }\n    },\n\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 7,\n        desc: `我想看《${this.info.name}》的漫画第 {?} 话`,\n        placeholder: \"请填写你要看的集数\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82d04f32\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiCartoonFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-cartoon-flow\"}},[(_vm.cartoons.list.length)?[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_vm._ssrNode(\"<strong class=\\\"total\\\">\"+_vm._ssrEscape(\"共 \"+_vm._s(_vm.cartoons.total)+\" 集\")+\"</strong>\"),_c('el-select',{attrs:{\"loading\":_vm.state.loading,\"size\":\"mini\"},model:{value:(_vm.sort),callback:function ($$v) {_vm.sort=$$v},expression:\"sort\"}},_vm._l((_vm.order),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],2),_vm._ssrNode(\"<ul class=\\\"clearfix\\\">\",\"</ul>\",_vm._l((_vm.cartoons.list),function(item){return _vm._ssrNode(\"<li class=\\\"cartoon\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.image(item.id)))+\" target=\\\"_blank\\\"><div class=\\\"poster-wrap\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.source.url, { width: 396, height: 600 })))+\"><div class=\\\"info\\\"><i class=\\\"el-icon-picture-outline\\\"></i><span class=\\\"image-count\\\">\"+_vm._ssrEscape(_vm._s(item.image_count))+\"</span></div></div><div class=\\\"intro\\\"><p class=\\\"name oneline\\\">\"+_vm._ssrEscape(\"【 \"+_vm._s(item.part)+\" 】\"+_vm._s(item.name))+\"</p><div class=\\\"social\\\">\"+((item.like_count)?(\"<span\"+(_vm._ssrClass(null,{ 'done': item.liked }))+\"><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+((item.comment_count)?(\"<span\"+(_vm._ssrClass(null,{ 'done': item.commented }))+\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+((item.view_count)?(\"<span><i class=\\\"iconfont icon-ai-eye\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.view_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+\"</div></div></a>\"),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[_c('user-card',{attrs:{\"id\":item.user.id,\"zone\":item.user.zone}},[_c('v-img',{staticClass:\"user-avatar\",attrs:{\"src\":item.user.avatar,\"size\":\"30\"}}),_c('span',{staticClass:\"main-name\",domProps:{\"textContent\":_vm._s(item.user.nickname)}})],1)],1)],2)}))]:(_vm.cartoons.noMore)?_c('no-content',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"求漫画\")])],1):_vm._e(),_c('load-more-btn',{attrs:{\"auto\":true,\"no-more\":_vm.cartoons.noMore,\"loading\":_vm.state.loading},on:{\"fetch\":function($event){_vm.getData(false)}}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiCartoonFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiCartoonFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(230),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3928a8e2\"\nvar Component = normalizeComponent(\n  BangumiCartoonFlow,\n  bangumi_BangumiCartoonFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiCartoonFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/cartoon.vue\n//\n//\n//\n//\n\n/* harmony default export */ var cartoon = ({\n  name: \"BangumiCartoon\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"bangumi/getCartoons\", {\n      ctx,\n      bangumiId: route.params.id,\n      init: true\n    });\n  },\n\n  components: {\n    BangumiCartoonFlow: components_bangumi_BangumiCartoonFlow\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n\n  mounted() {\n    if (!this.info.has_cartoon) {\n      this.$router.replace({\n        name: \"bangumi-post\"\n      });\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e22f4966\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/cartoon.vue\nvar cartoon_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bangumi-cartoon-flow')}\nvar cartoon_staticRenderFns = []\nvar cartoon_esExports = { render: cartoon_render, staticRenderFns: cartoon_staticRenderFns }\n/* harmony default export */ var show_cartoon = (cartoon_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/cartoon.vue\nvar cartoon_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar cartoon___vue_template_functional__ = false\n/* styles */\nvar cartoon___vue_styles__ = null\n/* scopeId */\nvar cartoon___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar cartoon___vue_module_identifier__ = \"4deb2433\"\nvar cartoon_Component = cartoon_normalizeComponent(\n  cartoon,\n  show_cartoon,\n  cartoon___vue_template_functional__,\n  cartoon___vue_styles__,\n  cartoon___vue_scopeId__,\n  cartoon___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_cartoon = __webpack_exports__[\"default\"] = (cartoon_Component.exports);\n\n\n/***/ })\n\n};;",
    "52.server-bundle.js": "exports.ids = [52];\nexports.modules = {\n\n/***/ 271:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(272);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7deb4804\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#invite-user{background-image:url(\\\"https://image.calibur.tv/banner/1532339810574-zl3.jpeg?imageMogr2/auto-orient/strip|imageView2/0/w/2048\\\");background-position:50%;background-repeat:no-repeat;background-size:cover}#invite-user .signed{text-align:center;font-size:14px;color:#6d757a;line-height:30px;background-color:hsla(0,0%,100%,.85);padding:20px 40px;width:580px;margin:200px auto 0;border-radius:10px;font-weight:700}#invite-user .signed button{margin-top:10px}#invite-user .sign-wrap{width:580px;margin:150px auto 0;background-color:hsla(0,0%,100%,.85);padding:20px 40px;border-radius:10px}#invite-user .sign-wrap h3{text-align:center;margin-top:40px;margin-bottom:40px}#invite-user .sign-wrap input{padding-left:15px!important}#invite-user .el-alert{margin-bottom:25px}#invite-user .el-alert p{margin-bottom:5px;font-size:13px;line-height:18px;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 386:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/user/SignUpForm.vue + 2 modules\nvar SignUpForm = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/about/invite.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var invite = ({\n  name: \"InviteUser\",\n  components: {\n    SignUpForm: SignUpForm[\"a\" /* default */]\n  },\n  computed: {\n    inviteUserId() {\n      return this.$route.params.id;\n    },\n\n    user() {\n      return this.$store.state.user;\n    }\n\n  },\n  methods: {\n    handleCopySuccess() {\n      this.$toast.success(\"复制成功\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-813ff672\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/about/invite.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"invite-user\"}},[_c('v-header',{attrs:{\"type\":\"mask\"}}),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[(_vm.user)?[_vm._ssrNode(\"<p class=\\\"signed\\\">\",\"</p>\",[_vm._ssrNode(\"\\n        你已经是注册用户了 (￣3￣)\\n        <br>\\n        把这个网址链接发给小伙伴，或者告诉TA你的邀请码就行啦\\n        <br>\\n        快来邀请小伙伴一起加入 calibur 吧\\n        <br>\"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"placement\":\"bottom\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"点击复制我的邀请地址\"),_c('br'),_vm._v(\"邀请小伙伴们注册赚金币\")]),_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:((\"http://calibur.tv/about/invite/\" + (_vm.user.id))),expression:\"`http://calibur.tv/about/invite/${user.id}`\"}],attrs:{\"type\":\"warning\",\"size\":\"large\"},on:{\"success\":_vm.handleCopySuccess}},[_vm._v(\"\\n            邀请码：\"+_vm._s(_vm.user.id)+\"\\n          \")])],1)],2)]:_vm._ssrNode(\"<div class=\\\"sign-wrap\\\">\",\"</div>\",[_vm._ssrNode(\"<h3>欢迎注册 calibur.tv</h3>\"),_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"\"}},[_c('p',[_vm._v(\"注册之后，邀请者会收到短信提示，并且获得 1 枚金币；\")]),_c('p',[_vm._v(\"由于站内视频流量过大，为了降低宽带费用，先需要注册后才能看番，影响到了大家的体验，非常抱歉\")])]),_c('sign-up-form',{attrs:{\"invite-code\":_vm.inviteUserId}})],2)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var about_invite = (esExports);\n// CONCATENATED MODULE: ./src/views/about/invite.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(271),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"dc8b9928\"\nvar Component = normalizeComponent(\n  invite,\n  about_invite,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_about_invite = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "53.server-bundle.js": "exports.ids = [53];\nexports.modules = {\n\n/***/ 228:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(229);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"d87ef68e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 229:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-video-flow .video-item{margin:0 15px 15px 0;float:left}#bangumi-video-flow .video-item a{display:block;position:relative;width:255px;height:70px;border-radius:3px;background-color:#e5e9ef;overflow:hidden}#bangumi-video-flow .video-item a:hover .part{color:#00a1d6}#bangumi-video-flow .video-item .poster{margin-right:12px;float:left}#bangumi-video-flow .video-item .intro{padding-right:12px}#bangumi-video-flow .video-item .intro .part{display:block;color:#000;font-size:12px;line-height:14px;margin-top:6px;margin-bottom:5px}#bangumi-video-flow .video-item .intro .name{font-size:12px;color:#6d757a;line-height:14px;max-height:28px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 364:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiVideoFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiVideoFlow = ({\n  name: \"BangumiVideoFlow\",\n\n  data() {\n    return {\n      state: {\n        loading: false,\n        fetched: false\n      }\n    };\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    videos() {\n      return this.$store.state.bangumi.videos;\n    }\n\n  },\n  methods: {\n    async getData() {\n      if (this.state.loading) {\n        return;\n      }\n\n      this.state.loading = true;\n\n      try {\n        await this.$store.dispatch(\"bangumi/getVideos\", {\n          ctx: this,\n          id: this.info.id\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.state.loading = false;\n        this.state.fetched = true;\n      }\n    },\n\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 5,\n        desc: `我想看《${this.info.name}》的视频第 {?} 集`,\n        placeholder: \"请填写你想看的集数\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72e8a3f2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiVideoFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-video-flow\"}},[(_vm.videos.total)?_vm._ssrNode(\"<section>\",\"</section>\",[(_vm.videos.has_season)?_vm._ssrNode(\"<div>\",\"</div>\",_vm._l((_vm.videos.list),function(season){return _vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"celltitle\\\">\"+_vm._ssrEscape(_vm._s(season.name))+\"</h3>\"),_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((season.data),function(video){return _vm._ssrNode(\"<li class=\\\"video-item\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('v-img',{staticClass:\"poster\",attrs:{\"src\":video.poster,\"width\":\"110\",\"height\":\"70\"}}),_vm._ssrNode(\"<div class=\\\"intro\\\"><p class=\\\"part oneline\\\">\"+_vm._ssrEscape(\"第\"+_vm._s(video.part - season.base)+\"话\")+\"</p><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(video.name))+\"</span></div>\")],2)])}))],2)})):_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.videos.list[0].data),function(video){return _vm._ssrNode(\"<li class=\\\"video-item\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('v-img',{staticClass:\"poster\",attrs:{\"src\":video.poster,\"width\":\"110\",\"height\":\"70\"}}),_vm._ssrNode(\"<div class=\\\"intro\\\"><p class=\\\"part oneline\\\">\"+_vm._ssrEscape(\"第\"+_vm._s(video.part)+\"话\")+\"</p><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(video.name))+\"</span></div>\")],2)])}))]):(_vm.videos.fetched)?_c('no-content',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openFeedback}},[_vm._v(\"求资源\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiVideoFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiVideoFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(228),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"32446722\"\nvar Component = normalizeComponent(\n  BangumiVideoFlow,\n  bangumi_BangumiVideoFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiVideoFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/video.vue\n//\n//\n//\n//\n\n/* harmony default export */ var video = ({\n  name: \"BangumiVideo\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"bangumi/getVideos\", {\n      ctx,\n      id: route.params.id\n    });\n  },\n\n  components: {\n    BangumiVideoFlow: components_bangumi_BangumiVideoFlow\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n\n  mounted() {\n    if (!this.info.has_video) {\n      this.$router.replace({\n        name: \"bangumi-post\"\n      });\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a1d2500\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/video.vue\nvar video_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bangumi-video-flow')}\nvar video_staticRenderFns = []\nvar video_esExports = { render: video_render, staticRenderFns: video_staticRenderFns }\n/* harmony default export */ var show_video = (video_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/video.vue\nvar video_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar video___vue_template_functional__ = false\n/* styles */\nvar video___vue_styles__ = null\n/* scopeId */\nvar video___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar video___vue_module_identifier__ = \"3c8b1c00\"\nvar video_Component = video_normalizeComponent(\n  video,\n  show_video,\n  video___vue_template_functional__,\n  video___vue_styles__,\n  video___vue_scopeId__,\n  video___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_video = __webpack_exports__[\"default\"] = (video_Component.exports);\n\n\n/***/ })\n\n};;",
    "54.server-bundle.js": "exports.ids = [54];\nexports.modules = {\n\n/***/ 340:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(341);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7dda84ab\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#trial-question header{text-align:right;margin-right:15px}#trial-question .trial-qaq-item{padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #e5e9ef}#trial-question .trial-qaq-item .header img{width:30px;height:30px;vertical-align:middle;border-radius:4px;margin-right:10px}#trial-question .trial-qaq-item .body .content{font-size:13px;color:#99a2aa;text-indent:45px;margin-top:-15px}#trial-question .trial-qaq-item .body .images img{width:100px;height:100px;vertical-align:top;margin-right:5px;margin-bottom:5px;cursor:pointer}#trial-question .trial-qaq-item .item{margin-bottom:10px}#trial-question .trial-qaq-item .label{font-weight:700;font-size:14px;display:inline-block;width:45px}#trial-question .trial-qaq-item .el-tag{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 433:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/question.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var question = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.questionTrials().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    ban(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.questionBan({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"question\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    pass(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.questionPass({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"question\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    approve(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.questionApprove({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"question\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    reject(id, index) {\n      const api = new questionApi[\"a\" /* default */](this);\n      api.questionReject({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"question\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    quickDelete() {\n      this.$prompt(\"请输入问题id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new questionApi[\"a\" /* default */](this);\n        api.questionBan({\n          id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b14776f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"trial-question\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":_vm.quickDelete}},[_vm._v(\"一键删问题\")])],1),_vm._ssrNode(\"<div>\",\"</div>\",_vm._l((_vm.list),function(item,index){return _vm._ssrNode(\"<div class=\\\"trial-qaq-item\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\"><p class=\\\"item\\\"><span class=\\\"label\\\">标题：</span><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(item.id)))+\" target=\\\"_blank\\\">\"+_vm._ssrEscape(_vm._s(item.title))+\"</a></p></div><div class=\\\"body\\\"><div class=\\\"item\\\"><span class=\\\"label\\\">内容：</span><div class=\\\"content\\\">\"+(_vm._s(item.content))+\"</div></div>\"+((item.images.length)?(\"<div class=\\\"images item\\\"><p class=\\\"label\\\">图片：</p>\"+(_vm._ssrList((item.images),function(img,subIndex){return (\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(img.url, { width: 200 })))+\">\")}))+\"</div>\"):\"<!---->\")+\"</div>\"),_vm._ssrNode(\"<div class=\\\"item\\\">\",\"</div>\",[_vm._ssrNode(\"<span class=\\\"label\\\">操作：</span>\"),(item.deleted_at)?[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.approve(item.id, index)}}},[_vm._v(\"确认删除\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.reject(item.id, index)}}},[_vm._v(\"恢复提问\")])]:[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){_vm.pass(item.id, index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.ban(item.id, index)}}},[_vm._v(\"删除\")])],_c('router-link',{staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (item.user_id))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(\"查看用户\")])],1)],2)],2)}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_question = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/question.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(340),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6986bee0\"\nvar Component = normalizeComponent(\n  question,\n  trial_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "55.server-bundle.js": "exports.ids = [55];\nexports.modules = {\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(294);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"79314690\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#app-download{overflow:hidden;position:relative;height:100vh}#app-download .content{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#app-download .content .qr-code{width:180px;height:180px}#app-download .content .info img{width:50px;height:50px;float:left;margin-right:10px}#app-download .content .info .text{height:50px;overflow:hidden;font-size:30px;line-height:30px}#app-download .content .info .text p{margin-top:4px;font-size:14px;line-height:14px}#app-download .content button{width:175px;border-radius:20px;background-color:#f25d8e;color:#fff;height:40px;line-height:40px;margin-top:20px;font-size:16px;text-align:center;margin-bottom:25vh}#app-download .content .not-work{background-color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 394:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/particles/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\n/* harmony default export */ var particles = ({\n  name: \"vue-particles\",\n  data: function () {\n    return {\n      id: \"particles-instance-\" + Math.floor(Math.random() * 5000)\n    };\n  },\n  props: {\n    color: {\n      type: String,\n      default: \"#dedede\"\n    },\n    particleOpacity: {\n      type: Number,\n      default: 0.7\n    },\n    particlesNumber: {\n      type: Number,\n      default: 80\n    },\n    shapeType: {\n      type: String,\n      default: \"circle\"\n    },\n    particleSize: {\n      type: Number,\n      default: 4\n    },\n    linesColor: {\n      type: String,\n      default: \"#dedede\"\n    },\n    linesWidth: {\n      type: Number,\n      default: 1\n    },\n    lineLinked: {\n      type: Boolean,\n      default: true\n    },\n    lineOpacity: {\n      type: Number,\n      default: 0.4\n    },\n    linesDistance: {\n      type: Number,\n      default: 150\n    },\n    moveSpeed: {\n      type: Number,\n      default: 3\n    },\n    hoverEffect: {\n      type: Boolean,\n      default: true\n    },\n    hoverMode: {\n      type: String,\n      default: \"grab\"\n    },\n    clickEffect: {\n      type: Boolean,\n      default: true\n    },\n    clickMode: {\n      type: String,\n      default: \"push\"\n    }\n  },\n\n  mounted() {\n    // import particle.js only on client-side\n    __webpack_require__(89);\n\n    this.$nextTick(() => {\n      this.initParticleJS(this.color, this.particleOpacity, this.particlesNumber, this.shapeType, this.particleSize, this.linesColor, this.linesWidth, this.lineLinked, this.lineOpacity, this.linesDistance, this.moveSpeed, this.hoverEffect, this.hoverMode, this.clickEffect, this.clickMode);\n    });\n  },\n\n  methods: {\n    initParticleJS(color, particleOpacity, particlesNumber, shapeType, particleSize, linesColor, linesWidth, lineLinked, lineOpacity, linesDistance, moveSpeed, hoverEffect, hoverMode, clickEffect, clickMode) {\n      particlesJS(this.id, {\n        particles: {\n          number: {\n            value: particlesNumber,\n            density: {\n              enable: true,\n              value_area: 800\n            }\n          },\n          color: {\n            value: color\n          },\n          shape: {\n            // circle, edge, triangle, polygon, star, image\n            type: shapeType,\n            stroke: {\n              width: 0,\n              color: \"#192231\"\n            },\n            polygon: {\n              nb_sides: 5\n            }\n          },\n          opacity: {\n            value: particleOpacity,\n            random: false,\n            anim: {\n              enable: false,\n              speed: 1,\n              opacity_min: 0.1,\n              sync: false\n            }\n          },\n          size: {\n            value: particleSize,\n            random: true,\n            anim: {\n              enable: false,\n              speed: 40,\n              size_min: 0.1,\n              sync: false\n            }\n          },\n          line_linked: {\n            enable: lineLinked,\n            distance: linesDistance,\n            color: linesColor,\n            opacity: lineOpacity,\n            width: linesWidth\n          },\n          move: {\n            enable: true,\n            speed: moveSpeed,\n            direction: \"none\",\n            random: false,\n            straight: false,\n            out_mode: \"out\",\n            bounce: false,\n            attract: {\n              enable: false,\n              rotateX: 600,\n              rotateY: 1200\n            }\n          }\n        },\n        interactivity: {\n          detect_on: \"canvas\",\n          events: {\n            onhover: {\n              enable: hoverEffect,\n              mode: hoverMode\n            },\n            onclick: {\n              enable: clickEffect,\n              mode: clickMode\n            },\n            onresize: {\n              enable: true,\n              density_auto: true,\n              density_area: 400\n            }\n          },\n          modes: {\n            grab: {\n              distance: 140,\n              line_linked: {\n                opacity: 1\n              }\n            },\n            bubble: {\n              distance: 400,\n              size: 40,\n              duration: 2,\n              opacity: 8,\n              speed: 3\n            },\n            repulse: {\n              distance: 200,\n              duration: 0.4\n            },\n            push: {\n              particles_nb: 4\n            },\n            remove: {\n              particles_nb: 2\n            }\n          }\n        },\n        retina_detect: true\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e5227de\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/particles/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',[_c('div',{attrs:{\"id\":_vm.id,\"color\":_vm.color,\"particleOpacity\":_vm.particleOpacity,\"linesColor\":_vm.linesColor,\"particlesNumber\":_vm.particlesNumber,\"shapeType\":_vm.shapeType,\"particleSize\":_vm.particleSize,\"linesWidth\":_vm.linesWidth,\"lineLinked\":_vm.lineLinked,\"lineOpacity\":_vm.lineOpacity,\"linesDistance\":_vm.linesDistance,\"moveSpeed\":_vm.moveSpeed,\"hoverEffect\":_vm.hoverEffect,\"hoverMode\":_vm.hoverMode,\"clickEffect\":_vm.clickEffect,\"clickMode\":_vm.clickMode}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_particles = (esExports);\n// CONCATENATED MODULE: ./src/components/particles/index.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5e00e3d2\"\nvar Component = normalizeComponent(\n  particles,\n  components_particles,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_particles = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/market/download.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var download = ({\n  name: \"AppDownload\",\n\n  /*\n  async asyncData({ store }) {\n    await Promise.all([\n      store.dispatch(\"app/getDownloadUrl\", {\n        type: 1,\n        os: \"android\"\n      }),\n      store.dispatch(\"app/getDownloadUrl\", {\n        type: 2,\n        os: \"ios\"\n      })\n    ]);\n  },\n  */\n  components: {\n    VueParticles: src_components_particles\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-577d3598\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/market/download.vue\nvar download_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-download\"}},[_c('v-header',{attrs:{\"type\":\"pure\"}}),_vm._ssrNode(\"<div class=\\\"content\\\"><img src=\\\"https://image.calibur.tv/owner/download-qr.png?imageMogr2/auto-orient/strip\\\" class=\\\"qr-code\\\"><div class=\\\"info\\\"><img src=\\\"https://image.calibur.tv/owner/logo-new/logo.png?imageMogr2/auto-orient/strip|imageView2/1/w/200/h/200/format/jpg\\\"><div class=\\\"text\\\">\\n        calibur.tv\\n        <p>天下漫友是一家</p></div></div></div>\"),_c('vue-particles')],2)}\nvar download_staticRenderFns = []\nvar download_esExports = { render: download_render, staticRenderFns: download_staticRenderFns }\n/* harmony default export */ var market_download = (download_esExports);\n// CONCATENATED MODULE: ./src/views/market/download.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(293),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar download_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar download___vue_template_functional__ = false\n/* styles */\nvar download___vue_styles__ = injectStyle\n/* scopeId */\nvar download___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar download___vue_module_identifier__ = \"a75d7a2c\"\nvar download_Component = download_normalizeComponent(\n  download,\n  market_download,\n  download___vue_template_functional__,\n  download___vue_styles__,\n  download___vue_scopeId__,\n  download___vue_module_identifier__\n)\n\n/* harmony default export */ var views_market_download = __webpack_exports__[\"default\"] = (download_Component.exports);\n\n\n/***/ })\n\n};;",
    "56.server-bundle.js": "exports.ids = [56];\nexports.modules = {\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(219);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ce50dc94\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 219:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/rank.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var rank = ({\n  name: \"\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-508c89f5\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/rank.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-rank\"}},[_vm._ssrNode(\"<h1 data-v-508c89f5>番剧排行榜</h1>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_rank = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/rank.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(218),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-508c89f5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"76070d03\"\nvar Component = normalizeComponent(\n  rank,\n  bangumi_rank,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_rank = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "57.server-bundle.js": "exports.ids = [57];\nexports.modules = {\n\n/***/ 257:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(258);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"d42e3878\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".user-setting .el-icon-question{color:#ccd0d7;margin-left:10px;margin-top:13px;float:right}.user-setting .el-switch{float:right;margin-top:10px}.user-setting .el-alert{margin-bottom:20px}.user-setting .el-alert p{font-size:13px;line-height:20px;margin-left:3px;margin-top:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 383:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/setting.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var setting = ({\n  name: \"UserSetting\",\n\n  data() {\n    const validateNickname = (rule, value, callback) => {\n      const length = value.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n      if (!length) {\n        callback(new Error(\"昵称不能为空\"));\n      } else if (length < 2) {\n        callback(new Error(\"昵称至少为2个字符\"));\n      } else if (length > 14) {\n        callback(new Error(\"昵称不能超过14个字符\"));\n      }\n\n      callback();\n    };\n\n    const validateSignature = (rule, value, callback) => {\n      if (value.length > 150) {\n        callback(new Error(\"签名最多 150 个字\"));\n      }\n\n      callback();\n    };\n\n    const validateBirthday = (rule, value, callback) => {\n      const setTs = new Date(value).getTime();\n      const curTs = Date.now();\n\n      if (setTs >= curTs) {\n        callback(new Error(\"。。。\"));\n      } else if (curTs - setTs < 315360000000) {\n        callback(new Error(\"你应该大于10岁了吧...?\"));\n      } else if (curTs - setTs > 1576800000000) {\n        callback(new Error(\"你应该小于50岁的吧...?\"));\n      }\n\n      callback();\n    };\n\n    return {\n      submitting: false,\n      rule: {\n        nickname: [{\n          validator: validateNickname,\n          trigger: \"submit\"\n        }],\n        signature: [{\n          validator: validateSignature,\n          trigger: \"submit\"\n        }],\n        birthday: [{\n          validator: validateBirthday,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    nickname: {\n      get() {\n        return this.user.nickname;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"nickname\",\n          value\n        });\n      }\n\n    },\n    birthday: {\n      get() {\n        return this.user.birthday;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"birthday\",\n          value\n        });\n      }\n\n    },\n    birthSecret: {\n      get() {\n        return this.user.birthSecret;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"birthSecret\",\n          value\n        });\n      }\n\n    },\n    sex: {\n      get() {\n        return this.user.sex;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"sex\",\n          value\n        });\n      }\n\n    },\n    sexSecret: {\n      get() {\n        return this.user.sexSecret;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"sexSecret\",\n          value\n        });\n      }\n\n    },\n    signature: {\n      get() {\n        return this.user.signature;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"signature\",\n          value\n        });\n      }\n\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.user.zone === this.$route.params.zone : false;\n    }\n\n  },\n\n  mounted() {\n    if (!this.isMe) {\n      this.$router.replace({\n        name: \"user-bangumi\"\n      });\n    }\n  },\n\n  methods: {\n    submit() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          const api = new userApi[\"a\" /* default */](this);\n\n          try {\n            await api.settingProfile({\n              nickname: this.nickname,\n              signature: this.signature,\n              birthday: new Date(this.birthday).getTime() / 1000,\n              birth_secret: this.birthSecret,\n              sex_secret: this.sexSecret,\n              sex: this.sex\n            });\n            this.$toast.success(\"设置成功\");\n          } catch (err) {\n            this.$toast.error(err);\n          } finally {\n            this.submitting = false;\n          }\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-382b9011\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/setting.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"user-setting\",attrs:{\"disabled\":_vm.submitting,\"model\":_vm.user,\"rules\":_vm.rule,\"label-width\":\"50px\"}},[_c('el-alert',{attrs:{\"type\":\"info\",\"title\":\"\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"填写正确的性别和生日有助于网站对你番剧喜好的分析，在未来我们有可能根据你的喜好来推荐合适的番剧\")]),_c('p',[_vm._v(\"如果你担心自己的性别和生日被其他用户知道，可以勾选\"),_c('strong',[_vm._v(\"私密\")]),_vm._v(\"，这样我们只会在推荐系统中用到你的数据\")])]),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生日\",\"prop\":\"birthday\"}},[_c('el-date-picker',{attrs:{\"editable\":false,\"clearable\":false,\"type\":\"date\",\"format\":\"yyyy 年 M 月 d 日\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择生日\"},model:{value:(_vm.birthday),callback:function ($$v) {_vm.birthday=$$v},expression:\"birthday\"}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"设置为私密后将不对外公开\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),_c('el-switch',{attrs:{\"active-text\":\"私密\",\"inactive-text\":\"公开\"},model:{value:(_vm.birthSecret),callback:function ($$v) {_vm.birthSecret=$$v},expression:\"birthSecret\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"女\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"伪娘\")]),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"药娘\")]),_c('el-radio',{attrs:{\"label\":5}},[_vm._v(\"扶她\")])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"设置为私密后将不对外公开\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})]),_c('el-switch',{attrs:{\"active-text\":\"私密\",\"inactive-text\":\"公开\"},model:{value:(_vm.sexSecret),callback:function ($$v) {_vm.sexSecret=$$v},expression:\"sexSecret\"}})],1),_c('el-form-item',{attrs:{\"label\":\"签名\",\"prop\":\"signature\"}},[_c('el-input',{attrs:{\"rows\":5,\"type\":\"textarea\",\"placeholder\":\"用简单的言语，表达深刻的心\"},model:{value:(_vm.signature),callback:function ($$v) {_vm.signature=$$v},expression:\"signature\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_setting = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/setting.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(257),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4227549e\"\nvar Component = normalizeComponent(\n  setting,\n  show_setting,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_setting = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "58.server-bundle.js": "exports.ids = [58];\nexports.modules = {\n\n/***/ 324:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(325);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3dfb318b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#role-list .avatar img{width:60px;height:60px;vertical-align:middle;margin-left:2px;margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 420:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/flowApi.js\nvar flowApi = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/role/list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var list = ({\n  data() {\n    return {\n      bangumiId: 0,\n      list: [],\n      loading: false\n    };\n  },\n\n  methods: {\n    async getData() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new flowApi[\"a\" /* default */]();\n\n      try {\n        const data = await api.fetch({\n          type: \"role\",\n          sort: \"hot\",\n          take: 1000,\n          seenIds: \"\",\n          page: 0,\n          userZone: \"\",\n          bangumiId: this.bangumiId\n        });\n        this.list = data.list;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    handleBangumiSearch(id) {\n      if (this.bangumiId !== id) {\n        this.bangumiId = id;\n        this.getData();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21880922\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/role/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"role-list\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('bangumi-search',{attrs:{\"placeholder\":\"请先选择番剧\"},on:{\"search\":_vm.handleBangumiSearch}})],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.cartoonRole(scope.row.id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(scope.row.avatar, { width: 120 })}}),_c('span',{domProps:{\"textContent\":_vm._s(scope.row.name)}})])}}])}),_c('el-table-column',{attrs:{\"label\":\"粉丝数\",\"prop\":\"fans_count\"}}),_c('el-table-column',{attrs:{\"label\":\"金币数\",\"prop\":\"star_count\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":(\"/admin/role/edit/\" + (scope.row.id))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"编辑\")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_list = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/role/list.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(324),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"860269f4\"\nvar Component = normalizeComponent(\n  list,\n  role_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "59.server-bundle.js": "exports.ids = [59];\nexports.modules = {\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(250);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1f818c3e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 250:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-bangumi .bangumis li{margin:0 15px 15px 0;float:left}#user-bangumi .bangumis a{display:block;position:relative;width:220px;height:70px;border-radius:3px;background-color:#e5e9ef;overflow:hidden}#user-bangumi .bangumis a:hover .name{color:#00a1d6}#user-bangumi .bangumis .poster{width:70px;height:70px;margin-right:12px;float:left}#user-bangumi .bangumis .intro{padding-right:12px}#user-bangumi .bangumis .intro .name{font-size:12px;color:#6d757a;margin-top:6px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 376:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/bangumi.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var bangumi = ({\n  name: \"UserBangumi\",\n\n  async asyncData({\n    store,\n    route,\n    ctx\n  }) {\n    await store.dispatch(\"users/getFollowBangumis\", {\n      ctx,\n      zone: route.params.zone\n    });\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.users.bangumis;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1692d17c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/bangumi.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-bangumi\"}},[(_vm.bangumis.length)?_vm._ssrNode(\"<ul class=\\\"bangumis\\\">\",\"</ul>\",_vm._l((_vm.bangumis),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('v-img',{staticClass:\"poster\",attrs:{\"src\":item.avatar,\"lazy\":false,\"size\":\"70\"}}),_vm._ssrNode(\"<figcaption class=\\\"intro\\\"><p class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</p></figcaption>\")],2)])})):_c('no-content')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_bangumi = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/bangumi.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(249),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3882230c\"\nvar Component = normalizeComponent(\n  bangumi,\n  show_bangumi,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_bangumi = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "60.server-bundle.js": "exports.ids = [60];\nexports.modules = {\n\n/***/ 322:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(323);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"49a0064c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 323:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 419:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cartoon/list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var list = ({\n  components: {},\n  props: {},\n\n  data() {\n    return {};\n  },\n\n  computed: {},\n  watch: {},\n\n  created() {},\n\n  mounted() {},\n\n  methods: {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1184305c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cartoon/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cartoon-list\"}},[_vm._ssrNode(\"\\n  漫画的观看排行榜，待工\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cartoon_list = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cartoon/list.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(322),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"96082600\"\nvar Component = normalizeComponent(\n  list,\n  cartoon_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cartoon_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "61.server-bundle.js": "exports.ids = [61];\nexports.modules = {\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(207);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"0e0df8d2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#the-world .col-left .recommended-users li a:after,#the-world .col-left .recommended-users li a:before,#the-world .col-right .flow-intro:after,#the-world .col-right .flow-intro:before{content:\\\"\\\";clear:both;display:table}#the-world .col-left{width:280px;height:1px;float:left;margin-right:40px;margin-left:5px}#the-world .col-left .side-bar .router-link-active{background-color:#e5e9ef}#the-world .col-left .side-bar a{display:block;padding:15px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s;border-radius:5px}#the-world .col-left .side-bar a:hover{background-color:#e5e9ef}#the-world .col-left .sub-title{font-size:15px;margin-left:8px;margin-top:20px}#the-world .col-left .recommended-users li{display:block;padding-left:9px;margin-bottom:14px}#the-world .col-left .recommended-users li a{display:block;width:100%;height:100%}#the-world .col-left .recommended-users li a:hover span{color:#00a1d6}#the-world .col-left .recommended-users li .avatar{width:40px;height:40px;border-radius:50%;margin-right:12px;float:left}#the-world .col-left .recommended-users li .intro{overflow:hidden}#the-world .col-left .recommended-users li .intro span{cursor:pointer;font-size:12px;line-height:16px;color:#222}#the-world .col-left .recommended-users li .intro p{color:#6d757a;margin-top:4px;font-size:12px;line-height:18px}#the-world .col-right{overflow:hidden}#the-world .col-right .flow-intro{margin-bottom:20px}#the-world .col-right .flow-intro .img{width:80px;height:80px;border-radius:8px;margin-right:20px;float:left;color:#fff;text-align:center;cursor:default;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:36px;line-height:80px}#the-world .col-right .flow-intro .intro,#the-world .col-right .flow-intro .intro .summary{overflow:hidden}#the-world .col-right .flow-intro .intro .summary .title{margin-top:10px;font-size:17px}#the-world .col-right .flow-intro .intro .summary .extra{margin-top:8px;font-size:14px;color:#6d757a}#the-world .col-right .flow-intro .intro .control{float:right;margin-top:10px;margin-left:10px}#the-world .col-right .flow-intro .detail{padding:10px 25px 10px 8px;background-color:#e5e9ef;color:#6d757a}#the-world .col-right .flow-intro .detail p{margin-bottom:5px;font-size:13px;line-height:18px}#the-world .col-right .flow-intro .detail a{color:#00a1d6;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}#the-world .col-right .flow-intro .detail a:hover{color:#0381aa}#the-world .col-right .load-more-btn{width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 350:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var world = ({\n  name: \"TheWorld\",\n\n  async asyncData({\n    store\n  }) {\n    await store.dispatch(\"users/getRecommended\");\n  },\n\n  computed: {\n    recommendedUsers() {\n      return this.$store.state.users.recommended;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f4581e1\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"the-world\"}},[_c('v-header',{attrs:{\"type\":\"pure\"}}),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-left\\\">\",\"</div>\",[_c('v-affix',{staticStyle:{\"width\":\"280px\"},attrs:{\"relative-element-selector\":\"#the-world\"}},[_c('ul',{staticClass:\"side-bar\"},[_c('li',[_c('router-link',{attrs:{\"to\":_vm.$alias.world('post')}},[_vm._v(\"\\n              帖子\\n            \")])],1),_c('li',[_c('router-link',{attrs:{\"to\":_vm.$alias.world('pins')}},[_vm._v(\"\\n              相册\\n            \")])],1),_c('li',[_c('router-link',{attrs:{\"to\":_vm.$alias.world('review')}},[_vm._v(\"\\n              漫评\\n            \")])],1),_c('li',[_c('router-link',{attrs:{\"to\":_vm.$alias.world('qaq')}},[_vm._v(\"\\n              问答\\n            \")])],1)]),(_vm.recommendedUsers.length)?[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"推荐用户\")]),_c('ul',{staticClass:\"recommended-users\"},_vm._l((_vm.recommendedUsers),function(user){return _c('li',{key:user.id},[_c('a',{attrs:{\"href\":_vm.$alias.user(user.zone),\"target\":\"_blank\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(user.avatar, { width: 80 })}}),_c('div',{staticClass:\"intro\"},[_c('span',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(user.nickname)}}),_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(user.desc)}})])])])}))]:_vm._e()],2)],1),_vm._ssrNode(\"<div class=\\\"col-right\\\">\",\"</div>\",[_c('keep-alive',[_c('router-view')],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_world = (esExports);\n// CONCATENATED MODULE: ./src/views/world/index.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(206),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3f0bb6f8\"\nvar Component = normalizeComponent(\n  world,\n  views_world,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_world = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "62.server-bundle.js": "exports.ids = [62];\nexports.modules = {\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(256);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"00be3feb\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-draft .el-radio-group{margin-left:0!important;margin-top:6px}#user-draft .score-draft{padding-bottom:15px;padding-top:20px}#user-draft .score-draft:not(:last-child){border-bottom:1px solid #f4f5f7}#user-draft .score-draft .header{height:30px;line-height:30px}#user-draft .score-draft .header .title{overflow:hidden}#user-draft .score-draft .header .bangumi{float:right}#user-draft .score-draft .header .bangumi img{width:30px;height:30px;border-radius:3px}#user-draft .score-draft .body{display:block;font-size:13px;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#user-draft .answer-draft{padding-bottom:15px;padding-top:20px}#user-draft .answer-draft:not(:last-child){border-bottom:1px solid #f4f5f7}#user-draft .answer-draft .title{font-size:18px;font-weight:600;line-height:1.6;color:#1a1a1a;margin-bottom:6px}#user-draft .answer-draft .title:hover{color:#0381aa}#user-draft .answer-draft .intro{line-height:25px;max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}#user-draft #no-content{margin-top:25px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 382:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/draft.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var draft = ({\n  name: \"UserDraft\",\n\n  async asyncData({\n    store,\n    ctx\n  }) {\n    await store.dispatch(\"users/getUserDrafts\", {\n      type: \"score\",\n      ctx\n    });\n  },\n\n  data() {\n    return {\n      active: \"漫评\"\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.zone === this.$store.state.user.zone : false;\n    },\n\n    scores() {\n      return this.$store.state.users.drafts.score;\n    },\n\n    answers() {\n      return this.$store.state.users.drafts.answer;\n    }\n\n  },\n\n  mounted() {\n    if (!this.isMe) {\n      this.$router.replace({\n        name: \"user-bangumi\"\n      });\n    }\n  },\n\n  methods: {\n    handleTabSwitch(label) {\n      if (label === \"漫评\") {\n        this.getUserDrafts(\"score\");\n      } else if (label === \"回答\") {\n        this.getUserDrafts(\"answer\");\n      }\n    },\n\n    async getUserDrafts(type) {\n      await this.$store.dispatch(\"users/getUserDrafts\", {\n        type,\n        ctx: this\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b5ff3de\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/draft.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-draft\"}},[_vm._ssrNode(\"<div>\",\"</div>\",[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.handleTabSwitch},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-radio-button',{attrs:{\"label\":\"漫评\"}}),_c('el-radio-button',{attrs:{\"label\":\"回答\"}})],1)],1),(_vm.active === '漫评')?[_vm._ssrNode((_vm._ssrList((_vm.scores.list),function(item){return (\"<div class=\\\"score-draft\\\"><div class=\\\"header\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.bangumi.id)))+\" target=\\\"_blank\\\" class=\\\"bangumi\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.bangumi.avatar, { width: 60 })))+\"></a><div class=\\\"title\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.editScore(item.id)))+\" target=\\\"_blank\\\" class=\\\"href-fade-blue\\\">\"+_vm._ssrEscape(_vm._s(item.title))+\"</a></div></div><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.editScore(item.id)))+\" target=\\\"_blank\\\" class=\\\"body\\\">\"+_vm._ssrEscape(_vm._s(item.intro))+\"</a></div>\")}))),(_vm.scores.noMore && !_vm.scores.list.length)?_c('no-content'):_vm._e()]:(_vm.active === '回答')?[_vm._ssrNode((_vm._ssrList((_vm.answers.list),function(item){return (\"<div class=\\\"answer-draft\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(item.question.id)))+\" target=\\\"_blank\\\"><h5 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(item.question.title))+\"</h5></a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(item.id)))+\" target=\\\"_blank\\\" class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(item.intro))+\"</a></div>\")}))),(_vm.answers.noMore && !_vm.answers.list.length)?_c('no-content'):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_draft = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/draft.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(255),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"53d64ec2\"\nvar Component = normalizeComponent(\n  draft,\n  show_draft,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_draft = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "63.server-bundle.js": "exports.ids = [63];\nexports.modules = {\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(296);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"41818263\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 396:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/callback/wechat/auth.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var auth = ({\n  name: \"WechatAuth\",\n  components: {},\n  props: {},\n\n  data() {\n    return {};\n  },\n\n  computed: {\n    authUrl() {\n      return this.$utils.createWechatUrl(this);\n    }\n\n  },\n  watch: {},\n\n  created() {},\n\n  mounted() {\n    this.$nextTick(() => {\n      this.createWechatLogin();\n    });\n  },\n\n  methods: {\n    createWechatLogin() {\n      new WxLogin({\n        self_redirect: true,\n        appid: this.$store.state.pageData.wechat_app_id,\n        redirect_uri: encodeURIComponent(window.location.href.split(\"?\")[0]),\n        id: \"login-container\",\n        scope: \"snsapi_login\",\n        state: \"wechat_sign_in_callback\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0033b158\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/callback/wechat/auth.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wechat-auth-callback\"}},[_vm._ssrNode(\"\\n  wechat-auth-callback\\n  <a\"+(_vm._ssrAttr(\"href\",_vm.authUrl))+\">\\n    微信登录\\n  </a><div id=\\\"login-container\\\"></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var wechat_auth = (esExports);\n// CONCATENATED MODULE: ./src/views/callback/wechat/auth.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(295),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"47aab0c8\"\nvar Component = normalizeComponent(\n  auth,\n  wechat_auth,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var callback_wechat_auth = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "64.server-bundle.js": "exports.ids = [64];\nexports.modules = {\n\n/***/ 418:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cartoon/edit.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var edit = ({\n  mixins: [upload[\"a\" /* default */]],\n\n  data() {\n    return {\n      loading: false,\n      toggleEditModal: false,\n      editingItem: null,\n      loadingSubmit: false,\n      loadingCreate: false,\n      list: []\n    };\n  },\n\n  computed: {\n    id() {\n      return this.$route.params.id;\n    }\n\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        this.list = await api.cartoonDetail({\n          id: this.id\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    beginEditItem(item) {\n      this.editingItem = {\n        id: item.id,\n        name: item.name,\n        url: item.url.split(\"image.calibur.tv/\").pop(),\n        bangumi_id: item.bangumi_id\n      };\n      this.uploadConfig.pathPrefix = `bangumi/${this.id}/cartoon/${item.id}`;\n      this.toggleEditModal = true;\n    },\n\n    move(index, toNext) {\n      const prev = toNext ? index : index - 1;\n      const next = toNext ? index + 1 : index;\n      this.list.splice(prev, 1, ...this.list.splice(next, 1, this.list[prev]));\n    },\n\n    toTop(index) {\n      const move = this.list.splice(index, 1);\n      this.list = move.concat(this.list);\n    },\n\n    async submitForm() {\n      if (this.loadingSubmit) {\n        return;\n      }\n\n      this.loadingSubmit = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.cartoonSort({\n          id: this.id,\n          cartoon: this.list.map(_ => _.id).toString()\n        });\n        this.$toast.success(\"更新成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loadingSubmit = true;\n      }\n    },\n\n    async submitCartoonEdit() {\n      if (this.loadingCreate) {\n        return;\n      }\n\n      this.loadingCreate = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        api.cartoonEdit({\n          id: this.editingItem.id,\n          name: this.editingItem.name,\n          url: this.editingItem.url\n        });\n        this.toggleEditModal = false;\n        this.$toast.success(\"更新成功\");\n        this.list.forEach((item, index) => {\n          if (item.id === this.editingItem.id) {\n            this.list[index].name = this.editingItem.name;\n            this.list[index].url = this.editingItem.url;\n          }\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleUpUploadSuccess(res) {\n      this.$toast.success(\"上传成功\");\n      this.editingItem.url = res.data.url;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f708f68\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cartoon/edit.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cartoon-edit\"}},[_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.$alias.image(scope.row.id),\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"编辑\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.beginEditItem(scope.row)}}},[_vm._v(\"编辑\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"排序\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":!scope.$index,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.move(scope.$index, false)}}},[_vm._v(\"上移\")]),_c('el-button',{attrs:{\"disabled\":scope.$index === _vm.list.length - 1,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.move(scope.$index, true)}}},[_vm._v(\"下移\")]),_c('el-button',{attrs:{\"disabled\":!scope.$index,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toTop(scope.$index)}}},[_vm._v(\"置顶\")])]}}])})],1),_vm._ssrNode(\"<footer>\",\"</footer>\",[_c('el-col',{attrs:{\"span\":3,\"offset\":19}},[_c('el-button',{attrs:{\"loading\":_vm.loadingSubmit,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确认编辑\")])],1)],1),(_vm.editingItem)?_c('v-dialog',{attrs:{\"title\":\"编辑\"},on:{\"submit\":_vm.submitCartoonEdit},model:{value:(_vm.toggleEditModal),callback:function ($$v) {_vm.toggleEditModal=$$v},expression:\"toggleEditModal\"}},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.editingItem.name),callback:function ($$v) {_vm.$set(_vm.editingItem, \"name\", $$v)},expression:\"editingItem.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封面\"}},[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"show-file-list\":false,\"before-upload\":_vm.beforeImageUpload,\"on-success\":_vm.handleUpUploadSuccess,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n            上传\\n          \")]),_vm._v(\"\\n           \\n          \"),_c('el-popover',{ref:\"popoverPoster\",attrs:{\"placement\":\"right\",\"width\":\"200\",\"trigger\":\"hover\"}},[_c('img',{attrs:{\"src\":_vm.$resize(_vm.editingItem.url)}})]),_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popoverPoster\",arg:\"popoverPoster\"}],attrs:{\"href\":_vm.$resize(_vm.editingItem.url),\"type\":\"text\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" 预览\\n          \")])],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cartoon_edit = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cartoon/edit.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7777d728\"\nvar Component = normalizeComponent(\n  edit,\n  cartoon_edit,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cartoon_edit = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_env__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\",\n        params: null\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_0_env__[\"cdn\"].image\n    };\n  },\n\n  methods: {\n    async getUpToken() {\n      if (!this.$store.state.login) {\n        return;\n      }\n\n      try {\n        await this.$store.dispatch(\"getUpToken\", this);\n        this.uploadHeaders.token = this.$store.state.user.uptoken.upToken;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    async beforeImageUpload(file) {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      await this.getUpToken();\n      const isFormat = this.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n      const isLt5M = file.size / 1024 / 1024 < this.uploadConfig.max;\n\n      if (!isFormat) {\n        this.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n        return false;\n      }\n\n      if (!isLt5M) {\n        this.$toast.error(`图片大小不能超过 ${this.uploadConfig.max}MB!`);\n        return false;\n      } // if (!this.uploadConfig.params && !this.uploadConfig.pathPrefix) {\n      //   this.$toast.error(\"缺少上传参数!\");\n      //   return false;\n      // }\n      //\n      // if (this.uploadConfig.params) {\n      //   this.uploadHeaders.key = this.$utils.createFileName(\n      //     Object.assign({ file }, this.uploadConfig.params)\n      //   );\n      //   this.uploadConfig.params = null;\n      //   return true;\n      // }\n      //\n      // this.uploadHeaders.key = `${\n      //   this.uploadConfig.pathPrefix\n      // }/${new Date().getTime()}-${Math.random()\n      //   .toString(36)\n      //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n      // this.uploadConfig.pathPrefix = \"\";\n\n\n      return true;\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "65.server-bundle.js": "exports.ids = [65];\nexports.modules = {\n\n/***/ 415:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar mixins_page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/video/trending.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var trending = ({\n  mixins: [mixins_page[\"a\" /* default */]],\n\n  created() {\n    this.getData(1);\n  },\n\n  methods: {\n    async getData(page) {\n      if (page <= this.pageState.max) {\n        this.pageState.cur = page;\n        return;\n      }\n\n      if (this.pageLoading) {\n        return;\n      }\n\n      this.pageLoading = true;\n      this.pageState.size = 20;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getTrendingVideo({\n          to_page: page,\n          cur_page: this.pageState.cur,\n          take: this.pageState.size\n        });\n        this.pageState.total = data.total;\n        this.pageState.cur = page;\n        this.pageState.max = page;\n        this.pageList = this.pageList.concat(data.list);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5059a3d5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/video/trending.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"video-trending\"}},[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"视频id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.video(scope.row.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.id)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"番剧id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.bangumi(scope.row.bangumi_id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.bangumi_id)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"播放量\",\"prop\":\"count_played\"}}),_c('el-table-column',{attrs:{\"label\":\"评论量\",\"prop\":\"comment_count\"}})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.getData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var video_trending = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/video/trending.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"9674714c\"\nvar Component = normalizeComponent(\n  trending,\n  video_trending,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_video_trending = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "66.server-bundle.js": "exports.ids = [66];\nexports.modules = {\n\n/***/ 414:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar mixins_page = __webpack_require__(99);\n\n// EXTERNAL MODULE: external \"deep-assign\"\nvar external__deep_assign_ = __webpack_require__(93);\nvar external__deep_assign__default = /*#__PURE__*/__webpack_require__.n(external__deep_assign_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/video/list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var list = ({\n  mixins: [mixins_page[\"a\" /* default */]],\n\n  data() {\n    return {\n      bangumiId: 0,\n      showEditorModal: false,\n      editSubmitting: false,\n      editForm: {\n        id: \"\",\n        bangumi_id: \"\",\n        bname: \"\",\n        name: \"\",\n        part: \"\",\n        poster: \"\",\n        url: \"\",\n        resource: {\n          video: {\n            \"720\": {\n              useLyc: false,\n              src: \"\"\n            },\n            \"1080\": {\n              useLyc: false,\n              src: \"\"\n            }\n          },\n          lyric: {\n            zh: \"\",\n            en: \"\"\n          }\n        }\n      }\n    };\n  },\n\n  methods: {\n    async getData(page) {\n      if (page <= this.pageState.max) {\n        this.pageState.cur = page;\n        return;\n      }\n\n      if (this.pageLoading) {\n        return;\n      }\n\n      this.pageLoading = true;\n      this.pageState.size = 10;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getBangumiVideoList({\n          id: this.bangumiId,\n          to_page: page,\n          cur_page: this.pageState.cur,\n          take: this.pageState.size\n        });\n        this.pageState.total = data.total;\n        this.pageState.cur = page;\n        this.pageState.max = page;\n\n        if (page === 1) {\n          this.pageList = data.list;\n        } else {\n          this.pageList = this.pageList.concat(data.list);\n        }\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    handleBangumiSearch(id) {\n      if (this.bangumiId !== id) {\n        this.resetPageState();\n      }\n\n      this.bangumiId = id;\n      this.getData(1);\n    },\n\n    handleEditOpen(row) {\n      Object.keys(row).forEach(key => {\n        this.editForm[key] = row[key];\n      });\n      const defResource = {\n        video: {\n          \"720\": {\n            useLyc: false,\n            src: \"\"\n          },\n          \"1080\": {\n            useLyc: false,\n            src: \"\"\n          }\n        },\n        lyric: {\n          zh: \"\",\n          en: \"\"\n        }\n      };\n      this.editForm.resource = row.resource ? external__deep_assign__default()({}, defResource, row.resource) : Object.assign({}, defResource);\n      this.editForm.poster = this.editForm.poster.split(\"calibur.tv/\").pop();\n      this.showEditorModal = true;\n    },\n\n    handleDelete(video) {\n      this.$confirm(\"确认要执行该操作吗?\", \"提示\").then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.videoDelete({\n          id: video.id\n        }).then(() => {\n          video.deleted_at = !video.deleted_at;\n          this.$toast.success(\"操作成功\");\n        }).catch(() => {\n          this.$toast.error(\"操作失败\");\n        });\n      }).catch(() => {});\n    },\n\n    async handleEditDone() {\n      if (this.editSubmitting) {\n        return;\n      }\n\n      this.editSubmitting = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.videoEdit(Object.assign({}, this.editForm, {\n          url: this.editForm.url.split(\"?\").shift()\n        }));\n        this.$toast.success(\"操作成功，页面刷新后可看到改动\");\n        this.showEditorModal = false;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.editSubmitting = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7189b2c0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/video/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"video-list\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('bangumi-search',{attrs:{\"placeholder\":\"请先选择番剧\"},on:{\"search\":_vm.handleBangumiSearch}})],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"索引\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.video(scope.row.id),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.id)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"集数\",\"prop\":\"part\"}}),_c('el-table-column',{attrs:{\"label\":\"播放量\",\"prop\":\"count_played\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.handleEditOpen(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":scope.row.deleted_at ? 'warning' : 'danger',\"size\":\"small\",\"icon\":\"delete\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(_vm._s(scope.row.deleted_at ? '恢复' : '删除'))])]}}])})],1),_c('v-page',{attrs:{\"change\":_vm.getData,\"state\":_vm.pageState}}),_c('v-dialog',{attrs:{\"title\":\"编辑视频\",\"width\":\"1000px\"},on:{\"submit\":_vm.handleEditDone},model:{value:(_vm.showEditorModal),callback:function ($$v) {_vm.showEditorModal=$$v},expression:\"showEditorModal\"}},[_c('el-form',{attrs:{\"model\":_vm.editForm,\"loading\":_vm.editSubmitting,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"番剧\"}},[_c('bangumi-search',{model:{value:(_vm.editForm.bangumi_id),callback:function ($$v) {_vm.$set(_vm.editForm, \"bangumi_id\", $$v)},expression:\"editForm.bangumi_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"集数\"}},[_c('el-input',{model:{value:(_vm.editForm.part),callback:function ($$v) {_vm.$set(_vm.editForm, \"part\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.part\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.name\"}})],1),[_c('el-form-item',{attrs:{\"label\":\"资源\"}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{model:{value:(_vm.editForm.resource.video[720].src),callback:function ($$v) {_vm.$set(_vm.editForm.resource.video[720], \"src\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.resource.video[720].src\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://video.calibur.tv/\")])],2)],1)],1)],_c('el-form-item',{attrs:{\"label\":\"海报\"}},[_c('el-input',{model:{value:(_vm.editForm.poster),callback:function ($$v) {_vm.$set(_vm.editForm, \"poster\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.poster\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://image.calibur.tv/\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"外链\"}},[_c('el-input',{model:{value:(_vm.editForm.url),callback:function ($$v) {_vm.$set(_vm.editForm, \"url\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.url\"}})],1)],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var video_list = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/video/list.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7c6a54d3\"\nvar Component = normalizeComponent(\n  list,\n  video_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_video_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "67.server-bundle.js": "exports.ids = [67];\nexports.modules = {\n\n/***/ 435:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/user/report.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var report = ({\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      details: [],\n      showDetailDialog: false,\n      typeMenus: [{\n        key: \"post\",\n        val: \"帖子\"\n      }, {\n        key: \"user\",\n        val: \"用户\"\n      }, {\n        key: \"bangumi\",\n        val: \"番剧\"\n      }, {\n        key: \"video\",\n        val: \"视频\"\n      }, {\n        key: \"role\",\n        val: \"偶像\"\n      }, {\n        key: \"image\",\n        val: \"图片\"\n      }, {\n        key: \"score\",\n        val: \"漫评\"\n      }, {\n        key: \"question\",\n        val: \"提问\"\n      }, {\n        key: \"answer\",\n        val: \"回答\"\n      }, {\n        key: \"post_comment\",\n        val: \"帖子评论\"\n      }, {\n        key: \"image_comment\",\n        val: \"图片评论\"\n      }, {\n        key: \"score_comment\",\n        val: \"漫评评论\"\n      }, {\n        key: \"video_comment\",\n        val: \"视频评论\"\n      }, {\n        key: \"question_comment\",\n        val: \"提问评论\"\n      }, {\n        key: \"answer_comment\",\n        val: \"回答评论\"\n      }, {\n        key: \"role_reply\",\n        val: \"偶像回复\"\n      }, {\n        key: \"post_reply\",\n        val: \"帖子回复\"\n      }, {\n        key: \"image_reply\",\n        val: \"图片回复\"\n      }, {\n        key: \"score_reply\",\n        val: \"漫评回复\"\n      }, {\n        key: \"video_reply\",\n        val: \"视频回复\"\n      }, {\n        key: \"question_reply\",\n        val: \"提问回复\"\n      }, {\n        key: \"answer_reply\",\n        val: \"回答回复\"\n      }, {\n        key: \"role_reply\",\n        val: \"偶像回复\"\n      }],\n      reportOpt: [{\n        key: 0,\n        val: \"其它\"\n      }, {\n        key: 1,\n        val: \"违法违规\"\n      }, {\n        key: 2,\n        val: \"色情低俗\"\n      }, {\n        key: 3,\n        val: \"赌博诈骗\"\n      }, {\n        key: 4,\n        val: \"人身攻击\"\n      }, {\n        key: 5,\n        val: \"侵犯隐私\"\n      }, {\n        key: 6,\n        val: \"内容抄袭\"\n      }, {\n        key: 7,\n        val: \"垃圾广告\"\n      }, {\n        key: 8,\n        val: \"恶意引战\"\n      }, {\n        key: 9,\n        val: \"内容重复/刷屏\"\n      }, {\n        key: 10,\n        val: \"内容不相关\"\n      }, {\n        key: 11,\n        val: \"互刷金币\"\n      }]\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.getReportList();\n      this.pageState.cur = 1;\n      this.pageState.size = 15;\n      this.pageState.total = data.length;\n      this.pageList = data;\n      this.pageLoading = false;\n    },\n\n    computeModel(type) {\n      let result = \"\";\n      this.typeMenus.forEach(item => {\n        if (item.key === type.split(\"-\")[0]) {\n          result = item.val;\n        }\n      });\n      return result;\n    },\n\n    computeModelId(type) {\n      let prefix = \"\";\n      let tail = \"\";\n      let id = \"\";\n\n      if (/_/.test(type)) {\n        const one = type.split(\"_\");\n        const two = one[1].split(\"-\");\n\n        if (two[0] === \"reply\") {\n          // 子评论\n          tail = `?comment-id=${two[3]}&reply-id=${two[1]}`;\n        } else {\n          // 主评论\n          tail = `?comment-id=${two[1]}`;\n        }\n\n        prefix = one[0];\n        id = two[2];\n      } else {\n        id = type.split(\"-\")[1];\n        prefix = type.split(\"-\")[0];\n      }\n\n      if (prefix === \"score\") {\n        prefix = \"review\";\n      } else if (prefix === \"question\") {\n        prefix = \"qaq\";\n      } else if (prefix === \"answer\") {\n        prefix = \"soga\";\n      } else if (prefix === \"image\") {\n        prefix = \"pin\";\n      }\n\n      if (prefix === \"user\") {\n        return `/admin/user/show?id=${id}`;\n      }\n\n      return `/${prefix}/${id}${tail}`;\n    },\n\n    computeUserId(item) {\n      return item.split(\"|\")[0];\n    },\n\n    computeType(item) {\n      const key = +item.split(\"|\")[1];\n      let result = key;\n      this.reportOpt.forEach(item => {\n        if (item.key === key) {\n          result = item.val;\n        }\n      });\n      return result;\n    },\n\n    computeMessage(item) {\n      const arr = item.split(\"|\");\n      arr.shift();\n      arr.shift();\n      return arr.join(\"\");\n    },\n\n    async remove(index, data) {\n      let tail = data;\n      const arr = data.split(\"-\");\n\n      if (arr.length > 2) {\n        tail = `${arr[0]}-${arr[1]}`;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.removeReport({\n          tail\n        });\n        this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"report\"\n        });\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async detail(data) {\n      let tail = data;\n      const arr = data.split(\"-\");\n\n      if (arr.length > 2) {\n        tail = `${arr[0]}-${arr[1]}`;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        this.details = await api.getReportItem({\n          tail\n        });\n        this.showDetailDialog = true;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f5c9364\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/user/report.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"user-feedback\"}},[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.computeModel(scope.row))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.computeModelId(scope.row),\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.computeModelId(scope.row))+\"\\n        \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.detail(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.remove(scope.$index, scope.row)}}},[_vm._v(\"确认\")])]}}])})],1),_c('v-dialog',{attrs:{\"footer\":false,\"title\":\"举报详情\"},model:{value:(_vm.showDetailDialog),callback:function ($$v) {_vm.showDetailDialog=$$v},expression:\"showDetailDialog\"}},[_c('el-table',{attrs:{\"data\":_vm.details,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"举报者id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.computeUserId(scope.row))+\"\\n        \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"举报类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.computeType(scope.row))+\"\\n        \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"举报留言\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.computeMessage(scope.row))+\"\\n        \")]}}])})],1)],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_report = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/user/report.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"ef7943b2\"\nvar Component = normalizeComponent(\n  report,\n  user_report,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_report = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "68.server-bundle.js": "exports.ids = [68];\nexports.modules = {\n\n/***/ 424:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// EXTERNAL MODULE: external \"ua-parser-js\"\nvar external__ua_parser_js_ = __webpack_require__(94);\nvar external__ua_parser_js__default = /*#__PURE__*/__webpack_require__.n(external__ua_parser_js_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/user/feedback.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var feedback = ({\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      options: [{\n        label: \"功能建议\",\n        value: 1\n      }, {\n        label: \"遇到错误\",\n        value: 2\n      }, {\n        label: \"资源报错\",\n        value: 4\n      }, {\n        label: \"求资源\",\n        value: 5\n      }, {\n        label: \"求偶像\",\n        value: 6\n      }, {\n        label: \"其它问题\",\n        value: 3\n      }]\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.getUserFeedback();\n      this.pageState.cur = 1;\n      this.pageState.size = 15;\n      this.pageState.total = data.length;\n      this.pageList = data;\n      this.pageLoading = false;\n    },\n\n    computeType(type) {\n      let result = \"\";\n      this.options.forEach(item => {\n        if (item.value === parseInt(type, 10)) {\n          result = item.label;\n        }\n      });\n      return result;\n    },\n\n    computeUA(ua) {\n      if (/-----/.test(ua)) {\n        const arr = ua.split(\"-----\");\n        let result = `厂商：${arr[0]}<br>型号：${arr[1]}`;\n\n        if (arr[2]) {\n          result = `${result}<br>App版本：${arr[2]}`;\n        }\n\n        if (arr[3]) {\n          result = `${result}<br>系统版本：${arr[3]}`;\n        }\n\n        return result;\n      } else {\n        const parser = new external__ua_parser_js__default.a();\n        parser.setUA(ua);\n        const result = parser.getResult();\n        return `系统：${result.os.name} - ${result.os.version}<br>浏览器：${result.browser.name} - ${result.browser.version}`;\n      }\n    },\n\n    async remove(index, id) {\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        await api.readFeedback({\n          id\n        });\n        this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"feedback\"\n        });\n        this.$toast.success(\"操作成功\");\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39dd14cd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/user/feedback.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"user-feedback\"}},[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.computeType(scope.row.type))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"内容\",\"prop\":\"desc\"}}),_c('el-table-column',{attrs:{\"label\":\"浏览器\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.computeUA(scope.row.ua))}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.remove(scope.$index, scope.row.id)}}},[_vm._v(\"确认\")]),(scope.row.user_id != 0)?_c('router-link',{attrs:{\"to\":(\"/admin/user/show?id=\" + (scope.row.user_id))}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"查看用户\")])],1):_vm._e()]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_feedback = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/user/feedback.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3904b938\"\nvar Component = normalizeComponent(\n  feedback,\n  user_feedback,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_feedback = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "69.server-bundle.js": "exports.ids = [69];\nexports.modules = {\n\n/***/ 438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/user/faker.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var faker = ({\n  mixins: [page[\"a\" /* default */]],\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getFakerList();\n        this.pageState.cur = 1;\n        this.pageState.size = 20;\n        this.pageState.total = data.length;\n        this.pageList = data;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    newLife(index, user) {\n      this.$prompt(\"请输入转让者的手机号\", \"提示\", {\n        confirmButtonText: \"提交\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,\n        inputErrorMessage: \"手机格式不正确\"\n      }).then(({\n        value\n      }) => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.rebornFakerUser({\n          id: user.id,\n          phone: value\n        }).then(() => {\n          this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n          this.$toast.success(\"操作成功\");\n        }).catch(err => {\n          this.$toast.error(err);\n        });\n      }).catch(() => {});\n    },\n\n    createNewFakerUser() {\n      this.$prompt(\"请输入要创建的用户昵称\", \"提示\", {\n        confirmButtonText: \"提交\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        const length = value.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n        if (length > 14 || length < 2) {\n          this.$toast.error(\"名字长度不符\");\n          return;\n        }\n\n        let isOld = false;\n        this.pageList.forEach(faker => {\n          if (faker.nickname.indexOf(value) !== -1) {\n            isOld = true;\n          }\n        });\n\n        if (isOld) {\n          this.$toast.error(\"名字重复了\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.createFakerUser({\n          nickname: value,\n          phone: Date.now().toString().slice(0, -2)\n        }).then(data => {\n          this.pageList.unshift(data);\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f909784\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/user/faker.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"faker-list\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createNewFakerUser}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n      创建运营号\\n    \")])],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"用户\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.user(scope.row.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.nickname)}})}}])}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"账号\"}}),_c('el-table-column',{attrs:{\"prop\":\"coin_count\",\"label\":\"金币数\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.newLife(scope.$index, scope.row)}}},[_vm._v(\"账号认领\")])]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_faker = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/user/faker.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2670981a\"\nvar Component = normalizeComponent(\n  faker,\n  user_faker,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_faker = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "70.server-bundle.js": "exports.ids = [70];\nexports.modules = {\n\n/***/ 422:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar mixins_page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/user/dalao.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var dalao = ({\n  mixins: [mixins_page[\"a\" /* default */]],\n\n  created() {\n    this.getData(1);\n  },\n\n  methods: {\n    async getData(page) {\n      if (page <= this.pageState.max) {\n        this.pageState.cur = page;\n        return;\n      }\n\n      if (page - this.pageState.max > 3) {\n        this.$toast.error(\"一次获取的数据太多\");\n        return;\n      }\n\n      if (this.pageLoading) {\n        return;\n      }\n\n      this.pageLoading = true;\n      this.pageState.size = 10;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getCoinDescUser({\n          to_page: page,\n          cur_page: this.pageState.cur,\n          take: this.pageState.size\n        });\n        this.pageState.total = data.total;\n        this.pageState.cur = page;\n        this.pageState.max = page;\n        this.pageList = this.pageList.concat(data.list);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ad57062\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/user/dalao.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"user-dalao\"}},[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"索引\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"label\":\"昵称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.user(scope.row.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.nickname)}})}}])}),_c('el-table-column',{attrs:{\"label\":\"金币数\",\"prop\":\"coin_count\"}}),_c('el-table-column',{attrs:{\"label\":\"运营号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.faker == 1 ? '是' : '-')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":(\"/admin/user/show?zone=\" + (scope.row.zone))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"查看详情\")])],1)]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.getData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_dalao = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/user/dalao.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2bd04c5a\"\nvar Component = normalizeComponent(\n  dalao,\n  user_dalao,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_dalao = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "71.server-bundle.js": "exports.ids = [71];\nexports.modules = {\n\n/***/ 437:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/tag/list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var list = ({\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      showCreateModal: false,\n      createLoading: false,\n      types: [{\n        value: \"bangumi\",\n        text: \"番剧\"\n      }, {\n        value: 1,\n        text: \"图片类型\"\n      }, {\n        value: 2,\n        text: \"图片尺寸\"\n      }],\n      selectedType: \"bangumi\",\n      createForm: {\n        type: \"\",\n        name: \"\"\n      }\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.allTag({\n          type: this.selectedType\n        });\n        this.pageState.total = data.length;\n        this.pageState.cur = 1;\n        this.pageState.size = 20;\n        this.pageList = data;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    editTagName(tag) {\n      this.$prompt(\"请输入新名称\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.editTag({\n          id: tag.id,\n          name: value,\n          type: this.selectedType\n        }).then(() => {\n          this.$toast.success(\"更新成功\");\n          tag.name = value;\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    handleCreateDone() {\n      const name = this.createForm.name;\n\n      if (!this.createForm.name) {\n        this.$toast.error(\"名字不能为空\");\n        return;\n      }\n\n      for (const tag of this.pageList) {\n        if (tag.name === name) {\n          this.$toast.error(\"标签已存在\");\n          return;\n        }\n      }\n\n      if (this.createLoading) {\n        return;\n      }\n\n      this.createLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      api.createTag({\n        name,\n        type: this.createForm.type\n      }).then(id => {\n        this.pageList.unshift({\n          name,\n          id\n        });\n        this.$toast.success(\"操作成功\");\n        this.createLoading = false;\n        this.showCreateModal = false;\n      }).catch(e => {\n        this.$toast.error(e);\n        this.createLoading = false;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04f9fb41\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/tag/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"tag-list\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('el-select',{attrs:{\"placeholder\":\"选择查询种类\"},on:{\"change\":_vm.getData},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},_vm._l((_vm.types),function(type){return _c('el-option',{key:type.value,attrs:{\"label\":type.text,\"value\":type.value}})}))],1),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showCreateModal = true}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n          添加标签\\n        \")])],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"索引\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"edit\"},on:{\"click\":function($event){_vm.editTagName(scope.row)}}},[_vm._v(\"修改名称\")])]}}])})],1),_c('v-page',{attrs:{\"change\":_vm.handlePageChange,\"state\":_vm.pageState}}),_c('v-dialog',{attrs:{\"title\":\"创建标签\"},on:{\"submit\":_vm.handleCreateDone},model:{value:(_vm.showCreateModal),callback:function ($$v) {_vm.showCreateModal=$$v},expression:\"showCreateModal\"}},[_c('el-form',{attrs:{\"model\":_vm.createForm,\"loading\":_vm.createLoading,\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择标签类别\"},model:{value:(_vm.createForm.type),callback:function ($$v) {_vm.$set(_vm.createForm, \"type\", $$v)},expression:\"createForm.type\"}},_vm._l((_vm.types),function(type){return _c('el-option',{key:type.value,attrs:{\"value\":type.value,\"label\":type.text}})}))],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.createForm.name),callback:function ($$v) {_vm.$set(_vm.createForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"createForm.name\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var tag_list = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/tag/list.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"28948ad4\"\nvar Component = normalizeComponent(\n  list,\n  tag_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_tag_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "72.server-bundle.js": "exports.ids = [72];\nexports.modules = {\n\n/***/ 440:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cm/ipBlocker.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ipBlocker = ({\n  name: \"IpBlocker\",\n  mixins: [page[\"a\" /* default */]],\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.blockedIpList();\n      this.pageState.cur = 1;\n      this.pageState.size = 15;\n      this.pageState.total = data.length;\n      this.pageList = data;\n      this.pageLoading = false;\n    },\n\n    async recoverUser(index, row) {\n      this.$confirm(\"确定要执行该操作吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.recoverIpAddress({\n          ip_address: row\n        }).then(() => {\n          this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    blockUser() {\n      this.$prompt(\"请输入要封禁的ip地址\", \"提示\", {\n        confirmButtonText: \"提交\",\n        cancelButtonText: \"取消\"\n      }).then(({\n        value\n      }) => {\n        if (!value) {\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.blockIpAddress({\n          ip_address: value\n        }).then(() => {\n          this.pageList.unshift(value);\n          this.$toast.success(\"操作成功\");\n        }).catch(err => {\n          this.$toast.error(err);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-908329d4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cm/ipBlocker.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ip-blocker\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.blockUser}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n      封禁IP\\n    \")])],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"ip地址\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.recoverUser(scope.$index, scope.row)}}},[_vm._v(\"解禁\")]),_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?ip=\" + (scope.row))}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查看用户\")])],1)]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cm_ipBlocker = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cm/ipBlocker.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3d80ce4f\"\nvar Component = normalizeComponent(\n  ipBlocker,\n  cm_ipBlocker,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cm_ipBlocker = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "73.server-bundle.js": "exports.ids = [73];\nexports.modules = {\n\n/***/ 442:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cm/friendLink.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var friendLink = ({\n  name: \"FriendLink\",\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      showCreateModal: false,\n      name: \"\",\n      link: \"\"\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.getFriendLinks();\n      this.pageState.cur = 1;\n      this.pageState.size = 15;\n      this.pageState.total = data.length;\n      this.pageList = data;\n      this.pageLoading = false;\n    },\n\n    async createFriendLink() {\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        api.addFriendLink({\n          link: this.link.split(\"?\")[0],\n          name: this.name\n        });\n        this.pageList.unshift({\n          link: this.link.split(\"?\")[0],\n          name: this.name\n        });\n        this.$toast.success(\"操作成功\");\n        this.showCreateModal = false;\n        this.name = \"\";\n        this.link = \"\";\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async removeFriendLink(index, row) {\n      this.$confirm(\"确定要删除吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.delFriendLink({\n          link: row.link\n        }).then(() => {\n          this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f65aa67\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cm/friendLink.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"friend-link\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showCreateModal = true}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n          添加友链\\n        \")])],1)],1),_c('v-dialog',{attrs:{\"title\":\"添加友链\"},on:{\"submit\":_vm.createFriendLink},model:{value:(_vm.showCreateModal),callback:function ($$v) {_vm.showCreateModal=$$v},expression:\"showCreateModal\"}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"站名\"}},[_c('el-input',{model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"链接\"}},[_c('el-input',{model:{value:(_vm.link),callback:function ($$v) {_vm.link=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"link\"}})],1)],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"站名\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.link,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.link)}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.removeFriendLink(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cm_friendLink = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cm/friendLink.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"c0e80f28\"\nvar Component = normalizeComponent(\n  friendLink,\n  cm_friendLink,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cm_friendLink = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "74.server-bundle.js": "exports.ids = [74];\nexports.modules = {\n\n/***/ 441:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"lodash/orderBy\"\nvar orderBy_ = __webpack_require__(95);\nvar orderBy__default = /*#__PURE__*/__webpack_require__.n(orderBy_);\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cm/appVersion.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var appVersion = ({\n  name: \"AppVersion\",\n  mixins: [page[\"a\" /* default */]],\n\n  data() {\n    return {\n      showCreateModal: false,\n      imageUploadAccept: \"\",\n      appType: \"\",\n      versionType: 0,\n      downloadUrl: \"\",\n      types: [{\n        label: \"Android\",\n        value: \"1\"\n      }, {\n        label: \"iOS\",\n        value: \"2\"\n      }],\n      uploadHeaders: {\n        token: \"\",\n        key: \"\"\n      }\n    };\n  },\n\n  computed: {\n    isKing() {\n      return this.$store.state.user.id === 1;\n    },\n\n    appVersion() {\n      if (this.appType === \"\" || this.versionType === 0) {\n        return \"\";\n      }\n\n      const list = orderBy__default()(this.pageList.filter(_ => _.app_type === this.appType), \"id\", \"desc\");\n\n      if (!list.length) {\n        return \"0.0.1\";\n      }\n\n      const nowBiggestVersion = list[0].app_version.split(\".\").map(_ => parseInt(_));\n\n      if (this.versionType === 1) {\n        return `${nowBiggestVersion[0] + 1}.0.0`;\n      } else if (this.versionType === 2) {\n        return `${nowBiggestVersion[0]}.${nowBiggestVersion[1] + 1}.0`;\n      } else {\n        return `${nowBiggestVersion[0]}.${nowBiggestVersion[1]}.${nowBiggestVersion[2] + 1}`;\n      }\n    }\n\n  },\n\n  created() {\n    this.getData();\n    this.getUploadAppUpToken();\n  },\n\n  methods: {\n    async getUploadAppUpToken() {\n      const api = new adminApi[\"a\" /* default */](this);\n      this.uploadHeaders.token = await api.getAppUpToken();\n    },\n\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n      const data = await api.getAppVersions();\n      this.pageState.cur = 1;\n      this.pageState.size = 15;\n      this.pageState.total = data.length;\n      this.pageList = data.map(_ => {\n        return Object.assign(_, {\n          force_update: _.force_update === \"1\"\n        });\n      });\n      this.pageLoading = false;\n    },\n\n    async createAppVersion() {\n      if (!this.appType || !this.appVersion || !this.downloadUrl) {\n        return;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.createAppVersion({\n          type: this.appType,\n          version: this.appVersion,\n          url: this.downloadUrl\n        });\n        this.$toast.success(\"操作成功\");\n        this.pageList.unshift(data);\n        this.showCreateModal = false;\n        this.appType = \"\";\n        this.versionType = 0;\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    async remove(index, row) {\n      this.$confirm(\"确定要删除吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.deleteAppVersion({\n          type: row.app_type,\n          version: row.app_version\n        }).then(() => {\n          this.pageList.splice((this.pageState.cur - 1) * this.pageState.size + index, 1);\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    async toggleForce(row) {\n      this.$confirm(\"确定要执行该操作吗?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const api = new adminApi[\"a\" /* default */](this);\n        api.toggleAppUpdate({\n          type: row.app_type,\n          version: row.app_version,\n          force: !row.force_update\n        }).then(() => {\n          row.force_update = !row.force_update;\n          this.$toast.success(\"操作成功\");\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(e);\n        });\n      }).catch(() => {});\n    },\n\n    computeType(type) {\n      let result = \"\";\n      this.types.forEach(item => {\n        if (item.value === type) {\n          result = item.label;\n        }\n      });\n      return result;\n    },\n\n    beforeUploadApp(file) {\n      this.uploadHeaders.key = `app/android/${Date.now()}-v-${this.appVersion}/calibur-tv.apk`;\n      return true;\n    },\n\n    handleAppUploaded(res) {\n      this.downloadUrl = `https://static.calibur.tv/${res.key}`;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f699c872\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cm/appVersion.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-version\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showCreateModal = true}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n          添加版本\\n        \")])],1)],1),_c('v-dialog',{attrs:{\"title\":\"添加版本\"},on:{\"submit\":_vm.createAppVersion},model:{value:(_vm.showCreateModal),callback:function ($$v) {_vm.showCreateModal=$$v},expression:\"showCreateModal\"}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"App类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择App\"},model:{value:(_vm.appType),callback:function ($$v) {_vm.appType=$$v},expression:\"appType\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_c('el-form-item',{attrs:{\"label\":\"版本类型\"}},[_c('el-radio-group',{model:{value:(_vm.versionType),callback:function ($$v) {_vm.versionType=$$v},expression:\"versionType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"大版本\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"小版本\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"修复版\")])],1)],1),(_vm.appType && _vm.versionType)?_c('el-form-item',{attrs:{\"label\":\"下载链接\"}},[(_vm.appType === '1')?[(_vm.downloadUrl)?_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.downloadUrl),callback:function ($$v) {_vm.downloadUrl=$$v},expression:\"downloadUrl\"}})],1):_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"before-upload\":_vm.beforeUploadApp,\"on-success\":_vm.handleAppUploaded,\"action\":\"https://upload.qiniup.com\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传安装包\")])],1)]:_c('el-col',{attrs:{\"span\":18,\"placehloder\":\"填写安装包的下载链接，或跳转链接\"}},[_c('el-input',{model:{value:(_vm.downloadUrl),callback:function ($$v) {_vm.downloadUrl=$$v},expression:\"downloadUrl\"}})],1)],2):_vm._e(),(_vm.appVersion)?_c('el-form-item',{attrs:{\"label\":\"预览结果\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.appVersion)+\"\\n        \")]):_vm._e()],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"App类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.computeType(scope.row.app_type))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"版本号\",\"prop\":\"app_version\"}}),_c('el-table-column',{attrs:{\"label\":\"下载链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.download_url,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.download_url)}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"强制更新\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"disabled\":\"\"},model:{value:(scope.row.force_update),callback:function ($$v) {_vm.$set(scope.row, \"force_update\", $$v)},expression:\"scope.row.force_update\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"发布时间\",\"prop\":\"created_at\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isKing)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.remove(scope.$index, scope.row)}}},[_vm._v(\"删除\")]):_vm._e(),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.toggleForce(scope.row)}}},[_vm._v(_vm._s(scope.row.force_update ? '取消强制更新' : '开启强制更新'))])]}}])})],1),_c('v-page',{attrs:{\"state\":_vm.pageState,\"change\":_vm.handlePageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cm_appVersion = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cm/appVersion.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2ffc14ab\"\nvar Component = normalizeComponent(\n  appVersion,\n  cm_appVersion,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cm_appVersion = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "75.server-bundle.js": "exports.ids = [75];\nexports.modules = {\n\n/***/ 417:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/cartoon/bangumis.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var bangumis = ({\n  mixins: [page[\"a\" /* default */]],\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    async getData() {\n      this.pageLoading = true;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.cartoonBangumis();\n        this.pageState.cur = 1;\n        this.pageState.total = data.length;\n        this.pageList = data;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1db910e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/cartoon/bangumis.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"cartoon-bangumis\"}},[_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"番名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.$alias.bangumi(scope.row.id),\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":(\"/admin/cartoon/edit/\" + (scope.row.id))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"edit\"}},[_vm._v(\"编辑漫画\")])],1)]}}])})],1),_c('v-page',{attrs:{\"change\":_vm.handlePageChange,\"state\":_vm.pageState}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var cartoon_bangumis = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/cartoon/bangumis.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"69fbb95c\"\nvar Component = normalizeComponent(\n  bangumis,\n  cartoon_bangumis,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_cartoon_bangumis = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "76.server-bundle.js": "exports.ids = [76];\nexports.modules = {\n\n/***/ 411:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/mixins/page.js\nvar mixins_page = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/bangumi/list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var list = ({\n  mixins: [mixins_page[\"a\" /* default */]],\n  computed: {\n    bangumis() {\n      return this.$store.state.search.bangumis;\n    }\n\n  },\n\n  mounted() {\n    this.getData(1);\n  },\n\n  methods: {\n    async getData(page) {\n      if (page <= this.pageState.max) {\n        this.pageState.cur = page;\n        return;\n      }\n\n      if (this.pageLoading) {\n        return;\n      }\n\n      this.pageLoading = true;\n      this.pageState.size = 15;\n      const api = new adminApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getBangumiList({\n          to_page: page,\n          cur_page: this.pageState.cur,\n          take: this.pageState.size\n        });\n        this.pageState.total = data.total;\n        this.pageState.cur = page;\n        this.pageState.max = page;\n        this.pageList = this.pageList.concat(data.list);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.pageLoading = false;\n      }\n    },\n\n    handleBangumiSearch(id) {\n      this.$router.push({\n        path: `/admin/bangumi/edit/${id}`\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f6bb0c3\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/bangumi/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],attrs:{\"id\":\"bangumi-list\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('router-link',{attrs:{\"to\":\"/admin/bangumi/create\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n            创建番剧\\n          \")])],1)],1),_c('el-col',{attrs:{\"span\":10,\"offset\":10}},[_c('bangumi-search',{on:{\"search\":_vm.handleBangumiSearch}})],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.pageData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"番剧名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.$alias.bangumi(scope.row.id),\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":(\"/admin/bangumi/edit/\" + (scope.row.id))}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"edit\"}},[_vm._v(\"编辑\")])],1),_vm._v(\"\\n         \\n        \"),(scope.row.deleted_at)?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"delete\"}},[_vm._v(\"已删除\")]):_vm._e()]}}])})],1),_c('v-page',{attrs:{\"change\":_vm.getData,\"state\":_vm.pageState}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_list = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/bangumi/list.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6e3cd935\"\nvar Component = normalizeComponent(\n  list,\n  bangumi_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      pageState: {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      },\n      pageLoading: false,\n      pageList: []\n    };\n  },\n\n  computed: {\n    pageData() {\n      if (!this.pageList.length) {\n        return [];\n      }\n\n      const begin = (this.pageState.cur - 1) * this.pageState.size;\n      return this.pageList.slice(begin, begin + this.pageState.size);\n    }\n\n  },\n  methods: {\n    handlePageChange(val) {\n      this.pageState.cur = val;\n    },\n\n    resetPageState() {\n      this.pageState = {\n        max: 0,\n        cur: 0,\n        size: 10,\n        total: 0\n      };\n    }\n\n  }\n});\n\n/***/ })\n\n};;",
    "77.server-bundle.js": "exports.ids = [77];\nexports.modules = {\n\n/***/ 427:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/bangumi.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var bangumi = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getTrialBangumis().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    passBangumi(id, index) {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.passBangumi({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"bangumi\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-af123b6a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/bangumi.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-trial\"}},[_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.$alias.bangumi(scope.row.id),\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"原名\",\"prop\":\"alias\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.passBangumi(scope.row.id, scope.$index)}}},[_vm._v(\"通过\")]),_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (scope.row.state))}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"}},[_vm._v(\"查看变更人\")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_bangumi = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/bangumi.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"11b98a0f\"\nvar Component = normalizeComponent(\n  bangumi,\n  trial_bangumi,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_bangumi = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "78.server-bundle.js": "exports.ids = [78];\nexports.modules = {\n\n/***/ 443:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/adminApi.js\nvar adminApi = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/console/admins.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var admins = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  computed: {\n    isKing() {\n      return this.$store.state.user.id === 1;\n    }\n\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new adminApi[\"a\" /* default */](this);\n      api.getAdminList().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(e => {\n        this.$toast.error(e);\n        this.loading = false;\n      });\n    },\n\n    removeFromAdmin(index, id) {\n      if (this.id === 1) {\n        return;\n      }\n\n      const api = new adminApi[\"a\" /* default */](this);\n      api.removeAdmin({\n        id\n      }).then(() => {\n        this.$toast.success(\"操作成功\");\n        this.list.splice(index, 1);\n      }).catch(e => {\n        this.$toast.error(e);\n      });\n    },\n\n    addAdmin() {\n      this.$prompt(\"请输入用户id\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d+$/,\n        inputErrorMessage: \"非法的id\"\n      }).then(({\n        value\n      }) => {\n        if (value < 1) {\n          this.$toast.error(\"非法的id\");\n          return;\n        }\n\n        const api = new adminApi[\"a\" /* default */](this);\n        api.addAdmin({\n          id: value\n        }).then(() => {\n          this.$toast.success(\"操作成功\");\n          window.location.reload();\n        }).catch(e => {\n          this.$toast.error(e);\n        });\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13905324\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/console/admins.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"admin-list\"}},[(_vm.isKing)?_vm._ssrNode(\"<header>\",\"</header>\",[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addAdmin}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"\\n      添加管理员\\n    \")])],1):_vm._e(),_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"昵称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('a',{attrs:{\"href\":_vm.$alias.user(scope.row.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(scope.row.nickname)}})}}])}),(_vm.isKing)?_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.removeFromAdmin(scope.$index, scope.row.id)}}},[_vm._v(\"移除\")])]}}])}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var console_admins = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/console/admins.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3156545d\"\nvar Component = normalizeComponent(\n  admins,\n  console_admins,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_console_admins = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getTodo() {\n    return this.http.get(\"admin/todo\");\n  }\n\n  realtimeStats() {\n    return this.http.get(\"admin/stats/realtime\");\n  }\n\n  timelineStats({\n    days\n  }) {\n    return this.http.get(\"admin/stats/timeline\", {\n      params: {\n        days\n      }\n    });\n  }\n\n  indexBannerList() {\n    return this.http.get(\"admin/banner/list\");\n  }\n\n  indexBannerUpload({\n    url,\n    bangumi_id,\n    user_id,\n    gray\n  }) {\n    return this.http.post(\"admin/banner/upload\", {\n      url,\n      bangumi_id,\n      user_id,\n      gray\n    });\n  }\n\n  indexBannerToggle(id) {\n    return this.http.post(\"admin/banner/toggle_use\", {\n      id\n    });\n  }\n\n  indexBannerEdit({\n    id,\n    bangumi_id,\n    user_id\n  }) {\n    return this.http.post(\"admin/banner/edit\", {\n      id,\n      bangumi_id,\n      user_id\n    });\n  }\n\n  searchUser({\n    type,\n    value\n  }) {\n    return this.http.get(\"admin/search/user\", {\n      params: {\n        type,\n        value\n      }\n    });\n  }\n\n  bangumiInfo({\n    id\n  }) {\n    return this.http.get(\"admin/bangumi/info\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  bangumiRelease({\n    bangumi_id,\n    video_id\n  }) {\n    return this.http.post(\"admin/bangumi/release\", {\n      bangumi_id,\n      video_id\n    });\n  }\n\n  getBangumiList({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/bangumi/list\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  setBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/set\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  removeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/remove\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  upgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/upgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  downgradeBangumiManager({\n    user_id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/bangumi/manager/downgrade\", {\n      user_id,\n      bangumi_id\n    });\n  }\n\n  bangumiDelete({\n    id\n  }) {\n    return this.http.post(\"admin/bangumi/delete\", {\n      id\n    });\n  }\n\n  bangumiCreate(params) {\n    return this.http.post(\"admin/bangumi/create\", params);\n  }\n\n  bangumiEdit(params) {\n    return this.http.post(\"admin/bangumi/edit\", params);\n  }\n\n  allTag({\n    type\n  }) {\n    return this.http.get(\"admin/tag/all\", {\n      params: {\n        type\n      }\n    });\n  }\n\n  editTag({\n    id,\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/edit\", {\n      id,\n      name,\n      type\n    });\n  }\n\n  createTag({\n    name,\n    type\n  }) {\n    return this.http.post(\"admin/tag/create\", {\n      name,\n      type\n    });\n  }\n\n  cartoonBangumis() {\n    return this.http.get(\"admin/cartoon/bangumis\");\n  }\n\n  cartoonDetail({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon/list_of_bangumi\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonSort({\n    id,\n    cartoon\n  }) {\n    return this.http.post(\"admin/cartoon/sort\", {\n      id,\n      cartoon\n    });\n  }\n\n  cartoonEdit({\n    id,\n    name,\n    url\n  }) {\n    return this.http.post(\"admin/cartoon/edit\", {\n      id,\n      name,\n      url\n    });\n  }\n\n  getBangumiVideoList({\n    id,\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/bangumis\", {\n      params: {\n        id,\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  videoEdit(params) {\n    return this.http.post(\"admin/video/edit\", params);\n  }\n\n  videoSave(arr) {\n    return this.http.post(\"admin/video/save\", arr);\n  }\n\n  videoDelete({\n    id\n  }) {\n    return this.http.post(\"admin/video/delete\", {\n      id\n    });\n  }\n\n  getTrendingVideo({\n    cur_page,\n    to_page,\n    take\n  }) {\n    return this.http.get(\"admin/video/trending\", {\n      params: {\n        cur_page,\n        to_page,\n        take\n      }\n    });\n  }\n\n  cartoonRoleInfo({\n    id\n  }) {\n    return this.http.get(\"admin/cartoon_role/show\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  cartoonRoleEdit(params) {\n    return this.http.post(\"admin/cartoon_role/edit\", params);\n  }\n\n  cartoonRoleCreate(params) {\n    return this.http.post(\"admin/cartoon_role/create\", params);\n  }\n\n  getFakerList() {\n    return this.http.get(\"admin/user/faker/list\");\n  }\n\n  rebornFakerUser({\n    id,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/reborn\", {\n      id,\n      phone\n    });\n  }\n\n  createFakerUser({\n    nickname,\n    phone\n  }) {\n    return this.http.post(\"admin/user/faker/create\", {\n      nickname,\n      phone\n    });\n  }\n\n  getCoinDescUser({\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.get(\"admin/user/dalao\", {\n      params: {\n        to_page,\n        cur_page,\n        take\n      }\n    });\n  }\n\n  addUserToTrial({\n    id\n  }) {\n    return this.http.post(\"admin/user/add_to_trial\", {\n      id\n    });\n  }\n\n  getUserFeedback() {\n    return this.http.get(\"admin/user/feedback/list\");\n  }\n\n  readFeedback({\n    id\n  }) {\n    return this.http.post(\"admin/user/feedback/read\", {\n      id\n    });\n  }\n\n  getAdminList() {\n    return this.http.get(\"admin/console/list\");\n  }\n\n  removeAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/remove\", {\n      id\n    });\n  }\n\n  addAdmin({\n    id\n  }) {\n    return this.http.post(\"admin/console/add\", {\n      id\n    });\n  }\n\n  trialTestImage({\n    url\n  }) {\n    return this.http.get(\"admin/trial/test/image\", {\n      params: {\n        url\n      }\n    });\n  }\n\n  trialTestText({\n    text\n  }) {\n    return this.http.post(\"admin/trial/test/text\", {\n      text\n    });\n  }\n\n  getTrialWords() {\n    return this.http.get(\"admin/trial/words/list\");\n  }\n\n  deleteTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/delete\", {\n      words\n    });\n  }\n\n  addTrialWords({\n    words\n  }) {\n    return this.http.post(\"admin/trial/words/add\", {\n      words\n    });\n  }\n\n  getTrialUsers() {\n    return this.http.get(\"admin/trial/user/list\");\n  }\n\n  deleteUserInfo({\n    id,\n    key,\n    value\n  }) {\n    return this.http.post(\"admin/trial/user/delete_info\", {\n      id,\n      key,\n      value\n    });\n  }\n\n  passUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/pass\", {\n      id\n    });\n  }\n\n  blockUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/ban\", {\n      id\n    });\n  }\n\n  recoverUser({\n    id\n  }) {\n    return this.http.post(\"admin/trial/user/recover\", {\n      id\n    });\n  }\n\n  getTrialPosts() {\n    return this.http.get(\"admin/trial/post/list\");\n  }\n\n  deletePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/ban\", {\n      id\n    });\n  }\n\n  passPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/pass\", {\n      id\n    });\n  }\n\n  approvePost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/approve\", {\n      id\n    });\n  }\n\n  rejectPost({\n    id\n  }) {\n    return this.http.post(\"admin/trial/post/reject\", {\n      id\n    });\n  }\n\n  deletePostImage({\n    id,\n    url\n  }) {\n    return this.http.post(\"admin/trial/post/delete_image\", {\n      id,\n      url\n    });\n  }\n\n  getTrialImages() {\n    return this.http.get(\"admin/trial/image/list\");\n  }\n\n  deleteImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/ban\", {\n      id,\n      type\n    });\n  }\n\n  passImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectImage({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/image/reject\", {\n      id,\n      type\n    });\n  }\n\n  getTrialComments() {\n    return this.http.get(\"admin/trial/comment/list\");\n  }\n\n  passComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/pass\", {\n      id,\n      type\n    });\n  }\n\n  approveComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/approve\", {\n      id,\n      type\n    });\n  }\n\n  rejectComment({\n    id,\n    type,\n    parent_id\n  }) {\n    return this.http.post(\"admin/trial/comment/reject\", {\n      id,\n      type,\n      parent_id\n    });\n  }\n\n  batchDeleteComment({\n    user_id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_ban\", {\n      user_id,\n      type\n    });\n  }\n\n  deleteComment({\n    id,\n    type\n  }) {\n    return this.http.post(\"admin/trial/comment/ban\", {\n      id,\n      type\n    });\n  }\n\n  getTrialBangumis() {\n    return this.http.get(\"admin/trial/bangumi/list\");\n  }\n\n  passBangumi({\n    id\n  }) {\n    return this.http.post(\"admin/trial/bangumi/pass\", {\n      id\n    });\n  }\n\n  getUserCoinTransactions({\n    id,\n    to_page,\n    cur_page,\n    take\n  }) {\n    return this.http.post(\"admin/user/transactions\", {\n      id,\n      to_page,\n      cur_page,\n      take\n    });\n  }\n\n  withdrawal({\n    id,\n    money\n  }) {\n    return this.http.post(\"admin/user/withdrawal\", {\n      id,\n      money\n    });\n  }\n\n  getReportList() {\n    return this.http.get(\"admin/report/list\");\n  }\n\n  getReportItem({\n    tail\n  }) {\n    return this.http.get(\"admin/report/item\", {\n      params: {\n        tail\n      }\n    });\n  }\n\n  removeReport({\n    tail\n  }) {\n    return this.http.post(\"admin/report/remove\", {\n      tail\n    });\n  }\n\n  getAppVersions() {\n    return this.http.get(\"admin/app/version/list\");\n  }\n\n  getAppUpToken() {\n    return this.http.get(\"admin/app/version/uptoken\");\n  }\n\n  createAppVersion({\n    type,\n    version,\n    url\n  }) {\n    return this.http.post(\"admin/app/version/create\", {\n      type,\n      version,\n      url\n    });\n  }\n\n  deleteAppVersion({\n    type,\n    version\n  }) {\n    return this.http.post(\"admin/app/version/delete\", {\n      type,\n      version\n    });\n  }\n\n  toggleAppUpdate({\n    type,\n    version,\n    force\n  }) {\n    return this.http.post(\"admin/app/version/toggleForce\", {\n      type,\n      version,\n      force\n    });\n  }\n\n  getFriendLinks() {\n    return this.http.get(\"admin/web/friend_link/list\");\n  }\n\n  addFriendLink({\n    name,\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/append\", {\n      name,\n      link\n    });\n  }\n\n  delFriendLink({\n    link\n  }) {\n    return this.http.post(\"admin/web/friend_link/remove\", {\n      link\n    });\n  }\n\n  blockedIpList() {\n    return this.http.get(\"admin/ip_blocker/list\");\n  }\n\n  blockIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/block\", {\n      ip_address\n    });\n  }\n\n  recoverIpAddress({\n    ip_address\n  }) {\n    return this.http.post(\"admin/ip_blocker/recover\", {\n      ip_address\n    });\n  }\n\n  batchPassComment({\n    approve_arr,\n    pass_arr\n  }) {\n    return this.http.post(\"admin/trial/comment/batch_pass\", {\n      approve_arr,\n      pass_arr\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "80.server-bundle.js": "exports.ids = [80];\nexports.modules = {\n\n/***/ 407:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/503.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _03 = ({\n  name: \"Error503\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62fc7a92\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/503.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-503\"}},[_vm._ssrNode(\"<p>您访问的服务暂不可用</p><p>可以尝试加入我们的QQ群，将这个错误反馈给无能的站长，说不定他能修复呢</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_503 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/503.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4f4be4a0\"\nvar Component = normalizeComponent(\n  _03,\n  error_503,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_503 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "81.server-bundle.js": "exports.ids = [81];\nexports.modules = {\n\n/***/ 406:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/500.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _00 = ({\n  name: \"Error500\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b6e31ae\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/500.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-500\"}},[_vm._ssrNode(\"<p>您访问的页面出现了错误</p><p>可以尝试加入我们的QQ群，将这个错误反馈给无能的站长，说不定他能修复呢</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_500 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/500.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4f219e1d\"\nvar Component = normalizeComponent(\n  _00,\n  error_500,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_500 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "82.server-bundle.js": "exports.ids = [82];\nexports.modules = {\n\n/***/ 405:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/429.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _29 = ({\n  name: \"Error429\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-044040e6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/429.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-429\"}},[_vm._ssrNode(\"<p>您的访问频率太高了</p><p>请不要以超越凡人的速度来访问该网站，休息一下再来吧</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_429 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/429.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1e23e7a3\"\nvar Component = normalizeComponent(\n  _29,\n  error_429,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_429 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "83.server-bundle.js": "exports.ids = [83];\nexports.modules = {\n\n/***/ 404:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/423.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _23 = ({\n  name: \"Error423\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cc79ca7\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/423.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-423\"}},[_vm._ssrNode(\"<p>你访问的资源正在审核中，请不要重复发表相同内容</p><p>如果已经过了很久了它仍然在审核中，那么可以尝试加入我们的QQ群进行反馈</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_423 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/423.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1dcf5a9d\"\nvar Component = normalizeComponent(\n  _23,\n  error_423,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_423 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "84.server-bundle.js": "exports.ids = [84];\nexports.modules = {\n\n/***/ 403:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/404.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _04 = ({\n  name: \"Error404\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c860d2e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/404.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-404\"}},[_vm._ssrNode(\"<p>您查找的页面不存在</p><p>可能它从未出现过，也有可能是已经被删除</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_404 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/404.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1a73c0e0\"\nvar Component = normalizeComponent(\n  _04,\n  error_404,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_404 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "85.server-bundle.js": "exports.ids = [85];\nexports.modules = {\n\n/***/ 402:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/403.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _03 = ({\n  name: \"Error403\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24c6a236\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/403.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-403\"}},[_vm._ssrNode(\"<p>您没有足够的操作权限</p><p>可能您已经登录了，但没有权限；或者需要登录后再尝试</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_403 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/403.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1a65a95f\"\nvar Component = normalizeComponent(\n  _03,\n  error_403,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_403 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "86.server-bundle.js": "exports.ids = [86];\nexports.modules = {\n\n/***/ 401:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/401.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _01 = ({\n  name: \"Error401\",\n  methods: {\n    sign() {\n      this.$channel.$emit(\"sign-in\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a14094c6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/401.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-401\"}},[_vm._ssrNode(\"<p>继续操作前请先登录</p>\"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.sign}},[_vm._v(\"登录\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_401 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/401.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1a497a5d\"\nvar Component = normalizeComponent(\n  _01,\n  error_401,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_401 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "87.server-bundle.js": "exports.ids = [87];\nexports.modules = {\n\n/***/ 400:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/error/400.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var _00 = ({\n  name: \"Error400\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77f2969e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/error/400.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"error-400\"}},[_vm._ssrNode(\"<p>您发送的请求参数校验不通过</p><p>这代表着您访问的链接是错误的，您可以尝试修改参数</p>\"),_c('router-link',{attrs:{\"to\":\"/\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\"回首页\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var error_400 = (esExports);\n// CONCATENATED MODULE: ./src/views/error/400.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1a3b62dc\"\nvar Component = normalizeComponent(\n  _00,\n  error_400,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_error_400 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "88.server-bundle.js": "exports.ids = [88];\nexports.modules = {\n\n/***/ 431:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/cartoonRoleApi.js\nvar cartoonRoleApi = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/admin/views/trial/role.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var role = ({\n  data() {\n    return {\n      list: [],\n      loading: true\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      const api = new cartoonRoleApi[\"a\" /* default */](this);\n      api.trialList().then(data => {\n        this.list = data;\n        this.loading = false;\n      }).catch(err => {\n        this.$toast.error(err);\n        this.loading = false;\n      });\n    },\n\n    banRole(id, bangumi_id, index) {\n      const api = new cartoonRoleApi[\"a\" /* default */](this);\n      api.trialBan({\n        id,\n        bangumi_id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"role\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    },\n\n    passRole(id, index) {\n      const api = new cartoonRoleApi[\"a\" /* default */](this);\n      api.trialPass({\n        id\n      }).then(() => {\n        this.list.splice(index, 1);\n        this.$toast.success(\"操作成功\");\n        this.$channel.$emit(\"admin-trial-do\", {\n          type: \"role\"\n        });\n      }).catch(err => {\n        this.$toast.error(err);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72f43c77\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/trial/role.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-trial\"}},[_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":_vm.$alias.cartoonRole(scope.row.id),\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.passRole(scope.row.id, scope.$index)}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.banRole(scope.row.id, scope.row.bangumi_id, scope.$index)}}},[_vm._v(\"删除\")]),_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/role/edit/\" + (scope.row.id))}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"编辑\")])],1),_c('router-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":(\"/admin/user/show?id=\" + (scope.row.state))}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"查看变更人\")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var trial_role = (esExports);\n// CONCATENATED MODULE: ./src/admin/views/trial/role.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"9d8b8720\"\nvar Component = normalizeComponent(\n  role,\n  trial_role,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_trial_role = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "89.server-bundle.js": "exports.ids = [89];\nexports.modules = {\n\n/***/ 353:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"empty\",\n  props: [\"placeholder\"],\n\n  render(h) {\n    return h(\"div\", {\n      class: [\"empty-component-placeholder\"]\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "server-bundle.js": "module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \tvar installedChunks = {\n/******/ \t\t90: 0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] !== 0) {\n/******/ \t\t\tvar chunk = require(\"./\" + chunkId + \".server-bundle.js\");\n/******/ \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n/******/ \t\t\tfor(var moduleId in moreModules) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n/******/ \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n/******/ \t\t}\n/******/ \t\treturn Promise.resolve();\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"https://static.calibur.tv/www/\";\n/******/\n/******/ \t// uncatched error handler for webpack runtime\n/******/ \t__webpack_require__.oe = function(err) {\n/******/ \t\tprocess.nextTick(function() {\n/******/ \t\t\tthrow err; // catch this error by using System.import().catch()\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 23);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n\n/***/ 10:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  createQuestion({\n    title,\n    tags,\n    content,\n    images,\n    intro,\n    geetest\n  }) {\n    return this.http.post(\"question/qaq/create\", {\n      title,\n      tags,\n      content,\n      images,\n      intro,\n      geetest\n    });\n  }\n\n  getQuestionShow({\n    id\n  }) {\n    return this.http.get(`question/qaq/${id}/show`);\n  }\n\n  getAnswerShow({\n    id\n  }) {\n    return this.http.get(`question/soga/${id}/show`);\n  }\n\n  createAnswer({\n    question_id,\n    do_publish,\n    geetest,\n    source_url,\n    content,\n    intro\n  }) {\n    return this.http.post(\"question/soga/create\", {\n      question_id,\n      do_publish,\n      geetest,\n      source_url,\n      content,\n      intro\n    });\n  }\n\n  edit({\n    id\n  }) {\n    return this.http.get(`question/soga/${id}/resource`);\n  }\n\n  deleteAnswer({\n    id\n  }) {\n    return this.http.post(`question/soga/${id}/delete`);\n  }\n\n  updateAnswer({\n    question_id,\n    do_publish,\n    geetest,\n    source_url,\n    content,\n    intro,\n    id\n  }) {\n    return this.http.post(`question/soga/${id}/update`, {\n      question_id,\n      do_publish,\n      geetest,\n      source_url,\n      content,\n      intro\n    });\n  }\n\n  answerTrials() {\n    return this.http.get(\"admin/trial/answer/list\");\n  }\n\n  answerBan({\n    id\n  }) {\n    return this.http.post(\"admin/trial/answer/ban\", {\n      id\n    });\n  }\n\n  answerPass({\n    id\n  }) {\n    return this.http.post(\"admin/trial/answer/pass\", {\n      id\n    });\n  }\n\n  answerApprove({\n    id\n  }) {\n    return this.http.post(\"admin/trial/answer/approve\", {\n      id\n    });\n  }\n\n  answerReject({\n    id\n  }) {\n    return this.http.post(\"admin/trial/answer/reject\", {\n      id\n    });\n  }\n\n  questionTrials() {\n    return this.http.get(\"admin/trial/question/list\");\n  }\n\n  questionBan({\n    id\n  }) {\n    return this.http.post(\"admin/trial/question/ban\", {\n      id\n    });\n  }\n\n  questionPass({\n    id\n  }) {\n    return this.http.post(\"admin/trial/question/pass\", {\n      id\n    });\n  }\n\n  questionApprove({\n    id\n  }) {\n    return this.http.post(\"admin/trial/question/approve\", {\n      id\n    });\n  }\n\n  questionReject({\n    id\n  }) {\n    return this.http.post(\"admin/trial/question/reject\", {\n      id\n    });\n  }\n\n  drafts() {\n    return this.http.get(\"question/soga/drafts\");\n  }\n\n});\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  fetch({\n    sort,\n    type,\n    take,\n    page,\n    minId,\n    seenIds,\n    bangumiId,\n    userZone\n  }) {\n    return this.http.get(\"flow/list\", {\n      params: {\n        sort,\n        type,\n        take,\n        page,\n        minId,\n        seenIds,\n        bangumiId,\n        userZone\n      }\n    });\n  }\n\n  meta({\n    type\n  }) {\n    return this.http.get(\"flow/meta\", {\n      params: {\n        type\n      }\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  users({\n    type,\n    id,\n    last_id,\n    take,\n    model\n  }) {\n    return this.http.get(\"toggle/users\", {\n      params: {\n        id,\n        last_id,\n        take,\n        model,\n        type\n      }\n    });\n  }\n\n  like({\n    type,\n    id\n  }) {\n    return this.http.post(\"toggle/like\", {\n      type,\n      id\n    });\n  }\n\n  reward({\n    type,\n    id\n  }) {\n    return this.http.post(\"toggle/reward\", {\n      type,\n      id\n    });\n  }\n\n  follow({\n    type,\n    id\n  }) {\n    return this.http.post(\"toggle/follow\", {\n      type,\n      id\n    });\n  }\n\n  mark({\n    type,\n    id\n  }) {\n    return this.http.post(\"toggle/mark\", {\n      type,\n      id\n    });\n  }\n\n  vote({\n    type,\n    id,\n    is_agree\n  }) {\n    return this.http.post(\"toggle/vote\", {\n      type,\n      id,\n      is_agree\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  show(id) {\n    return this.http.get(`bangumi/${id}/show`);\n  }\n\n  follow(id) {\n    return this.http.post(`bangumi/${id}/toggleFollow`);\n  }\n\n  roles({\n    bangumiId,\n    seenIds,\n    all\n  }) {\n    return this.http.get(`bangumi/${bangumiId}/roles`, {\n      params: {\n        seenIds,\n        all\n      }\n    });\n  }\n\n  edit({\n    id,\n    name,\n    summary,\n    avatar,\n    banner,\n    tags\n  }) {\n    return this.http.post(`bangumi/${id}/edit`, {\n      name,\n      summary,\n      avatar,\n      banner,\n      tags\n    });\n  }\n\n  followers({\n    bangumiId,\n    page,\n    take\n  }) {\n    return this.http.get(`bangumi/${bangumiId}/followers`, {\n      params: {\n        page,\n        take\n      }\n    });\n  }\n\n  managers({\n    bangumiId\n  }) {\n    return this.http.get(`bangumi/${bangumiId}/managers`);\n  }\n\n  videos(id) {\n    return this.http.get(`bangumi/${id}/videos`);\n  }\n\n  posts({\n    id,\n    minId,\n    take\n  }) {\n    return this.http.get(`bangumi/${id}/posts/active`, {\n      params: {\n        minId,\n        take\n      }\n    });\n  }\n\n  cartoon({\n    bangumiId,\n    page,\n    take,\n    sort\n  }) {\n    return this.http.get(`bangumi/${bangumiId}/cartoon`, {\n      params: {\n        page,\n        take,\n        sort\n      }\n    });\n  }\n\n  released() {\n    return this.http.get(\"bangumi/released\");\n  }\n\n  timeline({\n    year,\n    take\n  }) {\n    return this.http.get(\"bangumi/timeline\", {\n      params: {\n        year,\n        take\n      }\n    });\n  }\n\n  tags() {\n    return this.http.get(\"bangumi/tags\");\n  }\n\n  category({\n    id,\n    page,\n    take\n  }) {\n    return this.http.get(\"bangumi/category\", {\n      params: {\n        id,\n        page,\n        take\n      }\n    });\n  }\n\n  getTopPosts({\n    id\n  }) {\n    return this.http.get(`bangumi/${id}/posts/top`);\n  }\n\n  recommended() {\n    return this.http.get(\"bangumi/recommended\");\n  }\n\n  all() {\n    return this.http.get(\"search/bangumis\");\n  }\n\n});\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  trending({\n    seenIds\n  }) {\n    return this.http.get(\"/trending/cartoon_role\", {\n      params: {\n        seenIds\n      }\n    });\n  }\n\n  star({\n    roleId\n  }) {\n    return this.http.post(`/cartoon_role/${roleId}/star`);\n  }\n\n  fans({\n    roleId,\n    seenIds,\n    minId,\n    sort\n  }) {\n    return this.http.get(`/cartoon_role/${roleId}/fans`, {\n      params: {\n        seenIds,\n        minId,\n        sort\n      }\n    });\n  }\n\n  create({\n    bangumi_id,\n    name,\n    intro,\n    avatar,\n    alias\n  }) {\n    return this.http.post(\"cartoon_role/manager/create\", {\n      bangumi_id,\n      name,\n      intro,\n      avatar,\n      alias\n    });\n  }\n\n  edit({\n    id,\n    bangumi_id,\n    name,\n    intro,\n    avatar,\n    alias\n  }) {\n    return this.http.post(\"cartoon_role/manager/edit\", {\n      id,\n      bangumi_id,\n      name,\n      intro,\n      avatar,\n      alias\n    });\n  }\n\n  show(id) {\n    return this.http.get(`/cartoon_role/${id}/show`);\n  }\n\n  images({\n    id,\n    seenIds,\n    take,\n    size,\n    tags,\n    creator,\n    sort\n  }) {\n    return this.http.get(`/cartoon_role/${id}/images`, {\n      params: {\n        seenIds,\n        take,\n        size,\n        tags,\n        creator,\n        sort\n      }\n    });\n  }\n\n  trialList() {\n    return this.http.get(\"admin/trial/cartoon_role/list\");\n  }\n\n  trialPass({\n    id\n  }) {\n    return this.http.post(\"admin/trial/cartoon_role/pass\", {\n      id\n    });\n  }\n\n  trialBan({\n    id,\n    bangumi_id\n  }) {\n    return this.http.post(\"admin/trial/cartoon_role/ban\", {\n      id,\n      bangumi_id\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/FollowButton.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var FollowButton = ({\n  name: \"FollowButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"bangumi\", \"user\", \"question\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    followed: {\n      required: true,\n      type: Boolean\n    },\n    classes: {\n      type: String,\n      default: \"\"\n    },\n    theme: {\n      type: String,\n      default: \"danger\"\n    },\n    round: {\n      type: Boolean,\n      default: true\n    },\n    followedText: {\n      type: String,\n      default: \"已关注\"\n    },\n    unFollowText: {\n      type: String,\n      default: \"关注\"\n    },\n    size: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n  methods: {\n    async toggleFollow() {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.type === \"user\" && this.id === this.currentUserId) {\n        this.$toast.error(\"不能关注你自己\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new toggleApi[\"a\" /* default */](this);\n\n      try {\n        const result = await api.follow({\n          type: this.type,\n          id: this.id\n        });\n        this.$emit(\"submit\", result);\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {}\n\n      this.loading = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3013acf6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/FollowButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-button',{staticClass:\"follow-button\",class:_vm.classes,attrs:{\"loading\":_vm.loading,\"plain\":_vm.followed,\"type\":_vm.theme,\"round\":_vm.round,\"size\":_vm.size},on:{\"click\":_vm.toggleFollow}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n  \"+_vm._s(_vm.followed ? _vm.followedText : _vm.unFollowText)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_FollowButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/FollowButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(45),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3598efa4\"\nvar Component = normalizeComponent(\n  FollowButton,\n  common_FollowButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_FollowButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/Input.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Input = ({\n  name: \"VSearchInput\",\n  props: {\n    placeholder: {\n      type: String,\n      default: \"搜索\"\n    },\n    autofocus: {\n      type: Boolean,\n      default: false\n    },\n    value: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"all\"\n    },\n    showSuggestion: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      word: this.value,\n      selectedType: this.type,\n      state: this.autofocus ? \"focus\" : \"blur\",\n      typing: false,\n      filteredSelect: [],\n      selectedIndex: -1\n    };\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.bangumi.all;\n    },\n\n    displaySuggestion() {\n      return this.state === \"focus\" && this.showSuggestion && this.word.length && this.typing && this.filteredSelect.length;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.word = val;\n      this.typing = true;\n      this.selectedIndex = -1;\n      this.handleEnter(val);\n    });\n    this.$watch(\"word\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"$route\", val => {\n      if (val.name === \"search-index\") {\n        this.word = val.query.q;\n        this.selectedType = val.query.type;\n        setTimeout(() => {\n          this.typing = false;\n        }, 0);\n      }\n    });\n  },\n\n  methods: {\n    submit() {\n      const q = this.selectedIndex !== -1 ? this.filteredSelect[this.selectedIndex].name : this.word;\n\n      if (!q) {\n        return;\n      }\n\n      this.$channel.$emit(\"search-action\", {\n        text: q,\n        type: this.selectedType\n      });\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: this.selectedType\n        }\n      });\n    },\n\n    clickToSearch(index) {\n      this.selectedIndex = index;\n      this.submit();\n    },\n\n    handleEnter(query) {\n      if (!query) {\n        this.filteredSelect = [];\n        return;\n      }\n\n      this.filteredSelect = this.bangumis.filter(option => {\n        return option.alias.indexOf(query) > -1 || option.name.indexOf(query) > -1;\n      });\n    },\n\n    handleInputFocus() {\n      this.state = \"focus\";\n      this.$emit(\"focus\");\n    },\n\n    handleInputBlur() {\n      this.state = \"blur\";\n      this.$emit(\"blur\");\n    },\n\n    handleKeyUp() {\n      if (!this.displaySuggestion) {\n        return;\n      }\n\n      if (this.selectedIndex < 1) {\n        return;\n      }\n\n      this.selectedIndex--;\n    },\n\n    handleKeyDown() {\n      if (!this.displaySuggestion) {\n        return;\n      }\n\n      if (this.selectedIndex === this.filteredSelect - 1) {\n        return;\n      }\n\n      this.selectedIndex++;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a2c9048\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/Input.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"search-input-wrap\",class:(\"search-\" + _vm.state),attrs:{\"action\":\"#\",\"method\":\"get\"},on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_vm._ssrNode(\"<button type=\\\"submit\\\" class=\\\"search-input-btn\\\">\",\"</button>\",[_vm._t(\"submit-btn\",[_vm._v(\"搜索\")])],2),_vm._ssrNode(\"<div class=\\\"search-input-text\\\"><input\"+(_vm._ssrAttr(\"placeholder\",_vm.placeholder))+(_vm._ssrAttr(\"autofocus\",_vm.autofocus))+\" type=\\\"text\\\" name=\\\"q\\\" aria-autocomplete=\\\"both\\\" aria-haspopup=\\\"false\\\" autocapitalize=\\\"off\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" role=\\\"combobox\\\" spellcheck=\\\"false\\\" maxlength=\\\"50\\\"\"+(_vm._ssrAttr(\"value\",(_vm.word)))+\" class=\\\"search-input\\\"></div><ul class=\\\"search-suggestions\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.displaySuggestion) ? '' : 'none' }))+\">\"+(_vm._ssrList((_vm.filteredSelect),function(item,index){return (\"<li\"+(_vm._ssrClass(null,{ active: index === _vm.selectedIndex }))+\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.avatar, { width: 60 })))+\"><span>\"+_vm._ssrEscape(_vm._s(item.name))+\"</span></li>\")}))+\"</ul>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_Input = (esExports);\n// CONCATENATED MODULE: ./src/components/search/Input.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(43),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"151fd76c\"\nvar Component = normalizeComponent(\n  Input,\n  search_Input,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_Input = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/SignUpForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SignUpForm = ({\n  name: \"SignUpForm\",\n  props: {\n    inviteCode: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    const validateNickname = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请先给自己起个名字\"));\n      }\n\n      const length = value.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n      if (length < 2) {\n        return callback(new Error(\"昵称至少是2个字符\"));\n      }\n\n      if (length > 14) {\n        return callback(new Error(\"昵称不能超过14个字符，1个汉字占2个字符\"));\n      }\n\n      if (!/^([\\u4e00-\\u9fa5]|[a-z0-9])+$/i.test(value)) {\n        return callback(new Error(\"昵称只能包含：中文、数字、字母\"));\n      }\n\n      callback();\n    };\n\n    const validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      if (!/^(0|86|17951)?(1)[0-9]{10}$/.test(value)) {\n        return callback(new Error(\"错误的手机号格式\"));\n      }\n\n      callback();\n    };\n\n    const validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      watchPwd: false,\n      form: {\n        access: \"\",\n        secret: \"\",\n        nickname: \"\",\n        authCode: \"\",\n        inviteCode: this.inviteCode\n      },\n      rule: {\n        nickname: [{\n          validator: validateNickname,\n          trigger: \"blur\"\n        }],\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n\n      /**\n       * 0：初始化，表单待校验\n       * ---- 如果表单校验失败，就一直在 0\n       * 1：表单校验成功，获取手机短信中...\n       * ---- 需要 loading\n       * ---- 发送手机验证码需要 geetest 认证\n       * ---- 如果 geetest 认证通过就请求发短信的接口\n       * ---- 如果 geetest 认证不通过或者加载失败，就会返回到 step 0\n       * ---- 请求发短信的接口如果失败，就会返回到 step 0\n       * ---- 请求发短信的接口如果成功，就会到 step 2\n       * ---- 30s 后会返回到 step 0，可以重新发短信\n       * 2：获取手机验证码成功，用户填写短信验证码\n       * ---- 如果用户填写的正确，就进入注册流程\n       * ---- 如果用户填写的失败或关闭填写框，就提示错误，继续在 step 2\n       * ---- 30s 后就会返回 step 0，用户可以重新发短信\n       * 3：注册中...\n       * ---- 需要 loading 和 disabled\n       * ---- 注册成功，需要刷新页面\n       * ---- 注册失败，可能是在 step 2 停留太久，短信验证码过期\n       * ---- 注册失败，可能是服务器挂了\n       * ---- 注册失败，可能是 unique 的信息被他人使用了\n       * ---- 无论如何，注册失败都返回 step 0\n       */\n      step: 0,\n      timeout: 0\n    };\n  },\n\n  computed: {\n    submitBtnText() {\n      if (this.step === 0) {\n        return \"注册\";\n      } else if (this.step === 1) {\n        return \"提交中...\";\n      } else if (this.step === 2) {\n        return \"短信已发送\";\n      } else if (this.step === 3) {\n        return \"注册中...\";\n      }\n    },\n\n    submitBtnLoading() {\n      return this.step === 1 || this.step === 3;\n    },\n\n    submitBtnDisabled() {\n      return this.timeout !== 0 && this.step === 0 || this.step === 3;\n    }\n\n  },\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.step === 0) {\n            this.getRegisterAuthCode();\n          }\n\n          if (this.step === 2) {\n            this.openConfirmModal();\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    getRegisterAuthCode() {\n      this.step = 1;\n      this.$captcha({\n        success: async ({\n          data\n        }) => {\n          const api = new userApi[\"a\" /* default */]();\n\n          try {\n            await api.sendMessage({\n              type: \"sign_up\",\n              phone_number: this.form.access,\n              geetest: data\n            });\n            this.step = 2;\n            this.openConfirmModal();\n          } catch (err) {\n            this.$toast.error(err);\n            this.step = 0;\n          } finally {\n            this.timeout = 60;\n            const timer = setInterval(() => {\n              if (! --this.timeout) {\n                this.step = 0;\n                clearInterval(timer);\n              }\n            }, 1000);\n          }\n        },\n        close: () => {\n          this.step = 0;\n        },\n        error: err => {\n          this.step = 0;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    openConfirmModal() {\n      this.$prompt(\"请输入收到的验证码\", \"短信已发送\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d{6}$/,\n        inputErrorMessage: \"验证码格式不正确\"\n      }).then(({\n        value\n      }) => {\n        this.form.authCode = value;\n        this.step = 3;\n        this.signUp();\n      }).catch(() => {});\n    },\n\n    signUp() {\n      const api = new userApi[\"a\" /* default */]();\n      api.register({\n        access: this.form.access,\n        secret: this.form.secret,\n        nickname: this.form.nickname,\n        authCode: this.form.authCode,\n        inviteCode: this.form.inviteCode\n      }).then(res => {\n        this.$toast.success(\"注册成功！\");\n        this.$cookie.set(\"JWT-TOKEN\", res);\n        window.location.reload();\n      }).catch(err => {\n        this.step = 0;\n        this.$toast.error(err);\n      });\n    },\n\n    showOAuth() {\n      this.$toast.info(\"暂未开放第三方注册\");\n    },\n\n    showLogin() {\n      this.$emit(\"to-login\");\n      this.$refs.form.resetFields();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3937d567\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/SignUpForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-up-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"昵称（2-14个字符组成，1个汉字占2个字符）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机（填写常用手机号，用于登录）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":_vm.watchPwd ? 'text' : 'password',\"placeholder\":\"密码（6-16个字符组成，区分大小写）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.secret\"}}),(_vm.form.secret.length > 5)?_c('button',{staticClass:\"watch-pwd\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.watchPwd = !_vm.watchPwd}}},[_c('i',{staticClass:\"iconfont icon-ai-eye\"})]):_vm._e()],1),(!_vm.inviteCode)?_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"邀请码（可为空）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.inviteCode),callback:function ($$v) {_vm.$set(_vm.form, \"inviteCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.inviteCode\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitBtnLoading,\"disabled\":_vm.submitBtnDisabled,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"\\n        \"+_vm._s(_vm.submitBtnText)+\"\\n        \"),(_vm.timeout)?[_vm._v(\"\\n          （\"+_vm._s(_vm.timeout)+\"s 后可重新获取）\\n        \")]:_vm._e()],2)],1)],1),_vm._ssrNode(((!_vm.inviteCode)?(\"<div class=\\\"others\\\"><a>社交账号注册</a><a>已有账号»</a></div>\"):\"<!---->\"))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_SignUpForm = (esExports);\n// CONCATENATED MODULE: ./src/components/user/SignUpForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(30),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1eb0c227\"\nvar Component = normalizeComponent(\n  SignUpForm,\n  user_SignUpForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_SignUpForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getShow(id) {\n    return this.http.get(`video/${id}/show?refer=web`);\n  }\n\n  playing(id) {\n    return this.http.post(\"video/playing\", {\n      id\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  create({\n    title,\n    bangumiId,\n    content,\n    images,\n    desc,\n    geetest,\n    is_creator\n  }) {\n    return this.http.post(\"post/create\", {\n      title,\n      bangumiId,\n      content,\n      images,\n      desc,\n      geetest,\n      is_creator\n    });\n  }\n\n  show({\n    id,\n    page,\n    take,\n    only,\n    replyId\n  }) {\n    return this.http.get(`post/${id}/show`, {\n      params: {\n        page,\n        take,\n        only,\n        replyId\n      }\n    });\n  }\n\n  reply({\n    postId,\n    images,\n    content,\n    geetest\n  }) {\n    return this.http.post(`post/${postId}/reply`, {\n      images,\n      content,\n      geetest\n    });\n  }\n\n  comment({\n    postId,\n    content,\n    targetUserId\n  }) {\n    return this.http.post(`post/${postId}/comment`, {\n      content,\n      targetUserId\n    });\n  }\n\n  comments({\n    postId,\n    page\n  }) {\n    return this.http.get(`post/${postId}/comments`, {\n      params: {\n        page\n      }\n    });\n  }\n\n  deletePost(id) {\n    return this.http.post(`post/${id}/deletePost`);\n  }\n\n  deleteComment({\n    postId,\n    commentId\n  }) {\n    return this.http.post(`post/${postId}/deleteComment`, {\n      commentId\n    });\n  }\n\n  setTop({\n    id\n  }) {\n    return this.http.post(\"post/manager/top/set\", {\n      id\n    });\n  }\n\n  removeTop({\n    id\n  }) {\n    return this.http.post(\"post/manager/top/remove\", {\n      id\n    });\n  }\n\n  setNice({\n    id\n  }) {\n    return this.http.post(\"post/manager/nice/set\", {\n      id\n    });\n  }\n\n  removeNice({\n    id\n  }) {\n    return this.http.post(\"post/manager/nice/remove\", {\n      id\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar listToStyles = __webpack_require__(26)\n\nmodule.exports = function (parentId, list, isProduction, context) {\n  if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n    context = __VUE_SSR_CONTEXT__\n  }\n  if (context) {\n    if (!context.hasOwnProperty('styles')) {\n      Object.defineProperty(context, 'styles', {\n        enumerable: true,\n        get: function() {\n          return renderStyles(context._styles)\n        }\n      })\n      // expose renderStyles for vue-server-renderer (vuejs/#6353)\n      context._renderStyles = renderStyles\n    }\n\n    var styles = context._styles || (context._styles = {})\n    list = listToStyles(parentId, list)\n    if (isProduction) {\n      addStyleProd(styles, list)\n    } else {\n      addStyleDev(styles, list)\n    }\n  }\n}\n\n// In production, render as few style tags as possible.\n// (mostly because IE9 has a limit on number of style tags)\nfunction addStyleProd (styles, list) {\n  for (var i = 0; i < list.length; i++) {\n    var parts = list[i].parts\n    for (var j = 0; j < parts.length; j++) {\n      var part = parts[j]\n      // group style tags by media types.\n      var id = part.media || 'default'\n      var style = styles[id]\n      if (style) {\n        if (style.ids.indexOf(part.id) < 0) {\n          style.ids.push(part.id)\n          style.css += '\\n' + part.css\n        }\n      } else {\n        styles[id] = {\n          ids: [part.id],\n          css: part.css,\n          media: part.media\n        }\n      }\n    }\n  }\n}\n\n// In dev we use individual style tag for each module for hot-reload\n// and source maps.\nfunction addStyleDev (styles, list) {\n  for (var i = 0; i < list.length; i++) {\n    var parts = list[i].parts\n    for (var j = 0; j < parts.length; j++) {\n      var part = parts[j]\n      styles[part.id] = {\n        ids: [part.id],\n        css: part.css,\n        media: part.media\n      }\n    }\n  }\n}\n\nfunction renderStyles (styles) {\n  var css = ''\n  for (var key in styles) {\n    var style = styles[key]\n    css += '<style data-vue-ssr-id=\"' + style.ids.join(' ') + '\"' +\n        (style.media ? ( ' media=\"' + style.media + '\"' ) : '') + '>' +\n        style.css + '</style>'\n  }\n  return css\n}\n\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserSex.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var UserSex = ({\n  name: \"UserSex\",\n  props: {\n    sex: {\n      type: String,\n      required: true\n    },\n    secret: {\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b07ba0b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserSex.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"user-sex\"},[_vm._ssrNode(((_vm.secret)?(\"<i class=\\\"iconfont icon-simi\\\" style=\\\"color: limegreen\\\"></i>\"):(_vm.sex === '未知')?(\"<i class=\\\"iconfont icon-wenhao\\\" style=\\\"color: gold\\\"></i>\"):(_vm.sex === '男')?(\"<i class=\\\"iconfont icon-nan\\\" style=\\\"color: deepskyblue\\\"></i>\"):(_vm.sex === '女')?(\"<i class=\\\"iconfont icon-nv\\\" style=\\\"color: hotpink\\\"></i>\"):(_vm.sex === '伪娘')?(\"<i class=\\\"iconfont icon-tijianxingbiefenxi\\\" style=\\\"color: mediumpurple\\\"></i>\"):(_vm.sex === '药娘')?(\"<i class=\\\"iconfont icon-xingbie\\\" style=\\\"color: #ff4d51;\\\"></i>\"):(_vm.sex === '扶她')?(\"<i class=\\\"iconfont icon-intersex\\\" style=\\\"color: silver\\\"></i>\"):\"<!---->\"))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_UserSex = (esExports);\n// CONCATENATED MODULE: ./src/components/user/UserSex.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4e04af20\"\nvar Component = normalizeComponent(\n  UserSex,\n  user_UserSex,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserSex = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui\");\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/History.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var History = ({\n  name: \"VSearchHistory\",\n\n  data() {\n    return {\n      cacheKey: \"search-history\",\n      list: [],\n      maxLen: 5\n    };\n  },\n\n  mounted() {\n    this.$channel.$on(\"search-action\", ({\n      text,\n      type\n    }) => {\n      this.set(text);\n    });\n    this.list = this.get();\n  },\n\n  methods: {\n    query(q) {\n      this.set(q);\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: \"all\"\n        }\n      });\n    },\n\n    set(q) {\n      setTimeout(() => {\n        const list = this.get();\n        const index = list.indexOf(q);\n\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n\n        list.unshift(q);\n\n        if (list.length > this.maxLen) {\n          list.pop();\n        }\n\n        this.list = list;\n\n        try {\n          localStorage.setItem(this.cacheKey, JSON.stringify(list));\n        } catch (e) {}\n      }, 0);\n    },\n\n    get() {\n      try {\n        return JSON.parse(localStorage.getItem(this.cacheKey)) || [];\n      } catch (e) {\n        return [];\n      }\n    },\n\n    clear() {\n      try {\n        localStorage.removeItem(this.cacheKey);\n      } catch (e) {}\n\n      this.list = [];\n    },\n\n    del(q) {\n      const list = this.get();\n      const index = list.indexOf(q);\n      list.splice(index, 1);\n\n      try {\n        localStorage.setItem(this.cacheKey, JSON.stringify(list));\n      } catch (e) {}\n\n      this.list.splice(index, 1);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ca6b80d6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/History.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list.length)?_c('div',{staticClass:\"search-history\"},[_c('v-hr',{attrs:{\"text\":\"历史搜索\"}}),_vm._ssrNode(\"<ul>\"+(_vm._ssrList((_vm.list),function(item,index){return (\"<li><a class=\\\"oneline\\\">\"+_vm._ssrEscape(_vm._s(item))+\"</a><span class=\\\"del\\\">×</span></li>\")}))+\"</ul>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_History = (esExports);\n// CONCATENATED MODULE: ./src/components/search/History.vue\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"9a96d694\"\nvar Component = normalizeComponent(\n  History,\n  search_History,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_History = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Notifications.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Notifications = ({\n  name: \"HeaderNotifications\",\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.users.notifications.list;\n    },\n\n    notFetch() {\n      return this.loading || this.$store.state.users.notifications.noMore;\n    },\n\n    notificationsCount() {\n      const result = this.$store.state.user.notification - this.$store.state.users.notifications.checked;\n      return result < 0 ? 0 : result;\n    }\n\n  },\n  methods: {\n    readMsg(id) {\n      this.$store.dispatch(\"users/readMessage\", {\n        id,\n        ctx: this\n      });\n    },\n\n    async loadMore() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        await this.$store.dispatch(\"users/getNotifications\", {\n          ctx: this,\n          init: false\n        });\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    readAll() {\n      if (!this.notificationsCount) {\n        return;\n      }\n\n      this.$store.dispatch(\"users/readAllMessage\", this);\n    },\n\n    handleMessageClick(evt, msg) {\n      if (/user/.test(evt.target.classList)) {\n        window.open(this.$alias.user(msg.user.zone));\n        return;\n      }\n\n      window.open(msg.link);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43e7a708\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Notifications.vue\nvar Notifications_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"header-notification-box\"}},[_vm._ssrNode(\"<div class=\\\"header\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"main\\\">\",\"</div>\",[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"notFetch\",\"infinite-scroll-distance\":\"10\"}},[_vm._ssrNode((_vm._ssrList((_vm.list),function(item){return (\"<li\"+(_vm._ssrClass(null,{ 'checked': item.checked }))+\"><div>\"+(_vm._s(item.message))+\"</div></li>\")})))])]),_vm._ssrNode(\"<div class=\\\"footer\\\"><button>全部设为已读</button></div>\")],2)}\nvar Notifications_staticRenderFns = []\nvar Notifications_esExports = { render: Notifications_render, staticRenderFns: Notifications_staticRenderFns }\n/* harmony default export */ var layouts_Notifications = (Notifications_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Notifications.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(51),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Notifications_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Notifications___vue_template_functional__ = false\n/* styles */\nvar Notifications___vue_styles__ = injectStyle\n/* scopeId */\nvar Notifications___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Notifications___vue_module_identifier__ = \"2dcda2a9\"\nvar Notifications_Component = Notifications_normalizeComponent(\n  Notifications,\n  layouts_Notifications,\n  Notifications___vue_template_functional__,\n  Notifications___vue_styles__,\n  Notifications___vue_scopeId__,\n  Notifications___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Notifications = (Notifications_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Header.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var Header = ({\n  name: \"VHeader\",\n  components: {\n    vSearch: Input[\"a\" /* default */],\n    vSearchHistory: components_search_History,\n    vNotifications: components_layouts_Notifications\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"banner\",\n      validator: val => ~[\"mask\", \"pure\", \"banner\"].indexOf(val)\n    },\n    banner: {\n      type: String,\n      default: \"\"\n    },\n    height: {\n      type: String,\n      default: \"200px\"\n    },\n    marginBottom: {\n      type: String,\n      default: \"35px\"\n    }\n  },\n\n  data() {\n    return {\n      scrollFlag: false,\n      showNotification: false\n    };\n  },\n\n  computed: {\n    defaultBanner() {\n      return this.$store.state.pageData ? this.$store.state.pageData.page_banner : \"\";\n    },\n\n    navClassList() {\n      const result = [this.$style.nav];\n      const type = this.type;\n\n      if (this.scrollFlag) {\n        result.push(this.$style.navFixed);\n        result.push(this.$style.navPure);\n        result.push(\"nav-pure\");\n      } else {\n        result.push(type === \"banner\" ? this.$style.navAbs : this.$style.navFixed);\n        result.push(type === \"mask\" ? this.$style.navMask : type === \"banner\" ? this.$style.navBanner : this.$style.navPure);\n        result.push(`nav-${type}`);\n      }\n\n      return result;\n    },\n\n    bannerImage() {\n      return {\n        backgroundImage: `url(${this.$resize(this.type === \"banner\" ? this.banner || this.defaultBanner : this.banner, {\n          width: 2048,\n          mode: 0\n        })})`\n      };\n    },\n\n    convertBannerHeight() {\n      const matched = this.height.match(/(\\d+)px$/);\n      return matched ? +matched[1] : +this.height.replace(\"%\", \"\");\n    },\n\n    normalBannerBgStyle() {\n      let height;\n      let top;\n      const compute = this.convertBannerHeight;\n\n      if (this.height.match(/(\\d+)px$/)) {\n        height = `${compute * 1.25}px`;\n        top = `${-compute * 0.125}px`;\n      } else {\n        height = `${compute * 1.25}%`;\n        top = `${-compute * 0.125}%`;\n      }\n\n      return Object.assign({}, this.bannerImage, {\n        height,\n        top\n      });\n    },\n\n    isLogin() {\n      return this.$store.state.login;\n    },\n\n    user() {\n      return this.$store.state.user;\n    },\n\n    notificationsCount() {\n      const result = this.user.notification - this.$store.state.users.notifications.checked;\n      return result < 0 ? 0 : result;\n    }\n\n  },\n\n  mounted() {\n    document.addEventListener(\"scroll\", this.handleScroll);\n    this.$channel.$on(\"page-switch\", () => {\n      this.resetNotification();\n    });\n  },\n\n  beforeDestroy() {\n    this.$channel.$off(\"page-switch\");\n    document.removeEventListener(\"scroll\", this.handleScroll);\n  },\n\n  methods: {\n    signIn() {\n      this.$channel.$emit(\"sign-in\");\n    },\n\n    signUp() {\n      this.$channel.$emit(\"sign-up\");\n    },\n\n    signOut() {\n      this.$cookie.remove(\"JWT-TOKEN\");\n      const api = new userApi[\"a\" /* default */](this);\n      api.logout();\n      window.location.href = \"/\";\n    },\n\n    handleScroll() {\n      this.scrollFlag = window.scrollY > (this.type === \"mask\" ? this.convertBannerHeight - 100 : this.convertBannerHeight);\n    },\n\n    resetNotification() {\n      if (!this.isLogin) {\n        return;\n      }\n\n      if (!this.showNotification) {\n        this.$store.commit(\"users/RESET_NOTIFICATION\");\n      }\n\n      this.$store.dispatch(\"getNotification\", this);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d76961a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Header.vue\nvar Header_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.header,attrs:{\"id\":\"page-header\"}},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.navClassList))+\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.text))+\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"container\",_vm.$style.left))+\">\",\"</div>\",[(_vm.type === 'pure' || _vm.scrollFlag)?_c('router-link',{class:_vm.$style.logo,attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":_vm.$resize('owner/logo-new/logo.png', { width: 80 })}})]):_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"首页\")])]),_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":\"/world\"}},[_c('span',[_vm._v(\"社区\")])]),_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":_vm.$alias.bangumiNews}},[_c('span',[_vm._v(\"番剧\")])]),_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":_vm.$alias.roleTrending}},[_c('span',[_vm._v(\"偶像\")])]),_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":\"/about/hello\"}},[_c('span',[_vm._v(\"功能简介\")])]),_c('router-link',{class:_vm.$style.navLink,attrs:{\"to\":\"/app/download\"}},[_c('span',[_vm._v(\"下载APP\")])])],1),_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.right))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"search-container\\\">\",\"</div>\",[_c('v-search',{attrs:{\"show-suggestion\":false}},[_c('i',{staticClass:\"iconfont icon-sousuo\",attrs:{\"slot\":\"submit-btn\"},slot:\"submit-btn\"})]),_c('v-search-history')],1),(_vm.isLogin)?[_c('el-popover',{ref:\"popover\",attrs:{\"width\":\"320\",\"placement\":\"bottom-end\",\"trigger\":\"click\"}},[(_vm.showNotification)?_c('v-notifications'):_c('span')],1),(_vm.notificationsCount)?_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.notificationsCount,\"max\":99}},[_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}],class:_vm.$style.navLink,on:{\"click\":function($event){_vm.showNotification = true}}},[_c('span',[_vm._v(\"消息\")])])]):_c('a',{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}],class:_vm.$style.navLink,on:{\"click\":function($event){_vm.showNotification = true}}},[_c('span',[_vm._v(\"消息\")])]),_c('el-dropdown',{class:_vm.$style.userSection,attrs:{\"placement\":\"bottom\"}},[_c('a',{staticClass:\"el-dropdown-link\",attrs:{\"href\":_vm.$alias.user(_vm.user.zone),\"target\":\"_blank\"}},[_c('v-img',{class:_vm.$style.avatar,attrs:{\"src\":_vm.user.avatar,\"size\":\"34\"}})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('button',{on:{\"click\":_vm.signOut}},[_vm._v(\"退出\")])])],1)],1)]:_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"sign-in\",[_vm.$style.signBtn, _vm.$style.signIn]))+\"><span>登录</span></button><button\"+(_vm._ssrClass(\"sign-up\",[_vm.$style.signBtn, _vm.$style.signUp]))+\"><span>注册</span></button>\")],2)]),_vm._ssrNode(((_vm.type !== 'pure' && !_vm.scrollFlag)?(((_vm.type === 'banner')?(\"<div\"+(_vm._ssrClass(null,_vm.$style.bannerBgContainer))+\"><div\"+(_vm._ssrClass(null,_vm.$style.bannerBgImg))+(_vm._ssrStyle(null,_vm.normalBannerBgStyle, null))+\"></div></div>\"):\"<!---->\")+((_vm.type === 'mask')?(\"<div\"+(_vm._ssrClass(null,_vm.$style.maskBg))+\"></div>\"):\"<!---->\")):\"<!---->\"))],2),(_vm.type === 'banner')?_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.normalBanner))+(_vm._ssrStyle(null,[ { height: _vm.height, marginBottom: _vm.marginBottom }, _vm.bannerImage ], null))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\"><div\"+(_vm._ssrClass(null,_vm.$style.calibur))+\"></div></div>\"),_vm._t(\"default\")],2):(_vm.type === 'mask')?[(_vm.banner)?_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.maskBanner))+(_vm._ssrStyle(null,{ height: _vm.height, marginBottom: _vm.marginBottom }, null))+\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.maskBannerImg))+(_vm._ssrStyle(null,[ { height: _vm.height }, _vm.bannerImage ], null))+\"></div>\"),_vm._t(\"default\")],2):_vm._e()]:_vm._ssrNode((\"<div\"+(_vm._ssrClass(null,_vm.$style.navShim))+(_vm._ssrStyle(null,{ marginBottom: _vm.marginBottom }, null))+\"></div>\"))],2)}\nvar Header_staticRenderFns = []\nvar Header_esExports = { render: Header_render, staticRenderFns: Header_staticRenderFns }\n/* harmony default export */ var layouts_Header = (Header_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Header.vue\nfunction Header_injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(47),i.__inject__&&i.__inject__(ssrContext),i)\n;(i=__webpack_require__(49),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Header_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Header___vue_template_functional__ = false\n/* styles */\nvar Header___vue_styles__ = Header_injectStyle\n/* scopeId */\nvar Header___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Header___vue_module_identifier__ = \"0d5f439c\"\nvar Header_Component = Header_normalizeComponent(\n  Header,\n  layouts_Header,\n  Header___vue_template_functional__,\n  Header___vue_styles__,\n  Header___vue_scopeId__,\n  Header___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Header = __webpack_exports__[\"a\"] = (Header_Component.exports);\n\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"vue\"\nvar external__vue_ = __webpack_require__(6);\nvar external__vue__default = /*#__PURE__*/__webpack_require__.n(external__vue_);\n\n// EXTERNAL MODULE: ./.env.js\nvar _env = __webpack_require__(9);\nvar _env_default = /*#__PURE__*/__webpack_require__.n(_env);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/SignInForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SignInForm = ({\n  name: \"SignInForm\",\n\n  data() {\n    const validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      callback();\n    };\n\n    const validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        access: \"\",\n        secret: \"\",\n        remember: true\n      },\n      rule: {\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n      loading: false,\n      watchPwd: false\n    };\n  },\n\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.login();\n        } else {\n          return false;\n        }\n      });\n    },\n\n    login() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      this.$captcha({\n        success: ({\n          data\n        }) => {\n          const api = new userApi[\"a\" /* default */]();\n          api.login({\n            access: this.form.access,\n            secret: this.form.secret,\n            remember: this.form.remember,\n            geetest: data\n          }).then(token => {\n            this.$cookie.set(\"JWT-TOKEN\", token, {\n              expires: this.form.remember ? 365 : 1\n            });\n            window.location.reload();\n          }).catch(err => {\n            this.$toast.error(err);\n            this.loading = false;\n          });\n        },\n        close: () => {\n          this.loading = false;\n        },\n        error: err => {\n          this.loading = false;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    showReset() {\n      this.$emit(\"to-reset\");\n      this.$refs.form.resetFields();\n    },\n\n    showRegister() {\n      this.$emit(\"to-register\");\n      this.$refs.form.resetFields();\n    },\n\n    showOAuth() {\n      this.$toast.info(\"暂未开放第三方登录\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6645c134\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/SignInForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in-form\"},[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/logo/calibur-tv-blue.png', { width: 600, height: 200 })))+\" alt=\\\"sign-logo\\\" class=\\\"logo\\\">\"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule}},[_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机（填写常用手机号，用于登录）\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":_vm.watchPwd ? 'text' : 'password',\"placeholder\":\"密码（6-16个字符组成，区分大小写）\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.secret\"}}),(_vm.form.secret.length > 5)?_c('button',{staticClass:\"watch-pwd\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.watchPwd = !_vm.watchPwd}}},[_c('i',{staticClass:\"iconfont icon-ai-eye\"})]):_vm._e()],1),_c('el-form-item',{staticClass:\"sign-in-opt\"},[_c('div',{staticClass:\"opt-container\"},[_c('el-checkbox',{model:{value:(_vm.form.remember),callback:function ($$v) {_vm.$set(_vm.form, \"remember\", $$v)},expression:\"form.remember\"}},[_vm._v(\"记住我\")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.showOAuth}},[_vm._v(\"社交账号登录\")])],1)]),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"登录\")])],1)],1),_vm._ssrNode(\"<div class=\\\"others\\\"><a>忘记密码?&gt;</a><a>点击注册»</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_SignInForm = (esExports);\n// CONCATENATED MODULE: ./src/components/user/SignInForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(27),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"fa92d29e\"\nvar Component = normalizeComponent(\n  SignInForm,\n  user_SignInForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_SignInForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/user/SignUpForm.vue + 2 modules\nvar SignUpForm = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/ResetPasswordForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ResetPasswordForm = ({\n  name: \"ResetPasswordForm\",\n\n  data() {\n    const validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      callback();\n    };\n\n    const validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        access: \"\",\n        secret: \"\",\n        authCode: \"\"\n      },\n      rule: {\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n      step: 0,\n      timeout: 0\n    };\n  },\n\n  computed: {\n    submitBtnText() {\n      if (this.step === 0) {\n        return \"立即重置\";\n      } else if (this.step === 1) {\n        return \"提交中...\";\n      } else if (this.step === 2) {\n        return \"短信已发送\";\n      } else if (this.step === 3) {\n        return \"已重置\";\n      }\n    },\n\n    submitBtnLoading() {\n      return this.step === 1 || this.step === 3;\n    },\n\n    submitBtnDisabled() {\n      return this.timeout !== 0 && this.step === 0 || this.step === 3;\n    }\n\n  },\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.step === 0) {\n            this.getResetAuthCode();\n          }\n\n          if (this.step === 2) {\n            this.openConfirmModal();\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    getResetAuthCode() {\n      this.step = 1;\n      this.$captcha({\n        success: async ({\n          data\n        }) => {\n          const api = new userApi[\"a\" /* default */]();\n\n          try {\n            await api.sendMessage({\n              type: \"forgot_password\",\n              phone_number: this.form.access,\n              geetest: data\n            });\n            this.step = 2;\n            this.openConfirmModal();\n          } catch (err) {\n            this.$toast.error(err);\n            this.step = 0;\n          } finally {\n            this.timeout = 60;\n            const timer = setInterval(() => {\n              if (! --this.timeout) {\n                this.step = 0;\n                clearInterval(timer);\n              }\n            }, 1000);\n          }\n        },\n        close: () => {\n          this.step = 0;\n        },\n        error: err => {\n          this.step = 0;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    openConfirmModal() {\n      this.$prompt(\"请输入收到的验证码\", \"短信已发送\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d{6}$/,\n        inputErrorMessage: \"验证码格式不正确\"\n      }).then(({\n        value\n      }) => {\n        this.form.authCode = value;\n        this.step = 3;\n        this.signReset();\n      }).catch(() => {});\n    },\n\n    async signReset() {\n      const api = new userApi[\"a\" /* default */]();\n\n      try {\n        const res = await api.resetPassword({\n          access: this.form.access,\n          authCode: this.form.authCode,\n          secret: this.form.secret\n        });\n        this.$toast.success(res);\n        this.showLogin();\n      } catch (err) {\n        this.$toast.error(err);\n      } finally {\n        this.step = 0;\n      }\n    },\n\n    showLogin() {\n      this.$emit(\"to-login\");\n      this.$refs.form.resetFields();\n    },\n\n    showRegister() {\n      this.$emit(\"to-register\");\n      this.$refs.form.resetFields();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43858a02\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/ResetPasswordForm.vue\nvar ResetPasswordForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reset-password-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule}},[_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机号\",\"auto-complete\":\"off\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\",\"auto-complete\":\"off\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.secret\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitBtnLoading,\"disabled\":_vm.submitBtnDisabled,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"\\n        \"+_vm._s(_vm.submitBtnText)+\"\\n        \"),(_vm.timeout)?[_vm._v(\"\\n          （\"+_vm._s(_vm.timeout)+\"s 后可重新获取）\\n        \")]:_vm._e()],2)],1)],1),_vm._ssrNode(\"<div class=\\\"others\\\"><a>返回登录&gt;</a><a>点击注册»</a></div>\")],2)}\nvar ResetPasswordForm_staticRenderFns = []\nvar ResetPasswordForm_esExports = { render: ResetPasswordForm_render, staticRenderFns: ResetPasswordForm_staticRenderFns }\n/* harmony default export */ var user_ResetPasswordForm = (ResetPasswordForm_esExports);\n// CONCATENATED MODULE: ./src/components/user/ResetPasswordForm.vue\nfunction ResetPasswordForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(32),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ResetPasswordForm_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ResetPasswordForm___vue_template_functional__ = false\n/* styles */\nvar ResetPasswordForm___vue_styles__ = ResetPasswordForm_injectStyle\n/* scopeId */\nvar ResetPasswordForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ResetPasswordForm___vue_module_identifier__ = \"cb645c9a\"\nvar ResetPasswordForm_Component = ResetPasswordForm_normalizeComponent(\n  ResetPasswordForm,\n  user_ResetPasswordForm,\n  ResetPasswordForm___vue_template_functional__,\n  ResetPasswordForm___vue_styles__,\n  ResetPasswordForm___vue_scopeId__,\n  ResetPasswordForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_ResetPasswordForm = (ResetPasswordForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/dialogs/FirstSignDialog.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var FirstSignDialog = ({\n  name: \"FirstSignDialog\",\n\n  data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    currentUser() {\n      return this.$store.state.user;\n    }\n\n  },\n\n  mounted() {\n    if (!this.$cookie.get(\"display-first-sign-dialog\")) {\n      try {\n        if (!localStorage.getItem(\"display-first-sign-dialog\")) {\n          this.show = true;\n          this.$cookie.set(\"display-first-sign-dialog\", 1, {\n            expires: 7\n          });\n          localStorage.setItem(\"display-first-sign-dialog\", 1);\n        }\n      } catch (e) {}\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6631a6b2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dialogs/FirstSignDialog.vue\nvar FirstSignDialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"close\":true,\"header\":false,\"footer\":false,\"click-close\":false,\"width\":\"756px\",\"height\":\"420px\",\"custom-class\":\"first-sign-dialog\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"欢迎来到「calibur.tv」\")]),_c('p',{staticClass:\"content\"},[_vm._v(\"\\n    使用你的“邀请码”带朋友一起来玩吧！\"),_c('br'),_vm._v(\"\\n    每邀请一个朋友加入，你就可以获得一枚金币\"),_c('br'),_vm._v(\"\\n    1金币=1人民币，满100就可以提现噢！\\n  \")]),_c('div',{staticClass:\"control\"},[_c('a',{attrs:{\"href\":\"/about/hello\"}},[_c('button',{staticStyle:{\"background-color\":\"#00ce72\"}},[_vm._v(\"\\n        查看金币规则\\n        \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])]),_c('a',{attrs:{\"href\":'/about/invite/' + _vm.currentUser.id,\"target\":\"_blank\"}},[_c('button',{staticStyle:{\"background-color\":\"gold\"}},[_vm._v(\"\\n        我的邀请码\\n        \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])])])])}\nvar FirstSignDialog_staticRenderFns = []\nvar FirstSignDialog_esExports = { render: FirstSignDialog_render, staticRenderFns: FirstSignDialog_staticRenderFns }\n/* harmony default export */ var dialogs_FirstSignDialog = (FirstSignDialog_esExports);\n// CONCATENATED MODULE: ./src/components/dialogs/FirstSignDialog.vue\nfunction FirstSignDialog_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(34),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar FirstSignDialog_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar FirstSignDialog___vue_template_functional__ = false\n/* styles */\nvar FirstSignDialog___vue_styles__ = FirstSignDialog_injectStyle\n/* scopeId */\nvar FirstSignDialog___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar FirstSignDialog___vue_module_identifier__ = \"26276dd8\"\nvar FirstSignDialog_Component = FirstSignDialog_normalizeComponent(\n  FirstSignDialog,\n  dialogs_FirstSignDialog,\n  FirstSignDialog___vue_template_functional__,\n  FirstSignDialog___vue_styles__,\n  FirstSignDialog___vue_scopeId__,\n  FirstSignDialog___vue_module_identifier__\n)\n\n/* harmony default export */ var components_dialogs_FirstSignDialog = (FirstSignDialog_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Sign.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var Sign = ({\n  name: \"VSign\",\n  components: {\n    SignUpForm: SignUpForm[\"a\" /* default */],\n    SignInForm: components_user_SignInForm,\n    ResetPasswordForm: components_user_ResetPasswordForm,\n    FirstSignDialog: components_dialogs_FirstSignDialog\n  },\n\n  data() {\n    return {\n      showModal: false,\n      showSignIn: false,\n      showSignUp: false,\n      showReset: false\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    }\n\n  },\n  watch: {\n    showModal(val) {\n      val ? this.$backdrop.show({\n        ele: this.$refs.wrap\n      }) : this.$backdrop.hide();\n    }\n\n  },\n\n  beforeMount() {\n    this.$channel.$on(\"sign-in\", () => {\n      this.showLogin();\n    });\n    this.$channel.$on(\"sign-up\", () => {\n      this.showRegister();\n    });\n  },\n\n  methods: {\n    showLogin() {\n      this.showReset = false;\n      this.showModal = true;\n      this.showSignIn = true;\n      this.showSignUp = false;\n    },\n\n    showRegister() {\n      this.showModal = true;\n      this.showSignUp = true;\n      this.showSignIn = false;\n    },\n\n    hiddenSign() {\n      this.showModal = false;\n      this.showSignIn = false;\n      this.showSignUp = false;\n      this.showReset = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d976d6b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Sign.vue\nvar Sign_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-container\"},[(_vm.isGuest)?_vm._ssrNode(\"<div id=\\\"space3D\\\"\"+(_vm._ssrClass(null,[ _vm.showModal ? 'space-enter' : 'space-leave' ]))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"sign-modal-wrap abs\\\">\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"sign-modal sign-in-modal\",{\n          'sign-in-init' : !_vm.showSignIn && !_vm.showSignUp,\n          'sign-in-show' : _vm.showSignIn && !_vm.showSignUp,\n          'sign-in-turn' : !_vm.showSignIn && _vm.showSignUp\n        }))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"form-container\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.showReset) ? '' : 'none' }))+\">\",\"</div>\",[_vm._ssrNode(\"<img src=\\\"https://image.calibur.tv/owner/sign-logo.jpeg?imageMogr2/auto-orient/strip\\\" alt=\\\"sign-logo\\\" class=\\\"logo\\\">\"),_c('reset-password-form',{on:{\"to-login\":function($event){_vm.showReset = false},\"to-register\":_vm.showRegister}})],2),_vm._ssrNode(\"<div class=\\\"form-container\\\"\"+(_vm._ssrStyle(null,null, { display: (!_vm.showReset) ? '' : 'none' }))+\">\",\"</div>\",[_c('sign-in-form',{on:{\"to-reset\":function($event){_vm.showReset = true},\"to-register\":_vm.showRegister}})],1)]),_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"sign-modal sign-up-modal\",{\n          'sign-up-init' : !_vm.showSignUp && !_vm.showSignIn,\n          'sign-up-show' : _vm.showSignUp && !_vm.showSignIn,\n          'sign-up-turn' : !_vm.showSignUp && _vm.showSignIn\n        }))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"slogan\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"form-container\\\">\",\"</div>\",[_c('sign-up-form',{on:{\"to-login\":_vm.showLogin}})],1)],2)])]):[_c('first-sign-dialog')]],2)}\nvar Sign_staticRenderFns = []\nvar Sign_esExports = { render: Sign_render, staticRenderFns: Sign_staticRenderFns }\n/* harmony default export */ var layouts_Sign = (Sign_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Sign.vue\nfunction Sign_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(24),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Sign_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Sign___vue_template_functional__ = false\n/* styles */\nvar Sign___vue_styles__ = Sign_injectStyle\n/* scopeId */\nvar Sign___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Sign___vue_module_identifier__ = \"83100ee8\"\nvar Sign_Component = Sign_normalizeComponent(\n  Sign,\n  layouts_Sign,\n  Sign___vue_template_functional__,\n  Sign___vue_styles__,\n  Sign___vue_scopeId__,\n  Sign___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Sign = (Sign_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/app.vue\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var selectortype_script_index_0_src_app = ({\n  name: \"Entry\",\n  head: {\n    title: \"天下漫友是一家\",\n    titleTemplate: titleChunk => {\n      return titleChunk ? `${titleChunk} - calibur` : \"天下漫友是一家 - calibur\";\n    },\n    htmlAttrs: {\n      lang: \"zh-CN\"\n    },\n    bodyAttrs: {\n      id: \"calibur-tv\"\n    },\n    meta: [{\n      charset: \"utf-8\"\n    }, {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,maximum-scale=1\"\n    }, {\n      \"http-equiv\": \"X-UA-Compatible\",\n      content: \"IE=edge,chrome=1\"\n    }, {\n      name: \"force-rendering\",\n      content: \"webkit\"\n    }, {\n      hid: \"description\",\n      name: \"description\",\n      content: \"一个兴趣使然的二次元综合网站\"\n    }, {\n      hid: \"keywords\",\n      name: \"keywords\",\n      content: \"calibur，咖喱棒, 动漫，ACG，二次元，视频，番剧，动画，新番，神作, 排行榜, 贴吧, 盖楼, 应援, 帖子, 在线\"\n    }],\n    link: [{\n      rel: \"shortcut icon\",\n      type: \"image/x-icon\",\n      href: `${_env[\"cdn\"].static}/favicon.ico`\n    }],\n    script: [_env[\"env\"] !== \"development\" ? {\n      innerHTML: _env[\"script\"].baiduStat,\n      type: \"text/javascript\",\n      async: true\n    } : \"\", _env[\"env\"] !== \"development\" ? {\n      innerHTML: _env[\"script\"].baiduPush,\n      type: \"text/javascript\",\n      async: true\n    } : \"\", {\n      src: \"//res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js\",\n      type: \"text/javascript\"\n    }].filter(_ => _),\n    __dangerouslyDisableSanitizers: \"script\"\n  },\n  components: {\n    vSign: components_layouts_Sign\n  },\n\n  created() {\n    if (this.$isServer) {\n      return;\n    }\n\n    M.vueHub = this.$channel;\n  },\n\n  mounted() {\n    this.$store.dispatch(\"bangumi/getAllBangumi\");\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ed66719\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app.vue\nvar app_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),_c('v-sign')],1)}\nvar app_staticRenderFns = []\nvar app_esExports = { render: app_render, staticRenderFns: app_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_app = (app_esExports);\n// CONCATENATED MODULE: ./src/app.vue\nvar app_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar app___vue_template_functional__ = false\n/* styles */\nvar app___vue_styles__ = null\n/* scopeId */\nvar app___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar app___vue_module_identifier__ = \"5ae7879e\"\nvar app_Component = app_normalizeComponent(\n  selectortype_script_index_0_src_app,\n  selectortype_template_index_0_src_app,\n  app___vue_template_functional__,\n  app___vue_styles__,\n  app___vue_scopeId__,\n  app___vue_module_identifier__\n)\n\n/* harmony default export */ var src_app = (app_Component.exports);\n\n// EXTERNAL MODULE: external \"vuex-router-sync\"\nvar external__vuex_router_sync_ = __webpack_require__(38);\nvar external__vuex_router_sync__default = /*#__PURE__*/__webpack_require__.n(external__vuex_router_sync_);\n\n// EXTERNAL MODULE: external \"vuex\"\nvar external__vuex_ = __webpack_require__(39);\nvar external__vuex__default = /*#__PURE__*/__webpack_require__.n(external__vuex_);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/store/homepage.js\n\n\nconst homepage_state = () => ({\n  banners: []\n});\n\nconst mutations = {\n  pushBanners(state, data) {\n    state.banners = data;\n  }\n\n};\nconst actions = {\n  async getBanners({\n    state,\n    commit\n  }, ctx) {\n    if (state.banners.length) {\n      return;\n    }\n\n    const api = new imageApi[\"a\" /* default */](ctx);\n    const data = await api.getBanners();\n    commit(\"pushBanners\", data);\n  }\n\n};\nconst getters = {};\n/* harmony default export */ var homepage = ({\n  namespaced: true,\n  state: homepage_state,\n  actions,\n  mutations,\n  getters\n});\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(5);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/api/bangumiApi.js\nvar bangumiApi = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/store/bangumi.js\n\n\n\n\nconst bangumi_state = () => ({\n  follows: null,\n  released: [],\n  timeline: {\n    data: [],\n    year: new Date().getFullYear(),\n    noMore: false\n  },\n  category: {\n    data: [],\n    noMore: false,\n    page: 0,\n    take: 10\n  },\n  tags: [],\n  info: null,\n  videos: {\n    id: 0,\n    list: [],\n    total: 0,\n    has_season: false,\n    fetched: false\n  },\n  cartoon: {\n    id: 0,\n    page: 0,\n    take: 12,\n    sort: \"desc\",\n    total: 0,\n    list: [],\n    noMore: false\n  },\n  topPosts: [],\n  topFetchedId: 0,\n  score: null,\n  scoreFetchId: 0,\n  recommended: [],\n  all: []\n});\n\nconst bangumi_mutations = {\n  SET_ALL_BANGUMI(state, data) {\n    state.all = data;\n  },\n\n  SET_RECOMMENDED(state, data) {\n    const shuffle = array => {\n      for (let i = array.length; i; i--) {\n        let j = Math.floor(Math.random() * i);\n        [array[i - 1], array[j]] = [array[j], array[i - 1]];\n      }\n\n      return array;\n    };\n\n    state.recommended = shuffle(data);\n  },\n\n  FETCH_SOCIAL_USERS(state, {\n    type,\n    result\n  }) {\n    const prefix = state.info[`${type}_users`];\n    state.info[`${type}_users`].list = prefix.list.concat(result.list);\n    state.info[`${type}_users`].total = result.total;\n    state.info[`${type}_users`].noMore = result.noMore;\n  },\n\n  SET_ROLES(state, {\n    data,\n    bangumiId\n  }) {\n    state.roles.data = state.roles.data.concat(data);\n    state.roles.noMore = true;\n    state.roles.id = bangumiId;\n  },\n\n  selectTag(state, index) {\n    const tag = state.tags[index];\n    tag.selected = !tag.selected;\n    state.tags[index] = tag;\n  },\n\n  SET_FOLLOW(state, {\n    result\n  }) {\n    state.info.followed = result;\n    result ? state.info.follow_users.total++ : state.info.follow_users.total--;\n  },\n\n  SET_RELEASED(state, data) {\n    state.released = data;\n  },\n\n  SET_TIMELINE(state, data) {\n    const temp = state.timeline;\n    state.timeline.data = temp.data.concat(data.list);\n    state.timeline.year = temp.year - 1;\n    state.timeline.noMore = data.noMore;\n  },\n\n  SET_TAGS(state, {\n    tags,\n    id\n  }) {\n    const ids = id ? id.split(\"-\") : undefined;\n    tags.forEach((tag, index) => {\n      tags[index].selected = ids ? ids.indexOf(tag.id.toString()) !== -1 : false;\n    });\n    state.tags = tags;\n  },\n\n  SET_CATEGORY(state, data) {\n    state.category.data = state.category.data.concat(data.list);\n    state.category.noMore = data.list.length < state.category.take;\n    state.category.page++;\n  },\n\n  SET_TOP_POST(state, {\n    data,\n    id\n  }) {\n    state.topPosts = data;\n    state.topFetchedId = id;\n  },\n\n  SET_BANGUMI_DATA(state, data) {\n    state.info = data;\n  },\n\n  SET_VIDEOS(state, {\n    data,\n    id\n  }) {\n    state.videos = {\n      id,\n      list: data.videos,\n      total: data.total,\n      has_season: data.has_season,\n      fetched: true\n    };\n  },\n\n  SET_BANGUMI_INFO(state, {\n    key,\n    value\n  }) {\n    state.info[key] = value;\n  },\n\n  SET_BANGUMI_CARTOON(state, {\n    data,\n    bangumiId\n  }) {\n    state.cartoon.id = bangumiId;\n    state.cartoon.list = state.cartoon.list.concat(data.list);\n    state.cartoon.noMore = data.noMore;\n    state.cartoon.total = data.total;\n    state.cartoon.page = state.cartoon.page + 1;\n  },\n\n  REVERSE_CARTOON(state, {\n    sort\n  }) {\n    state.cartoon.list = state.cartoon.list.reverse();\n    state.cartoon.sort = sort;\n  },\n\n  RESET_CARTOON(state, {\n    sort\n  }) {\n    state.cartoon = {\n      id: 0,\n      page: 0,\n      take: 12,\n      sort,\n      total: 0,\n      list: [],\n      noMore: false\n    };\n  },\n\n  SET_BANGUMI_SCORE(state, {\n    id,\n    data\n  }) {\n    state.score = data;\n    state.scoreFetchId = id;\n  }\n\n};\nconst bangumi_actions = {\n  async getAllBangumi({\n    state,\n    commit\n  }) {\n    let needLoad = true;\n\n    try {\n      const lastLoadAt = sessionStorage.getItem(\"all-bangumi-load-at\");\n\n      if (lastLoadAt && Date.now() - lastLoadAt < 3600000) {\n        const list = JSON.parse(sessionStorage.getItem(\"all-bangumi-list\"));\n        list && commit(\"SET_ALL_BANGUMI\", list);\n        needLoad = !(list && list.length);\n      }\n    } catch (e) {}\n\n    if (state.all.length || !needLoad) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */]();\n    const data = await api.all();\n    commit(\"SET_ALL_BANGUMI\", data);\n\n    try {\n      sessionStorage.setItem(\"all-bangumi-load-at\", Date.now());\n      sessionStorage.setItem(\"all-bangumi-list\", JSON.stringify(data));\n    } catch (e) {}\n  },\n\n  async getTags({\n    state,\n    commit\n  }, {\n    id,\n    ctx\n  }) {\n    if (state.tags.length) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const tags = await api.tags();\n    commit(\"SET_TAGS\", {\n      tags,\n      id\n    });\n  },\n\n  async getBangumi({\n    state,\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    if (state.info && state.info.id === +id) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.show(id);\n    commit(\"SET_BANGUMI_DATA\", data);\n  },\n\n  async getVideos({\n    state,\n    commit\n  }, {\n    id,\n    ctx\n  }) {\n    if (state.videos.id && state.videos.id === id) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.videos(id);\n    commit(\"SET_VIDEOS\", {\n      data,\n      id\n    });\n  },\n\n  async follow({\n    commit,\n    rootState\n  }, {\n    ctx,\n    id\n  }) {\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const followed = await api.follow(id);\n    commit(\"SET_FOLLOW\", {\n      followed,\n      self: {\n        id: rootState.user.id,\n        zone: rootState.user.zone,\n        avatar: rootState.user.avatar,\n        nickname: rootState.user.nickname\n      }\n    });\n    return followed;\n  },\n\n  async getReleased({\n    state,\n    commit\n  }, ctx) {\n    if (state.released.length) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.released();\n    commit(\"SET_RELEASED\", data);\n  },\n\n  async getTimeline({\n    state,\n    commit\n  }, ctx) {\n    if (state.timeline.noMore) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.timeline({\n      year: state.timeline.year,\n      take: state.timeline.take\n    });\n    commit(\"SET_TIMELINE\", data);\n  },\n\n  async getCategory({\n    state,\n    commit\n  }, {\n    id,\n    ctx\n  }) {\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.category({\n      id,\n      page: state.category.page,\n      take: state.category.take\n    });\n    commit(\"SET_CATEGORY\", data);\n  },\n\n  async getCartoons({\n    state,\n    commit\n  }, {\n    ctx,\n    bangumiId,\n    init = false\n  }) {\n    if (init && state.cartoon.id === bangumiId) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.cartoon({\n      bangumiId,\n      page: state.cartoon.page,\n      take: state.cartoon.take,\n      sort: state.cartoon.sort\n    });\n    data && commit(\"SET_BANGUMI_CARTOON\", {\n      data,\n      bangumiId\n    });\n  },\n\n  async changeCartoonSort({\n    state,\n    commit\n  }, {\n    ctx,\n    bangumiId,\n    sort\n  }) {\n    if (state.cartoon.noMore) {\n      commit(\"REVERSE_CARTOON\", {\n        sort\n      });\n      return;\n    }\n\n    commit(\"RESET_CARTOON\", {\n      sort\n    });\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.cartoon({\n      take: state.cartoon.take,\n      page: 0,\n      bangumiId,\n      sort\n    });\n    data && commit(\"SET_BANGUMI_CARTOON\", {\n      data,\n      bangumiId\n    });\n  },\n\n  async getTopPosts({\n    state,\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    if (state.topFetchedId === id) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](ctx);\n    const data = await api.getTopPosts({\n      id\n    });\n    commit(\"SET_TOP_POST\", {\n      data,\n      id\n    });\n  },\n\n  async getBangumiScore({\n    state,\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    if (state.score && state.scoreFetchId === id) {\n      return;\n    }\n\n    const api = new scoreApi[\"a\" /* default */](ctx);\n    const data = await api.bangumiScore(id);\n    commit(\"SET_BANGUMI_SCORE\", {\n      data,\n      id\n    });\n  },\n\n  async getRecommended({\n    state,\n    commit\n  }) {\n    if (state.recommended.length) {\n      return;\n    }\n\n    const api = new bangumiApi[\"a\" /* default */](this);\n    const data = await api.recommended();\n    commit(\"SET_RECOMMENDED\", data);\n  }\n\n};\nconst bangumi_getters = {};\n/* harmony default export */ var bangumi = ({\n  namespaced: true,\n  state: bangumi_state,\n  actions: bangumi_actions,\n  mutations: bangumi_mutations,\n  getters: bangumi_getters\n});\n// EXTERNAL MODULE: ./src/api/videoApi.js\nvar videoApi = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/store/video.js\n\n/* harmony default export */ var video = ({\n  namespaced: true,\n  state: () => ({\n    bangumi: null,\n    info: null,\n    list: null,\n    season: null,\n    blocked: false,\n    mustReward: false,\n    needMinLevel: 0\n  }),\n  mutations: {\n    FETCH_SOCIAL_USERS(state, {\n      type,\n      result\n    }) {\n      const prefix = state.info[`${type}_users`];\n      state.info[`${type}_users`].list = prefix.list.concat(result.list);\n      state.info[`${type}_users`].total = result.total;\n      state.info[`${type}_users`].noMore = result.noMore;\n    },\n\n    SOCIAL_TOGGLE(state, {\n      key,\n      value,\n      user\n    }) {\n      state.info[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n      if (value) {\n        state.info[`${key}_users`].total++;\n        state.info[`${key}_users`].list.unshift(user);\n      } else {\n        state.info[`${key}_users`].total--;\n        state.info[`${key}_users`].list.forEach((item, index) => {\n          if (item.id === user.id) {\n            state.info[`${key}_users`].list.splice(index, 1);\n          }\n        });\n      }\n    },\n\n    SET_DATA(state, data) {\n      state.list = data.list;\n      state.info = data.info;\n      state.bangumi = data.bangumi;\n      state.season = data.season;\n      state.blocked = data.ip_blocked;\n      state.mustReward = data.must_reward;\n      state.needMinLevel = data.need_min_level;\n    },\n\n    FOLLOW_ALBUM_BANGUMI(state, {\n      result\n    }) {\n      state.bangumi.followed = result;\n    }\n\n  },\n  actions: {\n    async getShow({\n      commit\n    }, {\n      id,\n      ctx\n    }) {\n      const api = new videoApi[\"a\" /* default */](ctx);\n      const data = await api.getShow(id);\n      commit(\"SET_DATA\", data);\n    }\n\n  },\n  getters: {}\n});\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/store/users.js\n\n\n\n\n\nconst users_state = () => ({\n  show: null,\n  bangumis: [],\n  fetchedBangumiZone: \"\",\n  notifications: {\n    checked: 0,\n    take: 10,\n    list: [],\n    noMore: false,\n    total: 0\n  },\n  drafts: {\n    score: {\n      list: [],\n      total: 0,\n      noMore: false,\n      loading: false\n    },\n    answer: {\n      list: [],\n      total: 0,\n      noMore: false,\n      loading: false\n    }\n  },\n  recommended: []\n});\n\nconst users_mutations = {\n  SET_RECOMMENDED_USERS(state, users) {\n    state.recommended = users;\n  },\n\n  SET_USER_INFO(state, data) {\n    state.show = data;\n  },\n\n  SET_SELF_INFO(state, {\n    key,\n    value\n  }) {\n    if (Array.isArray(state.self[key])) {\n      state.self[key] = state.self[key].concat(value);\n    } else if (typeof state.self[key] === \"object\") {\n      state.self[key] = Object.assign(state.self[key], value);\n    } else {\n      state.self[key] = value;\n    }\n  },\n\n  SET_USER_FOLLOW_BANGUMI(state, {\n    data,\n    zone\n  }) {\n    state.bangumis = data;\n    state.fetchedBangumiZone = zone;\n  },\n\n  SET_NOTIFICATIONS(state, data) {\n    state.notifications.list = state.notifications.list.concat(data.list);\n    state.notifications.total = data.total;\n    state.notifications.noMore = data.noMore;\n    state.notifications.checked = 0;\n  },\n\n  READ_NOTIFICATION(state, id) {\n    state.notifications.list.forEach((message, index) => {\n      if (message.id === id && !message.checked) {\n        state.notifications.list[index].checked = true;\n        state.notifications.checked++;\n      }\n    });\n  },\n\n  READ_ALL_NOTIFICATION(state) {\n    state.notifications.list.forEach((message, index) => {\n      state.notifications.list[index].checked = true;\n    });\n    state.notifications.checked = 88888888;\n  },\n\n  RESET_NOTIFICATION(state) {\n    state.notifications.total = 0;\n    state.notifications.list = [];\n    state.notifications.noMore = false;\n  },\n\n  SET_DRAFT_LOADING(state, type) {\n    state.drafts[type].loading = true;\n  },\n\n  SET_USER_DRAFT(state, {\n    data,\n    type\n  }) {\n    state.drafts[type].noMore = data.noMore;\n    state.drafts[type].loading = false;\n    state.drafts[type].total = data.total;\n    state.drafts[type].list = state.drafts[type].list.concat(data.list);\n  }\n\n};\nconst users_actions = {\n  async getUser({\n    state,\n    commit\n  }, {\n    ctx,\n    zone\n  }) {\n    if (state.show && state.show.zone === zone) {\n      return;\n    }\n\n    const api = new userApi[\"a\" /* default */](ctx);\n    const data = await api.getUserInfo({\n      zone\n    });\n    commit(\"SET_USER_INFO\", data);\n  },\n\n  async getFollowBangumis({\n    state,\n    commit\n  }, {\n    ctx,\n    zone\n  }) {\n    if (state.fetchedBangumiZone === zone) {\n      return state.bangumis;\n    }\n\n    const api = new userApi[\"a\" /* default */](ctx);\n    const data = await api.followBangumis(zone);\n    commit(\"SET_USER_FOLLOW_BANGUMI\", {\n      data,\n      zone\n    });\n    return data;\n  },\n\n  async daySign({\n    rootState\n  }, {\n    ctx\n  }) {\n    if (rootState.user.signed) {\n      return;\n    }\n\n    const api = new userApi[\"a\" /* default */](ctx);\n    return await api.daySign();\n  },\n\n  async getNotifications({\n    state,\n    commit\n  }, {\n    ctx,\n    init\n  }) {\n    const length = state.notifications.list.length;\n\n    if (init && length || state.notifications.noMore) {\n      return;\n    }\n\n    const api = new userApi[\"a\" /* default */](ctx);\n    const data = await api.getNotifications({\n      minId: length ? state.notifications.list[length - 1].id : null,\n      take: state.notifications.take\n    });\n    commit(\"SET_NOTIFICATIONS\", data);\n  },\n\n  async readMessage({\n    state,\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    let msg = null;\n    state.notifications.list.forEach(message => {\n      if (message.id === id && !message.checked) {\n        msg = message;\n      }\n    });\n\n    if (msg) {\n      const api = new userApi[\"a\" /* default */](ctx);\n      await api.readMessage(id);\n      commit(\"READ_NOTIFICATION\", id);\n    }\n  },\n\n  async readAllMessage({\n    commit\n  }, ctx) {\n    const api = new userApi[\"a\" /* default */](ctx);\n    await api.readAllMessage();\n    commit(\"READ_ALL_NOTIFICATION\");\n  },\n\n  async getUserDrafts({\n    state,\n    commit\n  }, {\n    type,\n    ctx\n  }) {\n    if (!state.drafts[type]) {\n      return;\n    }\n\n    if (state.drafts[type].noMore || state.drafts[type].loading) {\n      return;\n    }\n\n    let api;\n\n    if (type === \"score\") {\n      api = new scoreApi[\"a\" /* default */](ctx);\n    } else if (type === \"answer\") {\n      api = new questionApi[\"a\" /* default */](ctx);\n    }\n\n    commit(\"SET_DRAFT_LOADING\", type);\n    const data = await api.drafts();\n    commit(\"SET_USER_DRAFT\", {\n      data: {\n        list: data,\n        noMore: true,\n        total: 0\n      },\n      type\n    });\n  },\n\n  async getRecommended({\n    state,\n    commit\n  }) {\n    if (state.recommended.length) {\n      return;\n    }\n\n    const api = new userApi[\"a\" /* default */]();\n    const users = await api.recommended();\n    commit(\"SET_RECOMMENDED_USERS\", users);\n  }\n\n};\nconst users_getters = {};\n/* harmony default export */ var store_users = ({\n  namespaced: true,\n  state: users_state,\n  actions: users_actions,\n  mutations: users_mutations,\n  getters: users_getters\n});\n// CONCATENATED MODULE: ./src/store/image.js\n\n/* harmony default export */ var store_image = ({\n  namespaced: true,\n  state: () => ({\n    show: null,\n    users: {\n      list: [],\n      page: 0,\n      total: 0,\n      noMore: false\n    },\n    albums: []\n  }),\n  mutations: {\n    FETCH_SOCIAL_USERS(state, {\n      type,\n      result\n    }) {\n      const prefix = state.show[`${type}_users`];\n      state.show[`${type}_users`].list = prefix.list.concat(result.list);\n      state.show[`${type}_users`].total = result.total;\n      state.show[`${type}_users`].noMore = result.noMore;\n    },\n\n    SOCIAL_TOGGLE(state, {\n      key,\n      value,\n      user\n    }) {\n      state.show[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n      if (value) {\n        state.show[`${key}_users`].total++;\n        state.show[`${key}_users`].list.unshift(user);\n      } else {\n        state.show[`${key}_users`].total--;\n        state.show[`${key}_users`].list.forEach((item, index) => {\n          if (item.id === user.id) {\n            state.show[`${key}_users`].list.splice(index, 1);\n          }\n        });\n      }\n    },\n\n    SET_USER_IMAGES(state, data) {\n      state.users.list = state.users.list.concat(data.list);\n      state.users.noMore = data.noMore;\n      state.users.total = data.total;\n      state.users.page = state.users.page + 1;\n    },\n\n    SET_IMAGE_INFO(state, data) {\n      state.show = data;\n    },\n\n    SHOW_TOGGLE_LIKE(state, {\n      result\n    }) {\n      state.show.liked = result;\n    },\n\n    SHOW_FOLLOW_BANGUMI(state, {\n      result\n    }) {\n      state.show.bangumi.followed = result;\n    },\n\n    DELETE_ALBUM_IMAGE(state, {\n      index\n    }) {\n      state.show.images.splice(index, 1);\n      state.show.image_count--;\n    },\n\n    SORT_ALBUM_IMAGE(state, result) {\n      state.show.images = result;\n    },\n\n    SET_USER_IMAGE_ALBUMS(state, data) {\n      state.albums = data;\n    }\n\n  },\n  actions: {\n    async show({\n      commit\n    }, {\n      id,\n      ctx\n    }) {\n      const api = new imageApi[\"a\" /* default */](ctx);\n      const data = await api.show({\n        id\n      });\n      commit(\"SET_IMAGE_INFO\", data);\n    },\n\n    async users({\n      state,\n      commit\n    }, {\n      zone,\n      ctx\n    }) {\n      const api = new imageApi[\"a\" /* default */](ctx);\n      const data = await api.users({\n        zone,\n        page: state.users.page\n      });\n      commit(\"SET_USER_IMAGES\", data);\n    },\n\n    async userAlbum({\n      state,\n      commit\n    }, {\n      ctx\n    }) {\n      if (state.albums.length) {\n        return;\n      }\n\n      const api = new imageApi[\"a\" /* default */](ctx);\n      const data = await api.getUserAlbums();\n      commit(\"SET_USER_IMAGE_ALBUMS\", data);\n    },\n\n    async sortAlbumImage({\n      state,\n      commit\n    }, {\n      prev,\n      next,\n      ctx,\n      id\n    }) {\n      let imageArr = state.show.images.map(_ => _);\n      imageArr.splice(prev, 1, ...imageArr.splice(next, 1, imageArr[prev]));\n      const result = imageArr.map(_ => _.id).toString();\n      const api = new imageApi[\"a\" /* default */](ctx);\n      await api.sortAlbum({\n        id,\n        result\n      });\n      commit(\"SORT_ALBUM_IMAGE\", imageArr);\n    },\n\n    async deleteAlbumImage({\n      state,\n      commit\n    }, {\n      index,\n      ctx,\n      id\n    }) {\n      let idsArr = state.show.images.map(_ => _.id);\n      const imageId = idsArr.splice(index, 1)[0];\n      const api = new imageApi[\"a\" /* default */](ctx);\n      await api.deleteAlbumImage({\n        id,\n        result: idsArr.toString(),\n        imageId\n      });\n      commit(\"DELETE_ALBUM_IMAGE\", {\n        index\n      });\n    }\n\n  },\n  getters: {}\n});\n// EXTERNAL MODULE: ./src/api/postApi.js\nvar postApi = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/store/post.js\n\n\nconst post_state = () => ({\n  info: {\n    bangumi: null,\n    user: null,\n    post: null\n  }\n});\n\nconst post_mutations = {\n  FETCH_SOCIAL_USERS(state, {\n    type,\n    result\n  }) {\n    const prefix = state.info.post[`${type}_users`];\n    state.info.post[`${type}_users`].list = prefix.list.concat(result.list);\n    state.info.post[`${type}_users`].total = result.total;\n    state.info.post[`${type}_users`].noMore = result.noMore;\n  },\n\n  SOCIAL_TOGGLE(state, {\n    key,\n    value,\n    user\n  }) {\n    state.info.post[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.info.post[`${key}_users`].total++;\n      state.info.post[`${key}_users`].list.unshift(user);\n    } else {\n      state.info.post[`${key}_users`].total--;\n      state.info.post[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.info.post[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  SET_POST_INFO(state, data) {\n    state.info.bangumi = data.bangumi;\n    state.info.user = data.user;\n    state.info.post = data.post;\n  },\n\n  FOLLOW_BANGUMI(state, result) {\n    state.info.bangumi.followed = result;\n  }\n\n};\nconst post_actions = {\n  async getPost({\n    commit\n  }, {\n    id,\n    ctx,\n    only\n  }) {\n    const api = new postApi[\"a\" /* default */](ctx);\n    const data = await api.show({\n      id,\n      only\n    });\n    commit(\"SET_POST_INFO\", data);\n  },\n\n  async create({}, params) {\n    const api = new postApi[\"a\" /* default */](params.ctx);\n    return await api.create(params);\n  },\n\n  async deletePost({}, {\n    ctx,\n    id\n  }) {\n    const api = new postApi[\"a\" /* default */](ctx);\n    await api.deletePost(id);\n  }\n\n};\nconst post_getters = {};\n/* harmony default export */ var post = ({\n  namespaced: true,\n  state: post_state,\n  actions: post_actions,\n  mutations: post_mutations,\n  getters: post_getters\n});\n// EXTERNAL MODULE: external \"lodash/merge\"\nvar merge_ = __webpack_require__(40);\nvar merge__default = /*#__PURE__*/__webpack_require__.n(merge_);\n\n// EXTERNAL MODULE: ./src/api/flowApi.js\nvar flowApi = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/store/flow.js\n\n\n\nconst trendingFlowStore = {\n  bangumiId: 0,\n  userZone: \"\",\n  news: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  active: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  hot: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  meta: null\n};\n\nconst flow_state = () => ({\n  post: merge__default()({}, trendingFlowStore),\n  image: merge__default()({}, trendingFlowStore),\n  score: merge__default()({}, trendingFlowStore),\n  role: merge__default()({}, trendingFlowStore),\n  question: merge__default()({}, trendingFlowStore)\n});\n\nconst flow_mutations = {\n  SET_META(state, {\n    data,\n    type\n  }) {\n    state[type].meta = data;\n  },\n\n  RESET_STATE(state, {\n    type\n  }) {\n    state[type] = merge__default()({}, trendingFlowStore);\n  },\n\n  PUSH_STATE(state, {\n    data,\n    type,\n    sort,\n    bangumiId,\n    userZone,\n    refresh\n  }) {\n    const list = refresh ? data.list : state[type][sort].list.concat(data.list);\n    state[type][sort].list = list;\n    state[type][sort].total = data.total;\n    state[type][sort].noMore = data.noMore;\n    state[type][sort].nothing = !list.length;\n    state[type][sort].page = state[type][sort].page + 1;\n    state[type][sort].loading = false;\n    state[type].bangumiId = +bangumiId;\n    state[type].userZone = userZone;\n  },\n\n  SET_LOADING(state, {\n    type,\n    sort\n  }) {\n    state[type][sort].loading = true;\n  }\n\n};\nconst flow_actions = {\n  async getMeta({\n    commit\n  }, {\n    type\n  }) {\n    const api = new flowApi[\"a\" /* default */]();\n    const data = await api.meta({\n      type\n    });\n    commit(\"SET_META\", {\n      data,\n      type\n    });\n  },\n\n  async initData({\n    state,\n    commit\n  }, {\n    ctx,\n    sort,\n    type,\n    take = 10,\n    bangumiId = 0,\n    userZone = \"\",\n    refresh = false\n  }) {\n    if (+bangumiId !== state[type].bangumiId || userZone !== state[type].userZone || refresh) {\n      commit(\"RESET_STATE\", {\n        type\n      });\n    }\n\n    if (state[type][sort].list.length || state[type][sort].loading || state[type][sort].nothing) {\n      return;\n    }\n\n    commit(\"SET_LOADING\", {\n      type,\n      sort\n    });\n    let data;\n    const source = state[type][sort];\n    const list = source.list;\n    const api = new flowApi[\"a\" /* default */](ctx);\n\n    if (sort === \"news\") {\n      data = await api.fetch({\n        sort,\n        type,\n        take,\n        page: source.page,\n        seenIds: \"\",\n        minId: refresh ? 0 : list.length ? list[list.length - 1].id : 0,\n        bangumiId,\n        userZone\n      });\n    } else {\n      data = await api.fetch({\n        sort,\n        type,\n        take,\n        page: source.page,\n        minId: 0,\n        seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n        bangumiId,\n        userZone\n      });\n    }\n\n    commit(\"PUSH_STATE\", {\n      data,\n      type,\n      sort,\n      bangumiId,\n      userZone,\n      refresh\n    });\n  },\n\n  async getData({\n    state,\n    commit\n  }, {\n    ctx,\n    sort,\n    type,\n    take = 10,\n    bangumiId = 0,\n    userZone = \"\",\n    refresh = false\n  }) {\n    if (+bangumiId !== state[type].bangumiId || userZone !== state[type].userZone) {\n      commit(\"RESET_STATE\", {\n        type\n      });\n    }\n\n    if (state[type][sort].noMore && !refresh || state[type][sort].loading) {\n      return;\n    }\n\n    commit(\"SET_LOADING\", {\n      type,\n      sort\n    });\n    let data;\n    const source = state[type][sort];\n    const list = source.list;\n    const api = new flowApi[\"a\" /* default */](ctx);\n\n    if (sort === \"news\") {\n      data = await api.fetch({\n        sort,\n        type,\n        take,\n        page: source.page,\n        seenIds: \"\",\n        minId: refresh ? 0 : list.length ? list[list.length - 1].id : 0,\n        bangumiId,\n        userZone\n      });\n    } else {\n      data = await api.fetch({\n        sort,\n        type,\n        take,\n        page: source.page,\n        minId: 0,\n        seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n        bangumiId,\n        userZone\n      });\n    }\n\n    commit(\"PUSH_STATE\", {\n      data,\n      type,\n      sort,\n      bangumiId,\n      userZone,\n      refresh\n    });\n  }\n\n};\nconst flow_getters = {};\n/* harmony default export */ var flow = ({\n  namespaced: true,\n  state: flow_state,\n  actions: flow_actions,\n  mutations: flow_mutations,\n  getters: flow_getters\n});\n// EXTERNAL MODULE: ./src/api/_baseApi.js + 1 modules\nvar _baseApi = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/api/commentApi.js\n\n/* harmony default export */ var commentApi = (class extends _baseApi[\"a\" /* default */] {\n  getMainCommentList({\n    type,\n    id,\n    fetchId,\n    onlySeeMaster,\n    seeReplyId\n  }) {\n    return this.http.get(\"comment/main/list\", {\n      params: {\n        fetchId,\n        onlySeeMaster,\n        seeReplyId,\n        type,\n        id\n      }\n    });\n  }\n\n  getSubCommentList({\n    type,\n    id,\n    maxId\n  }) {\n    return this.http.get(\"comment/sub/list\", {\n      params: {\n        maxId,\n        type,\n        id\n      }\n    });\n  }\n\n  createMainComment({\n    type,\n    id,\n    content,\n    images\n  }) {\n    return this.http.post(\"comment/main/create\", {\n      content,\n      images,\n      type,\n      id\n    });\n  }\n\n  createSubComment({\n    type,\n    id,\n    content,\n    targetUserId\n  }) {\n    return this.http.post(\"comment/main/reply\", {\n      targetUserId,\n      content,\n      type,\n      id\n    });\n  }\n\n  deleteSubComment({\n    type,\n    id\n  }) {\n    return this.http.post(\"comment/sub/delete\", {\n      type,\n      id\n    });\n  }\n\n  deleteMainComment({\n    type,\n    id\n  }) {\n    return this.http.post(\"comment/main/delete\", {\n      type,\n      id\n    });\n  }\n\n  toggleLikeMainComment({\n    type,\n    id\n  }) {\n    return this.http.post(\"comment/main/toggleLike\", {\n      type,\n      id\n    });\n  }\n\n  toggleLikeSubComment({\n    type,\n    id\n  }) {\n    return this.http.post(\"comment/sub/toggleLike\", {\n      type,\n      id\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/comment.js\n\n\n\nconst comment_state = () => ({\n  type: \"\",\n  sort: \"desc\",\n  fetchId: 0,\n  list: [],\n  total: 0,\n  noMore: false,\n  submitting: false,\n  id: 0\n});\n\nconst comment_mutations = {\n  RESET_STATE(state, {\n    type\n  }) {\n    state.type = type;\n    state.sort = type === \"post\" ? \"asc\" : \"desc\";\n    state.fetchId = 0;\n    state.list = [];\n    state.total = 0;\n    state.noMore = false;\n    state.submitting = false;\n    state.id = 0;\n  },\n\n  INIT_FETCH_TYPE(state, {\n    type\n  }) {\n    state.type = type;\n\n    if (type === \"post\") {\n      state.sort = \"asc\";\n    }\n  },\n\n  SET_MAIN_COMMENTS(state, {\n    comments,\n    seeReplyId,\n    id\n  }) {\n    state.id = +id;\n\n    if (!comments.list.length) {\n      state.noMore = comments.noMore;\n      state.total = comments.total;\n      return;\n    }\n\n    const formatComments = comments.list.map(item => {\n      // 子评论的 key 是 comments，是个对象，有 list，noMore，total 三个 key\n      const childrenCommentList = item.comments.list;\n      const childrenCommentLength = childrenCommentList.length; // 在每个子评论对象里里维护一个 maxId，这里默认子评论是 id 增大排序的\n\n      const childrenCommentObj = Object.assign(item.comments, {\n        maxId: childrenCommentLength ? childrenCommentList[childrenCommentLength - 1].id : 0\n      });\n      return Object.assign(item, {\n        comments: childrenCommentObj\n      });\n    }); // 更新 fetchId，如果是第一页，并且有 seeReplyId，就比较麻烦\n\n    state.fetchId = formatComments[formatComments.length - 1].id;\n\n    if (!state.list.length && seeReplyId) {\n      state.fetchId = formatComments.map(_ => _.id).filter(_ => _ !== parseInt(seeReplyId, 10)).pop();\n    } // 操作主评论的 fetchId\n\n\n    const resIds = formatComments.map(_ => _.id);\n    const originList = state.list; // 对服务端进行一个校准\n\n    const hasNew = !!resIds.filter(_ => originList.map(_ => _.id).indexOf(_) === -1).length;\n    state.list = state.list.filter(_ => resIds.indexOf(_.id) === -1);\n    state.list = state.sort === \"asc\" ? state.list.concat(formatComments).sort((a, b) => a.id - b.id) : state.list.concat(formatComments).sort((a, b) => b.id - a.id);\n    state.noMore = hasNew ? comments.noMore : true;\n    state.total = hasNew ? comments.total : state.list.length;\n  },\n\n  SET_SUB_COMMENTS(state, {\n    comments,\n    id\n  }) {\n    let parentComment = null;\n    let parentIndex = 0;\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        parentComment = item;\n        parentIndex = index;\n      }\n    });\n\n    if (!parentComment) {\n      return;\n    } // 更新 maxId\n\n\n    state.list[parentIndex].comments.maxId = comments.list[comments.list.length - 1].id; // 返回的 ids\n\n    const resIds = comments.list.map(_ => _.id);\n    const parentCommentList = parentComment.comments.list; // 对服务端进行一个校准\n\n    const hasNew = !!resIds.filter(_ => parentCommentList.map(_ => _.id).indexOf(_) === -1).length;\n    state.list[parentIndex].comments.list = parentCommentList.filter(_ => resIds.indexOf(_.id) === -1);\n    state.list[parentIndex].comments.list = state.list[parentIndex].comments.list.concat(comments.list);\n    state.list[parentIndex].comments.noMore = hasNew ? comments.noMore : true;\n    state.list[parentIndex].comments.total = hasNew ? comments.total : state.list[parentIndex].comments.list.length;\n  },\n\n  CREATE_MAIN_COMMENT(state, comment) {\n    state.sort === \"asc\" ? state.list.push(comment) : state.list.unshift(comment);\n    state.total = state.total + 1;\n  },\n\n  CREATE_SUB_COMMENT(state, {\n    id,\n    comment\n  }) {\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        state.list[index].comments.list.push(comment);\n        state.list[index].comments.total = state.list[index].comments.total + 1;\n      }\n    });\n  },\n\n  SET_SUBMITTING(state, {\n    result\n  }) {\n    state.submitting = result;\n  },\n\n  DELETE_SUB_COMMENT(state, {\n    parentId,\n    id\n  }) {\n    state.list.forEach((parent, index) => {\n      if (parent.id === parentId) {\n        parent.comments.list.forEach((item, subIndex) => {\n          if (item.id === id) {\n            state.list[index].comments.list.splice(subIndex, 1);\n            state.list[index].comments.total = state.list[index].comments.total - 1;\n          }\n        });\n      }\n    });\n  },\n\n  DELETE_MAIN_COMMENT(state, {\n    id\n  }) {\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        state.list.splice(index, 1);\n        state.total = state.total - 1;\n      }\n    });\n  },\n\n  TOGGLE_LIKE_SUB_COMMENT(state, {\n    id,\n    parentId\n  }) {\n    state.list.forEach((parent, index) => {\n      if (parent.id === parentId) {\n        parent.comments.list.forEach((item, subIndex) => {\n          if (item.id === id) {\n            const result = !state.list[index].comments[subIndex].liked;\n            state.list[index].comments[subIndex].liked = result;\n            state.list[index].comments[subIndex].like_count = state.list[index].comments[subIndex].like_count + (result ? 1 : -1);\n          }\n        });\n      }\n    });\n  },\n\n  TOGGLE_LIKE_MAIN_COMMENT(state, {\n    id\n  }) {\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        const result = !state.list[index].liked;\n        state.list[index].liked = result;\n        state.list[index].like_count = state.list[index].like_count + (result ? 1 : -1);\n      }\n    });\n  }\n\n};\nconst comment_actions = {\n  async getMainComments({\n    state,\n    commit\n  }, {\n    ctx,\n    type,\n    id,\n    onlySeeMaster,\n    seeReplyId,\n    firstRequest\n  }) {\n    // 如果已经请求过数据了\n    if (state.type) {\n      // 如果这次和上一次的 type 相同\n      if (state.type === type) {\n        if (state.id !== +id) {\n          // 如果两个 id 不相同，重置 store\n          commit(\"RESET_STATE\", {\n            type\n          });\n        } else {\n          // 如果两个 id 相同\n          if (state.noMore) {\n            // 如果没有更多数据，return\n            return;\n          }\n\n          if (state.list.length && firstRequest) {\n            // 如果有更多数据，但只请求第一页，return\n            return;\n          }\n\n          if (firstRequest) {\n            // 如果没有更多数据，并且请求第一页，重置 store（因为已经请求过了）\n            commit(\"RESET_STATE\", {\n              type\n            });\n          }\n        }\n      } else {\n        // 如果两次请求的 type 不同，重置 store\n        commit(\"RESET_STATE\", {\n          type\n        });\n      }\n    } else {\n      // 如果没请求过数据，初始化 type\n      commit(\"INIT_FETCH_TYPE\", {\n        type\n      });\n    }\n\n    const api = new commentApi(ctx);\n    const comments = await api.getMainCommentList({\n      type,\n      id,\n      onlySeeMaster,\n      seeReplyId,\n      fetchId: state.fetchId\n    });\n    comments && commit(\"SET_MAIN_COMMENTS\", {\n      comments,\n      seeReplyId,\n      id\n    });\n  },\n\n  async getSubComments({\n    state,\n    commit\n  }, {\n    ctx,\n    type,\n    id\n  }) {\n    const store = state.list.filter(_ => _.id === id)[0].comments;\n\n    if (store.noMore) {\n      return;\n    }\n\n    const api = new commentApi(ctx);\n    const comments = await api.getSubCommentList({\n      type,\n      id,\n      maxId: store.maxId\n    });\n    commit(\"SET_SUB_COMMENTS\", {\n      comments,\n      id\n    });\n  },\n\n  async createMainComment({\n    commit\n  }, {\n    ctx,\n    images,\n    content,\n    type,\n    id\n  }) {\n    const api = new commentApi(ctx);\n    const result = await api.createMainComment({\n      type,\n      id,\n      content,\n      images\n    });\n    commit(\"CREATE_MAIN_COMMENT\", result.data);\n    return result;\n  },\n\n  async createSubComment({\n    commit\n  }, {\n    ctx,\n    id,\n    type,\n    content,\n    targetUserId\n  }) {\n    const api = new commentApi(ctx);\n    const result = await api.createSubComment({\n      id,\n      type,\n      content,\n      targetUserId\n    });\n    commit(\"CREATE_SUB_COMMENT\", {\n      id,\n      comment: result.data\n    });\n    return result;\n  },\n\n  async deleteSubComment({\n    commit\n  }, {\n    ctx,\n    id,\n    type,\n    parentId\n  }) {\n    const api = new commentApi(ctx);\n    await api.deleteSubComment({\n      id,\n      type\n    });\n    commit(\"DELETE_SUB_COMMENT\", {\n      parentId,\n      id\n    });\n  },\n\n  async deleteMainComment({\n    commit\n  }, {\n    ctx,\n    id,\n    type\n  }) {\n    const api = new commentApi(ctx);\n    await api.deleteMainComment({\n      id,\n      type\n    });\n    commit(\"DELETE_MAIN_COMMENT\", {\n      id\n    });\n  },\n\n  async toggleLikeSubComment({\n    commit\n  }, {\n    ctx,\n    type,\n    id,\n    parentId\n  }) {\n    const api = new commentApi(ctx);\n    commit(\"TOGGLE_LIKE_SUB_COMMENT\", {\n      id,\n      parentId\n    });\n    await api.toggleLikeSubComment({\n      type,\n      id\n    });\n  },\n\n  async toggleLikeMainComment({\n    commit\n  }, {\n    ctx,\n    type,\n    id\n  }) {\n    const api = new commentApi(ctx);\n    commit(\"TOGGLE_LIKE_MAIN_COMMENT\", {\n      id\n    });\n    await api.toggleLikeMainComment({\n      type,\n      id\n    });\n  }\n\n};\nconst comment_getters = {};\n/* harmony default export */ var comment = ({\n  namespaced: true,\n  state: comment_state,\n  actions: comment_actions,\n  mutations: comment_mutations,\n  getters: comment_getters\n});\n// CONCATENATED MODULE: ./src/api/searchApi.js\n\n/* harmony default export */ var searchApi = (class extends _baseApi[\"a\" /* default */] {\n  index(q) {\n    return this.http.get(\"search/index\", {\n      params: q\n    });\n  }\n\n  v2({\n    q,\n    type,\n    page\n  }) {\n    return this.http.get(\"search/new\", {\n      params: {\n        q,\n        type,\n        page\n      }\n    });\n  }\n\n  bangumis() {\n    return this.http.get(\"search/bangumis\");\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/search.js\n\nconst tabs = {\n  all: \"综合\",\n  bangumi: \"番剧\",\n  video: \"视频\",\n  post: \"帖子\",\n  score: \"漫评\",\n  role: \"偶像\",\n  user: \"用户\" // image: \"相册\",\n\n};\n\nconst search_state = () => ({\n  tabs,\n  lastSearchKeywords: \"\",\n  resource: Object.assign({}, ...Object.keys(tabs).map(_ => ({\n    [_]: {\n      list: [],\n      page: 0,\n      total: 0,\n      noMore: false,\n      loading: false\n    }\n  }))),\n  bangumis: []\n});\n\nconst search_mutations = {\n  RESET_DATA(state) {\n    state.lastSearchKeywords = \"\";\n    state.resource = Object.assign({}, ...Object.keys(tabs).map(_ => ({\n      [_]: {\n        list: [],\n        page: 0,\n        total: 0,\n        noMore: false,\n        loading: false\n      }\n    })));\n  },\n\n  SET_LOADING(state, {\n    type,\n    value\n  }) {\n    state.resource[type].loading = value;\n  },\n\n  SET_RESOURCE(state, {\n    type,\n    q,\n    data\n  }) {\n    state.lastSearchKeywords = q;\n    state.resource[type].list = state.resource[type].list.concat(data.list);\n    state.resource[type].page = state.resource[type].page + 1;\n    state.resource[type].noMore = data.noMore;\n    state.resource[type].total = data.total;\n    state.resource[type].loading = false;\n  },\n\n  SET_BANGUMIS(state, data) {\n    state.bangumis = data;\n  }\n\n};\nconst search_actions = {\n  async fetchData({\n    state,\n    commit\n  }, {\n    q,\n    type,\n    ctx\n  }) {\n    if (!q) {\n      return;\n    }\n\n    if (state.lastSearchKeywords && state.lastSearchKeywords !== q) {\n      commit(\"RESET_DATA\");\n    }\n\n    const resource = state.resource[type];\n\n    if (resource.list.length || resource.noMore || resource.loading) {\n      return;\n    }\n\n    commit(\"SET_LOADING\", {\n      type,\n      value: true\n    });\n    const api = new searchApi(ctx);\n    const data = await api.v2({\n      q,\n      type,\n      page: resource.page\n    });\n    commit(\"SET_RESOURCE\", {\n      q,\n      type,\n      data\n    });\n  },\n\n  async fetchMore({\n    state,\n    commit\n  }, {\n    type,\n    ctx\n  }) {\n    const q = state.lastSearchKeywords;\n\n    if (!q) {\n      return;\n    }\n\n    const resource = state.resource[type];\n\n    if (resource.noMore || resource.loading) {\n      return;\n    }\n\n    commit(\"SET_LOADING\", {\n      type,\n      value: true\n    });\n    const api = new searchApi(ctx);\n    const data = await api.v2({\n      q,\n      type,\n      page: resource.page\n    });\n    commit(\"SET_RESOURCE\", {\n      q,\n      type,\n      data\n    });\n  },\n\n  async fetchBangumis({\n    state,\n    commit\n  }) {\n    if (state.bangumis.length) {\n      return;\n    }\n\n    const api = new searchApi();\n    const data = await api.bangumis();\n    commit(\"SET_BANGUMIS\", data);\n  }\n\n};\nconst search_getters = {};\n/* harmony default export */ var search = ({\n  namespaced: true,\n  state: search_state,\n  actions: search_actions,\n  mutations: search_mutations,\n  getters: search_getters\n});\n// CONCATENATED MODULE: ./src/store/admin.js\nconst admin_state = () => ({\n  sidebar: {\n    opened: true,\n    withoutAnimation: false\n  },\n  search: {\n    bangumis: []\n  },\n  device: \"desktop\"\n});\n\nconst admin_mutations = {\n  TOGGLE_SIDEBAR: state => {\n    if (state.sidebar.opened) {// Cookies.set('sidebarStatus', 1)\n    } else {// Cookies.set('sidebarStatus', 0)\n      }\n\n    state.sidebar.opened = !state.sidebar.opened;\n    state.sidebar.withoutAnimation = false;\n  },\n  CLOSE_SIDEBAR: (state, withoutAnimation) => {\n    // Cookies.set('sidebarStatus', 1)\n    state.sidebar.opened = false;\n    state.sidebar.withoutAnimation = withoutAnimation;\n  }\n};\nconst admin_actions = {\n  ToggleSideBar: ({\n    commit\n  }) => {\n    commit(\"TOGGLE_SIDEBAR\");\n  },\n\n  CloseSideBar({\n    commit\n  }, {\n    withoutAnimation\n  }) {\n    commit(\"CLOSE_SIDEBAR\", withoutAnimation);\n  }\n\n};\nconst admin_getters = {};\n/* harmony default export */ var store_admin = ({\n  namespaced: true,\n  state: admin_state,\n  actions: admin_actions,\n  mutations: admin_mutations,\n  getters: admin_getters\n});\n// CONCATENATED MODULE: ./src/store/score.js\n\n\nconst score_state = () => ({\n  show: null\n});\n\nconst score_mutations = {\n  FETCH_SOCIAL_USERS(state, {\n    type,\n    result\n  }) {\n    const prefix = state.show[`${type}_users`];\n    state.show[`${type}_users`].list = prefix.list.concat(result.list);\n    state.show[`${type}_users`].total = result.total;\n    state.show[`${type}_users`].noMore = result.noMore;\n  },\n\n  SOCIAL_TOGGLE(state, {\n    key,\n    value,\n    user\n  }) {\n    state.show[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.show[`${key}_users`].total++;\n      state.show[`${key}_users`].list.unshift(user);\n    } else {\n      state.show[`${key}_users`].total--;\n      state.show[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.show[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  SET_SHOW(state, data) {\n    state.show = data;\n  },\n\n  FOLLOW_BANGUMI(state, result) {\n    state.show.bangumi.followed = result;\n  },\n\n  LIKE_SCORE(state, result) {\n    state.show.liked = result;\n    state.show.like_count = result ? state.show.like_count + 1 : state.show.like_count - 1;\n  }\n\n};\nconst score_actions = {\n  async getShow({\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    const api = new scoreApi[\"a\" /* default */](ctx);\n    const data = await api.show({\n      id\n    });\n    commit(\"SET_SHOW\", data);\n  }\n\n};\nconst score_getters = {};\n/* harmony default export */ var score = ({\n  namespaced: true,\n  state: score_state,\n  actions: score_actions,\n  mutations: score_mutations,\n  getters: score_getters\n});\n// CONCATENATED MODULE: ./src/store/editor.js\nconst templates = {\n  img: {\n    type: \"img\",\n    url: \"\",\n    width: 0,\n    height: 0,\n    mime: \"\",\n    text: \"\"\n  },\n  txt: {\n    type: \"txt\",\n    text: \"\"\n  }\n};\n\nconst editor_state = () => ({\n  resource: null,\n  selectedIndex: 0,\n  sections: [Object.assign({}, templates.txt, {\n    id: 0\n  }), Object.assign({}, templates.img, {\n    id: 1\n  })]\n});\n\nconst editor_mutations = {\n  SWITCH_SECTION(state, {\n    index\n  }) {\n    state.selectedIndex = index;\n  },\n\n  APPEND_SECTION(state, {\n    type,\n    index\n  }) {\n    const temp = templates[type];\n    const template = {\n      id: `${state.sections.length}-${Date.now()}`\n    };\n    Object.keys(temp).forEach(key => {\n      template[key] = temp[key];\n    });\n    const targetIndex = index + 1;\n    state.sections.splice(targetIndex, 0, template);\n    state.selectedIndex = targetIndex;\n  },\n\n  UPDATE_SECTION_TEXT(state, {\n    value\n  }) {\n    state.sections[state.selectedIndex].text = value;\n  },\n\n  UPDATE_SECTION_IMAGE(state, {\n    url,\n    width,\n    height,\n    size,\n    mime\n  }) {\n    state.sections[state.selectedIndex].url = url;\n    state.sections[state.selectedIndex].width = width;\n    state.sections[state.selectedIndex].height = height;\n    state.sections[state.selectedIndex].mime = mime;\n    state.sections[state.selectedIndex].size = size;\n  },\n\n  DELETE_SECTION(state, {\n    index\n  }) {\n    state.sections.splice(index, 1);\n    state.selectedIndex = index === 0 ? 0 : index - 1;\n  },\n\n  SORT_SECTION(state, {\n    index\n  }) {\n    state.sections.splice(index - 1, 1, ...state.sections.splice(index, 1, state.sections[index - 1]));\n  },\n\n  INIT_SECTION(state, data) {\n    const sections = [];\n    data[\"content\"].forEach((section, index) => {\n      section.id = `${index}-${Date.now()}`;\n      sections.push(section);\n    });\n    state.sections = sections;\n    state.resource = data;\n  }\n\n};\nconst editor_actions = {\n  async getData({\n    commit\n  }, {\n    api,\n    id\n  }) {\n    const data = await api.edit({\n      id\n    });\n    commit(\"INIT_SECTION\", data);\n  }\n\n};\nconst editor_getters = {};\n/* harmony default export */ var editor = ({\n  namespaced: true,\n  state: editor_state,\n  actions: editor_actions,\n  mutations: editor_mutations,\n  getters: editor_getters\n});\n// EXTERNAL MODULE: ./src/api/cartoonRoleApi.js\nvar cartoonRoleApi = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/store/cartoonRole.js\n\n\n/* harmony default export */ var cartoonRole = ({\n  namespaced: true,\n  state: () => ({\n    fans: {\n      new: {\n        data: [],\n        total: 0,\n        noMore: false\n      },\n      hot: {\n        data: [],\n        total: 0,\n        noMore: false\n      }\n    },\n    info: {\n      data: {},\n      bangumi: {}\n    }\n  }),\n  mutations: {\n    ADD_ROLE_STATE(state, {\n      hasStar,\n      user\n    }) {\n      if (hasStar) {\n        state.info.data.hasStar++;\n      } else {\n        state.info.data.hasStar = 1;\n        state.info.data.fans_count++;\n        state.fans.new.data.unshift(user);\n      }\n\n      state.info.data.star_count++;\n    },\n\n    FOLLOW_ROLE_BANGUMI(state, {\n      result\n    }) {\n      state.info.bangumi.followed = result;\n    },\n\n    SET_ROLE_INFO(state, data) {\n      state.info = data;\n    },\n\n    SET_FANS_LIST(state, {\n      data,\n      reset,\n      sort\n    }) {\n      if (reset) {\n        state.fans = {\n          new: {\n            data: [],\n            noMore: false\n          },\n          hot: {\n            data: [],\n            noMore: false\n          }\n        };\n      }\n\n      state.fans[sort].data = state.fans[sort].data.concat(data[\"list\"]);\n      state.fans[sort].noMore = data[\"noMore\"];\n      state.fans[sort].total = data[\"total\"];\n    }\n\n  },\n  actions: {\n    async getFansList({\n      state,\n      commit\n    }, {\n      bangumiId,\n      roleId,\n      sort,\n      reset\n    }) {\n      if (state.fans[sort].noMore && !reset) {\n        return;\n      }\n\n      const api = new cartoonRoleApi[\"a\" /* default */]();\n      const length = state.fans[sort].data.length;\n      const data = await api.fans(Object.assign({\n        sort,\n        bangumiId,\n        roleId\n      }, sort === \"new\" ? {\n        minId: reset ? 0 : length ? state.fans[sort].data[length - 1].id : 0\n      } : {\n        seenIds: reset ? \"\" : length ? state.fans[sort].data.map(item => item.id).toString() : \"\"\n      }));\n      commit(\"SET_FANS_LIST\", {\n        data,\n        reset,\n        sort\n      });\n    },\n\n    async getRoleInfo({\n      commit\n    }, {\n      ctx,\n      id\n    }) {\n      const api = new cartoonRoleApi[\"a\" /* default */](ctx);\n      const data = await api.show(id);\n      commit(\"SET_ROLE_INFO\", data);\n    },\n\n    async star({\n      rootState,\n      commit\n    }, {\n      bangumiId,\n      roleId,\n      ctx,\n      hasStar\n    }) {\n      const api = new cartoonRoleApi[\"a\" /* default */](ctx);\n      await api.star({\n        bangumiId,\n        roleId\n      });\n      const self = rootState.user;\n      commit(\"ADD_ROLE_STATE\", {\n        hasStar,\n        user: {\n          id: self.id,\n          zone: self.zone,\n          avatar: self.avatar,\n          nickname: self.nickname\n        }\n      });\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/store/question.js\n\n\n\nconst question_state = () => ({\n  qaq: null,\n  answers: {\n    questionId: 0,\n    userZone: \"\",\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false\n  }\n});\n\nconst question_mutations = {\n  SET_QAQ(state, data) {\n    state.qaq = data;\n  },\n\n  EDIT_ANSWER(state, {\n    id\n  }) {\n    state.qaq.my_answer = {\n      id,\n      published_at: null\n    };\n  },\n\n  SET_ANSWER(state, data) {\n    state.qaq = data.question;\n    state.answers.list = [data.answer];\n  },\n\n  FETCH_QAQ_SOCIAL_USERS(state, {\n    type,\n    result\n  }) {\n    const prefix = state.qaq[`${type}_users`];\n    state.qaq[`${type}_users`].list = prefix.list.concat(result.list);\n    state.qaq[`${type}_users`].total = result.total;\n    state.qaq[`${type}_users`].noMore = result.noMore;\n  },\n\n  FETCH_ANSWER_SOCIAL_USERS(state, {\n    id,\n    type,\n    result\n  }) {\n    let actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    const prefix = state.answers.list[actionIndex][`${type}_users`];\n    state.answers.list[actionIndex][`${type}_users`].list = prefix.list.concat(result.list);\n    state.answers.list[actionIndex][`${type}_users`].total = result.total;\n    state.answers.list[actionIndex][`${type}_users`].noMore = result.noMore;\n  },\n\n  QAQ_SOCIAL_TOGGLE(state, {\n    key,\n    value,\n    user\n  }) {\n    state.qaq[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.qaq[`${key}_users`].total++;\n      state.qaq[`${key}_users`].list.unshift(user);\n    } else {\n      state.qaq[`${key}_users`].total--;\n      state.qaq[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.qaq[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  ANSWER_SOCIAL_TOGGLE(state, {\n    id,\n    key,\n    value,\n    user\n  }) {\n    let actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    state.answers.list[actionIndex][`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.answers.list[actionIndex][`${key}_users`].total++;\n      state.answers.list[actionIndex][`${key}_users`].list.unshift(user);\n    } else {\n      state.answers.list[actionIndex][`${key}_users`].total--;\n      state.answers.list[actionIndex][`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.answers.list[actionIndex][`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  TOGGLE_ANSWER_VOTE(state, {\n    id,\n    data\n  }) {\n    let actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    state.answers.list[actionIndex].vote_count = data.total;\n    state.answers.list[actionIndex].voted = data.result;\n  },\n\n  COMMENT_CHANGE_COUNT(state, {\n    id,\n    key,\n    value\n  }) {\n    if (key === \"qaq\") {\n      state.qaq.comment_count = state.qaq.comment_count + value;\n    } else {\n      let actionIndex = -1;\n      state.answers.list.forEach((item, index) => {\n        if (item.id === id) {\n          actionIndex = index;\n        }\n      });\n\n      if (actionIndex === -1) {\n        return;\n      }\n\n      state.answers.list[actionIndex].comment_count = state.answers.list[actionIndex].comment_count + value;\n    }\n  },\n\n  SET_ANSWERS(state, {\n    data,\n    questionId,\n    userZone,\n    refresh\n  }) {\n    const list = refresh ? data.list : state.answers.list.concat(data.list);\n    state.answers.list = list;\n    state.answers.total = data.total;\n    state.answers.noMore = data.noMore;\n    state.answers.nothing = !list.length;\n    state.answers.page = state.answers.page + 1;\n    state.answers.questionId = +questionId;\n    state.answers.userZone = userZone;\n  }\n\n};\nconst question_actions = {\n  async getQAQ({\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    const api = new questionApi[\"a\" /* default */](ctx);\n    const data = await api.getQuestionShow({\n      id\n    });\n    commit(\"SET_QAQ\", data);\n  },\n\n  async getAnswer({\n    commit\n  }, {\n    ctx,\n    id\n  }) {\n    const api = new questionApi[\"a\" /* default */](ctx);\n    const data = await api.getAnswerShow({\n      id\n    });\n    commit(\"SET_ANSWER\", data);\n  },\n\n  async getAnswers({\n    state,\n    commit\n  }, {\n    ctx,\n    take = 10,\n    questionId = 0,\n    userZone = \"\",\n    refresh = false\n  }) {\n    if (state.answers.noMore && !refresh) {\n      return;\n    }\n\n    let data;\n    const source = state.answers;\n    const list = source.list;\n    const api = new flowApi[\"a\" /* default */](ctx);\n    data = await api.fetch({\n      sort: \"active\",\n      type: \"answer\",\n      take,\n      page: source.page,\n      minId: 0,\n      seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n      bangumiId: questionId,\n      userZone\n    });\n    commit(\"SET_ANSWERS\", {\n      data,\n      questionId,\n      userZone,\n      refresh\n    });\n  }\n\n};\nconst question_getters = {};\n/* harmony default export */ var question = ({\n  namespaced: true,\n  state: question_state,\n  actions: question_actions,\n  mutations: question_mutations,\n  getters: question_getters\n});\n// CONCATENATED MODULE: ./src/api/appApi.js\n\n/* harmony default export */ var appApi = (class extends _baseApi[\"a\" /* default */] {\n  downloadUrl({\n    type\n  }) {\n    return this.http.get(\"app/version/check\", {\n      params: {\n        type,\n        version: \"0.0.0\"\n      }\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/app.js\n\n/* harmony default export */ var store_app = ({\n  namespaced: true,\n  state: () => ({\n    download: {}\n  }),\n  mutations: {\n    SET_DOWNLOAD_URL(state, {\n      data,\n      os\n    }) {\n      state.download[os] = data;\n    }\n\n  },\n  actions: {\n    async getDownloadUrl({\n      commit\n    }, {\n      type,\n      os\n    }) {\n      const api = new appApi();\n      const data = await api.downloadUrl({\n        type\n      });\n      commit(\"SET_DOWNLOAD_URL\", {\n        data,\n        os\n      });\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal__vue__default.a.use(external__vuex__default.a);\nfunction createStore() {\n  return new external__vuex__default.a.Store({\n    strict: \"production\" !== \"production\",\n    state: () => ({\n      user: null,\n      login: false,\n      pageData: null\n    }),\n    mutations: {\n      SET_PAGE_DATA(state, data) {\n        state.pageData = data;\n      },\n\n      SET_USER(state, user) {\n        state.user = user;\n        state.login = true;\n      },\n\n      SET_USER_INFO(state, data) {\n        Object.keys(data).forEach(key => {\n          state.user[key] = data[key];\n        });\n      },\n\n      USE_COIN(state) {\n        state.user.coin && state.user.coin--;\n      },\n\n      UPDATE_USER_INFO(state, {\n        key,\n        value\n      }) {\n        state.user[key] = value;\n      },\n\n      UPDATE_USER_EXP(state, score) {\n        if (!state.user || !score) {\n          return;\n        }\n\n        if (score > 0) {\n          if (state.user.exp.have_exp + score >= state.user.next_level_exp) {\n            const newLevel = state.user.exp.level + 1;\n            state.user.exp.level = newLevel;\n            state.user.exp.have_exp = state.user.exp.have_exp + score - state.user.next_level_exp;\n            state.user.exp.next_level_exp = newLevel * newLevel + newLevel * 10;\n          } else {\n            state.user.exp.have_exp = state.user.exp.have_exp + score;\n          }\n        } else {\n          if (state.user.exp.have_exp + score < 0) {\n            const newLevel = state.user.exp.level - 1;\n            const lastTotalExp = newLevel * newLevel + newLevel * 10;\n            state.user.exp.have_exp = lastTotalExp + state.user.exp.have_exp + score;\n            state.user.exp.next_level_exp = lastTotalExp;\n          } else {\n            state.user.exp.have_exp = state.user.exp.have_exp + score;\n          }\n        }\n      }\n\n    },\n    actions: {\n      async initApp({\n        commit\n      }, {\n        ctx\n      }) {\n        const api = new userApi[\"a\" /* default */](ctx);\n        const data = await api.getPageData({\n          refer: \"pc\"\n        });\n        commit(\"SET_PAGE_DATA\", data);\n      },\n\n      async initAuth({\n        commit\n      }, {\n        ctx,\n        must,\n        admin\n      }) {\n        const cookie = ctx.header.cookie;\n\n        const throwError = code => {\n          const error = new Error();\n          error.code = code || 401;\n          throw error;\n        };\n\n        if (cookie) {\n          let token = \"\";\n          cookie.split(\"; \").forEach(item => {\n            const temp = item.split(\"=\");\n\n            if (temp[0] === \"JWT-TOKEN\") {\n              token = temp[1];\n            }\n          });\n\n          if (token) {\n            const api = new userApi[\"a\" /* default */](ctx);\n\n            try {\n              const user = await api.getLoginUser();\n\n              if (user) {\n                if (admin && !user.is_admin) {\n                  return throwError(403);\n                }\n\n                commit(\"SET_USER\", user);\n              } else if (must) {\n                return throwError();\n              }\n            } catch (e) {\n              if (must) {\n                return throwError(e.code);\n              }\n            }\n          } else if (must) {\n            return throwError();\n          }\n        } else if (must) {\n          return throwError();\n        }\n      },\n\n      async getUpToken({\n        state,\n        commit\n      }, ctx) {\n        if (!state.user) {\n          return;\n        }\n\n        if (state.user.uptoken.expiredAt <= parseInt(Date.now() / 1000, 10)) {\n          const api = new imageApi[\"a\" /* default */](ctx);\n          const data = await api.getUpToken();\n          commit(\"UPDATE_USER_INFO\", {\n            key: \"uptoken\",\n            value: data\n          });\n        }\n      },\n\n      async getNotification({\n        state,\n        commit\n      }, ctx) {\n        if (!state.user) {\n          return;\n        }\n\n        const api = new userApi[\"a\" /* default */](ctx);\n        const data = await api.getNotificationCount();\n        commit(\"UPDATE_USER_INFO\", {\n          key: \"notification\",\n          value: data\n        });\n      }\n\n    },\n    getters: {},\n    modules: {\n      admin: store_admin,\n      homepage: homepage,\n      bangumi: bangumi,\n      video: video,\n      users: store_users,\n      image: store_image,\n      post: post,\n      cartoonRole: cartoonRole,\n      flow: flow,\n      comment: comment,\n      search: search,\n      score: score,\n      editor: editor,\n      world: flow,\n      question: question,\n      app: store_app\n    }\n  });\n}\n// EXTERNAL MODULE: external \"vue-router\"\nvar external__vue_router_ = __webpack_require__(41);\nvar external__vue_router__default = /*#__PURE__*/__webpack_require__.n(external__vue_router_);\n\n// EXTERNAL MODULE: external \"vue-meta\"\nvar external__vue_meta_ = __webpack_require__(42);\nvar external__vue_meta__default = /*#__PURE__*/__webpack_require__.n(external__vue_meta_);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\nexternal__vue__default.a.use(external__vue_router__default.a);\nexternal__vue__default.a.use(external__vue_meta__default.a, {\n  keyName: \"head\",\n  attribute: \"data-n-head\",\n  ssrAttribute: \"data-n-head-ssr\",\n  tagIDKeyName: \"hid\"\n});\nfunction createRouter() {\n  return new external__vue_router__default.a({\n    mode: \"history\",\n    base: \"/\",\n\n    scrollBehavior(to, from, savedPosition) {\n      // savedPosition 只有在 popstate 导航（如按浏览器的返回按钮）时可以获取。\n      if (savedPosition) {\n        return savedPosition;\n      }\n\n      return {\n        x: 0,\n        y: 0\n      };\n    },\n\n    routes: [{\n      path: \"/\",\n      component: () => __webpack_require__.e/* import() */(6).then(__webpack_require__.bind(null, 348)),\n      meta: {\n        useAuth: true\n      },\n      children: [{\n        path: \"\",\n        name: \"homepage\",\n        component: () => __webpack_require__.e/* import() */(50).then(__webpack_require__.bind(null, 349))\n      }, {\n        path: \"world\",\n        component: () => __webpack_require__.e/* import() */(61).then(__webpack_require__.bind(null, 350)),\n        children: [{\n          path: \"\",\n          redirect: \"post\"\n        }, {\n          path: \"post\",\n          name: \"world-post\",\n          component: () => __webpack_require__.e/* import() */(18).then(__webpack_require__.bind(null, 351))\n        }, {\n          path: \"pins\",\n          name: \"world-image\",\n          component: () => __webpack_require__.e/* import() */(32).then(__webpack_require__.bind(null, 352))\n        }, {\n          path: \"review\",\n          name: \"world-score\",\n          component: () => __webpack_require__.e/* import() */(28).then(__webpack_require__.bind(null, 356))\n        }, {\n          path: \"qaq\",\n          name: \"world-question\",\n          component: () => __webpack_require__.e/* import() */(16).then(__webpack_require__.bind(null, 357))\n        }]\n      }, {\n        path: \"bangumi/news\",\n        component: () => __webpack_require__.e/* import() */(33).then(__webpack_require__.bind(null, 358))\n      }, {\n        path: \"bangumi/rank\",\n        component: () => __webpack_require__.e/* import() */(56).then(__webpack_require__.bind(null, 359))\n      }, {\n        path: \"bangumi/timeline\",\n        component: () => __webpack_require__.e/* import() */(34).then(__webpack_require__.bind(null, 360))\n      }, {\n        name: \"bangumi-tags\",\n        path: \"bangumi/tags/:id?\",\n        component: () => __webpack_require__.e/* import() */(35).then(__webpack_require__.bind(null, 361))\n      }, {\n        path: \"bangumi/:id(\\\\d+)\",\n        component: () => __webpack_require__.e/* import() */(25).then(__webpack_require__.bind(null, 362)),\n        children: [{\n          path: \"\",\n          name: \"bangumi-show\",\n          redirect: \"post\"\n        }, {\n          path: \"post\",\n          name: \"bangumi-post\",\n          component: () => __webpack_require__.e/* import() */(21).then(__webpack_require__.bind(null, 363))\n        }, {\n          path: \"video\",\n          name: \"bangumi-video\",\n          component: () => __webpack_require__.e/* import() */(53).then(__webpack_require__.bind(null, 364))\n        }, {\n          path: \"cartoon\",\n          name: \"bangumi-cartoon\",\n          component: () => __webpack_require__.e/* import() */(51).then(__webpack_require__.bind(null, 365))\n        }, {\n          path: \"role\",\n          name: \"bangumi-role\",\n          component: () => __webpack_require__.e/* import() */(31).then(__webpack_require__.bind(null, 366))\n        }, {\n          path: \"pins\",\n          name: \"bangumi-image\",\n          component: () => __webpack_require__.e/* import() */(40).then(__webpack_require__.bind(null, 367))\n        }, {\n          path: \"review\",\n          name: \"bangumi-score\",\n          component: () => __webpack_require__.e/* import() */(27).then(__webpack_require__.bind(null, 368))\n        }, {\n          path: \"qaq\",\n          name: \"bangumi-question\",\n          component: () => __webpack_require__.e/* import() */(20).then(__webpack_require__.bind(null, 370))\n        }, {\n          path: \"setting\",\n          name: \"bangumi-setting\",\n          component: () => __webpack_require__.e/* import() */(13).then(__webpack_require__.bind(null, 371))\n        }]\n      }, {\n        path: \"video/:id(\\\\d+)\",\n        component: () => __webpack_require__.e/* import() */(9).then(__webpack_require__.bind(null, 372))\n      }, {\n        path: \"user/:zone\",\n        component: () => __webpack_require__.e/* import() */(15).then(__webpack_require__.bind(null, 375)),\n        children: [{\n          path: \"\",\n          name: \"user-show\",\n          redirect: \"bangumi\"\n        }, {\n          path: \"bangumi\",\n          name: \"user-bangumi\",\n          component: () => __webpack_require__.e/* import() */(59).then(__webpack_require__.bind(null, 376))\n        }, {\n          path: \"post\",\n          name: \"user-post\",\n          component: () => __webpack_require__.e/* import() */(19).then(__webpack_require__.bind(null, 377))\n        }, {\n          path: \"pins\",\n          name: \"user-image\",\n          component: () => __webpack_require__.e/* import() */(39).then(__webpack_require__.bind(null, 378))\n        }, {\n          path: \"review\",\n          name: \"user-score\",\n          component: () => __webpack_require__.e/* import() */(36).then(__webpack_require__.bind(null, 379))\n        }, {\n          path: \"qaq\",\n          name: \"user-question\",\n          component: () => __webpack_require__.e/* import() */(17).then(__webpack_require__.bind(null, 380))\n        }, {\n          path: \"role\",\n          name: \"user-role\",\n          component: () => __webpack_require__.e/* import() */(29).then(__webpack_require__.bind(null, 381))\n        }, {\n          path: \"draft\",\n          name: \"user-draft\",\n          component: () => __webpack_require__.e/* import() */(62).then(__webpack_require__.bind(null, 382))\n        }, {\n          path: \"setting\",\n          name: \"user-setting\",\n          component: () => __webpack_require__.e/* import() */(57).then(__webpack_require__.bind(null, 383))\n        }]\n      }, {\n        path: \"post/:id(\\\\d+)\",\n        name: \"post-show\",\n        component: () => __webpack_require__.e/* import() */(7).then(__webpack_require__.bind(null, 384))\n      }, {\n        path: \"about/hello\",\n        name: \"hello\",\n        component: () => __webpack_require__.e/* import() */(49).then(__webpack_require__.bind(null, 385))\n      }, {\n        path: \"about/invite/:id(\\\\d+)\",\n        name: \"invite-user\",\n        component: () => __webpack_require__.e/* import() */(52).then(__webpack_require__.bind(null, 386))\n      }, {\n        path: \"role/trending\",\n        component: () => __webpack_require__.e/* import() */(30).then(__webpack_require__.bind(null, 387))\n      }, {\n        path: \"role/:id(\\\\d+)\",\n        name: \"role-show\",\n        component: () => __webpack_require__.e/* import() */(12).then(__webpack_require__.bind(null, 388))\n      }, {\n        path: \"pin/:id(\\\\d+)\",\n        name: \"image-show\",\n        component: () => __webpack_require__.e/* import() */(8).then(__webpack_require__.bind(null, 389))\n      }, {\n        path: \"qaq/:id(\\\\d+)\",\n        name: \"question-show\",\n        component: () => __webpack_require__.e/* import() */(4).then(__webpack_require__.bind(null, 390))\n      }, {\n        path: \"soga/:id(\\\\d+)\",\n        name: \"answer-show\",\n        component: () => __webpack_require__.e/* import() */(5).then(__webpack_require__.bind(null, 391))\n      }, {\n        path: \"review/:id(\\\\d+)\",\n        name: \"score-show\",\n        component: () => __webpack_require__.e/* import() */(10).then(__webpack_require__.bind(null, 392))\n      }, {\n        path: \"search\",\n        name: \"search-index\",\n        component: () => __webpack_require__.e/* import() */(11).then(__webpack_require__.bind(null, 393))\n      }, {\n        path: \"app/download\",\n        name: \"download-app\",\n        component: () => __webpack_require__.e/* import() */(55).then(__webpack_require__.bind(null, 394))\n      }]\n    }, {\n      path: \"/callback\",\n      component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n      meta: {\n        useAuth: false\n      },\n      children: [{\n        path: \"wechat/auth\",\n        name: \"wechat-auth-callback\",\n        component: () => __webpack_require__.e/* import() */(63).then(__webpack_require__.bind(null, 396))\n      }]\n    }, {\n      path: \"/review\",\n      component: () => __webpack_require__.e/* import() */(23).then(__webpack_require__.bind(null, 397)),\n      meta: {\n        useAuth: true\n      },\n      children: [{\n        path: \"create\",\n        name: \"score-create\",\n        component: () => __webpack_require__.e/* import() */(1/* duplicate */).then(__webpack_require__.bind(null, 398))\n      }, {\n        path: \"edit/:id(\\\\d+)\",\n        name: \"score-edit\",\n        component: () => __webpack_require__.e/* import() */(1/* duplicate */).then(__webpack_require__.bind(null, 398))\n      }]\n    }, {\n      path: \"/errors\",\n      meta: {\n        useAuth: true\n      },\n      component: () => __webpack_require__.e/* import() */(26).then(__webpack_require__.bind(null, 399)),\n      children: [{\n        path: \"400\",\n        component: () => __webpack_require__.e/* import() */(87).then(__webpack_require__.bind(null, 400))\n      }, {\n        path: \"401\",\n        component: () => __webpack_require__.e/* import() */(86).then(__webpack_require__.bind(null, 401))\n      }, {\n        path: \"403\",\n        component: () => __webpack_require__.e/* import() */(85).then(__webpack_require__.bind(null, 402))\n      }, {\n        path: \"404\",\n        component: () => __webpack_require__.e/* import() */(84).then(__webpack_require__.bind(null, 403))\n      }, {\n        path: \"423\",\n        component: () => __webpack_require__.e/* import() */(83).then(__webpack_require__.bind(null, 404))\n      }, {\n        path: \"429\",\n        component: () => __webpack_require__.e/* import() */(82).then(__webpack_require__.bind(null, 405))\n      }, {\n        path: \"500\",\n        component: () => __webpack_require__.e/* import() */(81).then(__webpack_require__.bind(null, 406))\n      }, {\n        path: \"503\",\n        component: () => __webpack_require__.e/* import() */(80).then(__webpack_require__.bind(null, 407))\n      }]\n    }, {\n      path: \"/admin\",\n      meta: {\n        isAdmin: true\n      },\n      component: () => __webpack_require__.e/* import() */(14).then(__webpack_require__.bind(null, 408)),\n      children: [{\n        path: \"\",\n        hidden: true,\n        redirect: \"dashboard\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"dashboard\",\n          name: \"Dashboard\",\n          component: () => __webpack_require__.e/* import() */(37).then(__webpack_require__.bind(null, 409))\n        }]\n      }, {\n        path: \"bangumi\",\n        name: \"Bangumi\",\n        meta: {\n          title: \"番剧\",\n          icon: \"film\"\n        },\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        redirect: \"bangumi/list\",\n        children: [{\n          path: \"list\",\n          name: \"bangumi-list\",\n          meta: {\n            title: \"番剧列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(76).then(__webpack_require__.bind(null, 411))\n        }, {\n          path: \"manager\",\n          name: \"bangumi-manager\",\n          meta: {\n            title: \"吧主管理\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(79).then(__webpack_require__.bind(null, 412))\n        }, {\n          path: \"edit/:id(\\\\d+)\",\n          name: \"bangumi-edit\",\n          hidden: true,\n          meta: {\n            title: \"编辑番剧\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(2/* duplicate */).then(__webpack_require__.bind(null, 413))\n        }, {\n          path: \"create\",\n          name: \"bangumi-create\",\n          meta: {\n            title: \"创建番剧\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(2/* duplicate */).then(__webpack_require__.bind(null, 413))\n        }]\n      }, {\n        path: \"video\",\n        name: \"Video\",\n        meta: {\n          title: \"视频\",\n          icon: \"video\"\n        },\n        redirect: \"video/list\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"list\",\n          name: \"video-list\",\n          meta: {\n            title: \"视频列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(66).then(__webpack_require__.bind(null, 414))\n        }, {\n          path: \"trending\",\n          name: \"video-trending\",\n          meta: {\n            title: \"播放排行\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(65).then(__webpack_require__.bind(null, 415))\n        }, {\n          path: \"create\",\n          name: \"video-create\",\n          meta: {\n            title: \"新建视频\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(48).then(__webpack_require__.bind(null, 416))\n        }]\n      }, {\n        path: \"cartoon\",\n        name: \"Cartoon\",\n        meta: {\n          title: \"漫画\",\n          icon: \"images\"\n        },\n        redirect: \"cartoon/bangumis\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"bangumis\",\n          name: \"cartoon-bangumis\",\n          meta: {\n            title: \"番剧列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(75).then(__webpack_require__.bind(null, 417))\n        }, {\n          path: \"edit/:id(\\\\d+)\",\n          name: \"cartoon-edit\",\n          hidden: true,\n          component: () => __webpack_require__.e/* import() */(64).then(__webpack_require__.bind(null, 418))\n        }, {\n          path: \"list\",\n          name: \"cartoon-list\",\n          meta: {\n            title: \"漫画列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(60).then(__webpack_require__.bind(null, 419))\n        }]\n      }, {\n        path: \"role\",\n        name: \"Role\",\n        meta: {\n          title: \"偶像\",\n          icon: \"grin-stars\"\n        },\n        redirect: \"role/list\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"list\",\n          name: \"role-list\",\n          meta: {\n            title: \"偶像列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(58).then(__webpack_require__.bind(null, 420))\n        }, {\n          path: \"edit/:id(\\\\d+)\",\n          name: \"role-edit\",\n          hidden: true,\n          component: () => __webpack_require__.e/* import() */(3/* duplicate */).then(__webpack_require__.bind(null, 421))\n        }, {\n          path: \"create\",\n          name: \"role-create\",\n          meta: {\n            title: \"添加偶像\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(3/* duplicate */).then(__webpack_require__.bind(null, 421))\n        }]\n      }, {\n        path: \"user\",\n        name: \"User\",\n        meta: {\n          title: \"用户\",\n          icon: \"users\"\n        },\n        redirect: \"user/dalao\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"dalao\",\n          name: \"user-dalao\",\n          meta: {\n            title: \"大佬列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(70).then(__webpack_require__.bind(null, 422))\n        }, {\n          path: \"show\",\n          name: \"user-info\",\n          meta: {\n            title: \"用户查询\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(41).then(__webpack_require__.bind(null, 423))\n        }, {\n          path: \"feedback\",\n          name: \"user-feedback\",\n          meta: {\n            title: \"用户反馈\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(68).then(__webpack_require__.bind(null, 424))\n        }]\n      }, {\n        path: \"trial\",\n        name: \"Trial\",\n        meta: {\n          title: \"审核\",\n          icon: \"code-branch\"\n        },\n        redirect: \"trial/test\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"test\",\n          name: \"trial-test\",\n          meta: {\n            title: \"审核测试\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(43).then(__webpack_require__.bind(null, 425))\n        }, {\n          path: \"user\",\n          name: \"trial-user\",\n          meta: {\n            title: \"用户审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(46).then(__webpack_require__.bind(null, 426))\n        }, {\n          path: \"bangumi\",\n          name: \"trial-bangumi\",\n          meta: {\n            title: \"番剧审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(77).then(__webpack_require__.bind(null, 427))\n        }, {\n          path: \"post\",\n          name: \"trial-post\",\n          meta: {\n            title: \"帖子审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(47).then(__webpack_require__.bind(null, 428))\n        }, {\n          path: \"comment\",\n          name: \"trial-comment\",\n          meta: {\n            title: \"评论审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(45).then(__webpack_require__.bind(null, 429))\n        }, {\n          path: \"image\",\n          name: \"trial-image\",\n          meta: {\n            title: \"图片审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(44).then(__webpack_require__.bind(null, 430))\n        }, {\n          path: \"role\",\n          name: \"trial-role\",\n          meta: {\n            title: \"偶像审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(88).then(__webpack_require__.bind(null, 431))\n        }, {\n          path: \"score\",\n          name: \"trial-score\",\n          meta: {\n            title: \"漫评审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(24).then(__webpack_require__.bind(null, 432))\n        }, {\n          path: \"question\",\n          name: \"trial-question\",\n          meta: {\n            title: \"提问审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(54).then(__webpack_require__.bind(null, 433))\n        }, {\n          path: \"answer\",\n          name: \"trial-answer\",\n          meta: {\n            title: \"回答审核\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(22).then(__webpack_require__.bind(null, 434))\n        }]\n      }, {\n        path: \"cm\",\n        name: \"Cm\",\n        meta: {\n          title: \"运营\",\n          icon: \"code-branch\"\n        },\n        redirect: \"cm/image/banner\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"user/report\",\n          name: \"user-report-list\",\n          meta: {\n            title: \"用户举报\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(67).then(__webpack_require__.bind(null, 435))\n        }, {\n          path: \"image/banner\",\n          name: \"image-banner\",\n          meta: {\n            title: \"主站轮播\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(38).then(__webpack_require__.bind(null, 436))\n        }, {\n          path: \"tag/list\",\n          name: \"tag-list\",\n          meta: {\n            title: \"标签列表\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(71).then(__webpack_require__.bind(null, 437))\n        }, {\n          path: \"user/faker\",\n          name: \"faker-list\",\n          meta: {\n            title: \"运营号\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(69).then(__webpack_require__.bind(null, 438))\n        }, {\n          path: \"trial/words\",\n          name: \"trial-words\",\n          meta: {\n            title: \"敏感词库\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(42).then(__webpack_require__.bind(null, 439))\n        }, {\n          path: \"cm/ip_blocker\",\n          name: \"ip_blocker\",\n          meta: {\n            title: \"ip封禁\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(72).then(__webpack_require__.bind(null, 440))\n        }, {\n          path: \"cm/app-version\",\n          name: \"app-version\",\n          meta: {\n            title: \"App版本\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(74).then(__webpack_require__.bind(null, 441))\n        }, {\n          path: \"cm/friend-link\",\n          name: \"friend-link\",\n          meta: {\n            title: \"友情链接\",\n            icon: \"coffee\"\n          },\n          component: () => __webpack_require__.e/* import() */(73).then(__webpack_require__.bind(null, 442))\n        }]\n      }, {\n        path: \"console\",\n        name: \"Console\",\n        meta: {\n          title: \"管理\",\n          icon: \"unlock\"\n        },\n        redirect: \"console/admins\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 395)),\n        children: [{\n          path: \"admins\",\n          name: \"admin-list\",\n          meta: {\n            title: \"管理\",\n            icon: \"unlock\"\n          },\n          component: () => __webpack_require__.e/* import() */(78).then(__webpack_require__.bind(null, 443))\n        }]\n      }]\n    }]\n  });\n}\n// EXTERNAL MODULE: ./src/assets/css/global.scss\nvar global = __webpack_require__(53);\nvar global_default = /*#__PURE__*/__webpack_require__.n(global);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/spinner/style.css\nvar style = __webpack_require__(54);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/spinner\"\nvar spinner_ = __webpack_require__(55);\nvar spinner__default = /*#__PURE__*/__webpack_require__.n(spinner_);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/infinite-scroll/style.css\nvar infinite_scroll_style = __webpack_require__(56);\nvar infinite_scroll_style_default = /*#__PURE__*/__webpack_require__.n(infinite_scroll_style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/infinite-scroll\"\nvar infinite_scroll_ = __webpack_require__(57);\nvar infinite_scroll__default = /*#__PURE__*/__webpack_require__.n(infinite_scroll_);\n\n// CONCATENATED MODULE: ./src/assets/js/alias.js\n/* harmony default export */ var alias = ({\n  index: \"/\",\n\n  __query(str, obj) {\n    if (!obj) {\n      return str;\n    }\n\n    let query = \"?\";\n    Object.keys(obj).forEach(item => {\n      query += `${item}=${obj[item]}&`;\n    });\n    return `${str.split(\"?\").shift()}${query.substring(0, query.length - 1)}`;\n  },\n\n  url(url, query) {\n    return this.__query(url, query);\n  },\n\n  user(zone, path = \"\") {\n    return `/user/${zone}/${path}`;\n  },\n\n  bangumi(id, path = \"\") {\n    return `/bangumi/${id}/${path}`;\n  },\n\n  video(id) {\n    return `/video/${id}`;\n  },\n\n  score(id) {\n    return `/review/${id}`;\n  },\n\n  image(id) {\n    return `/pin/${id}`;\n  },\n\n  post(id, query) {\n    return this.__query(`/post/${id}`, query);\n  },\n\n  bangumiTag(id) {\n    return id ? `/bangumi/tags?id=${id}` : \"/bangumi/tags\";\n  },\n\n  bangumiNews: \"/bangumi/news\",\n  bangumiTimeline: \"/bangumi/timeline\",\n\n  cartoonRole(id) {\n    return `/role/${id}`;\n  },\n\n  editScore(id) {\n    return `/review/edit/${id}`;\n  },\n\n  world(type) {\n    return `/world/${type}`;\n  },\n\n  question(id) {\n    return `/qaq/${id}`;\n  },\n\n  answer(id) {\n    return `/soga/${id}`;\n  },\n\n  createScore: \"/review/create\",\n  roleTrending: \"/role/trending\"\n});\n// CONCATENATED MODULE: ./src/assets/js/utils.js\n/* harmony default export */ var utils = ({\n  shortenNumber(num) {\n    return num > 1000 ? `${Math.floor(num / 1000 * 10) / 10}k` : num;\n  },\n\n  camelize(string, uppercaseFirstLetter = true) {\n    const camelizeString = string.replace(/(?:^|[-])(\\w)/g, (_, c) => c ? c.toUpperCase() : \"\");\n\n    if (uppercaseFirstLetter) {\n      return camelizeString;\n    }\n\n    return camelizeString[0].toLowerCase() + camelizeString.substring(1);\n  },\n\n  setStyle(element, styleName, value) {\n    if (!element || !styleName) return;\n\n    if (typeof styleName === \"object\") {\n      for (const prop in styleName) {\n        if (styleName.hasOwnProperty(prop)) {\n          this.setStyle(element, prop, styleName[prop]);\n        }\n      }\n    } else {\n      styleName = this.camelize(styleName, false); // eslint-disable-line no-param-reassign\n\n      if (styleName === \"opacity\" && Number(document.documentMode) < 9) {\n        element.style.filter = isNaN(value) ? \"\" : `alpha(opacity=${value * 100})`;\n      } else {\n        element.style[styleName] = value;\n      }\n    }\n  },\n\n  throttle(func, wait, options) {\n    let context, args, result;\n    let timeout = null;\n    let previous = 0;\n    if (!options) options = {};\n\n    let later = function () {\n      previous = options.leading === false ? 0 : Date.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    return function () {\n      let now = Date.now();\n      if (!previous && options.leading === false) previous = now;\n      let remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  },\n\n  timeLong(time) {\n    const formatTime = /^\\d+$/.test(time) ? time.toString().length === 13 ? parseInt((time - 0) / 1000, 10) : time * 1000 : time.replace(/-/g, \"/\");\n    const date = new Date(formatTime);\n    return `${date.getFullYear()}-${`0${date.getMonth() + 1}`.substr(-2)}-${`0${date.getDate()}`.substr(-2)} ${`0${date.getHours()}`.substr(-2)}:${`0${date.getMinutes()}`.substr(-2)}:${`0${date.getSeconds()}`.substr(-2)}`;\n  },\n\n  truncate(str = \"\", len = 200, startIndex = 0) {\n    return str.substring(startIndex, len);\n  },\n\n  createFileName({\n    userId,\n    type,\n    id,\n    file\n  }) {\n    return `user/${userId}/${type}/${id}/${new Date().getTime()}-${Math.random().toString(36).substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n  },\n\n  getOffsetTop(elem) {\n    let offsetTop = 0;\n\n    do {\n      if (!isNaN(elem.offsetTop)) {\n        offsetTop += elem.offsetTop;\n      }\n    } while (elem = elem.offsetParent); // eslint-disable-line no-cond-assign\n\n\n    return offsetTop;\n  },\n\n  createWechatUrl(ctx) {\n    if (!ctx || !ctx.$store.state.pageData) {\n      return \"\";\n    }\n\n    const baseUrl = \"https://open.weixin.qq.com/connect/qrconnect\";\n    const redirect = \"https://www.calibur.tv/callback/wechat/auth\";\n    return `${baseUrl}?appid=${ctx.$store.state.pageData.wechat_app_id}&redirect_uri=${encodeURIComponent(redirect)}&response_type=code&scope=snsapi_login&state=sign_in#wechat_redirect`;\n  }\n\n});\n// CONCATENATED MODULE: ./src/assets/js/nossr.js\n/* harmony default export */ var nossr = ({\n  name: \"no-ssr\",\n  props: [\"placeholder\"],\n\n  data() {\n    return {\n      canRender: false\n    };\n  },\n\n  mounted() {\n    this.canRender = true;\n  },\n\n  render(h) {\n    if (this.canRender) {\n      if (false) {\n        throw new Error(\"<no-ssr> You cannot use multiple child components\");\n      }\n\n      return this.$slots.default && this.$slots.default[0];\n    }\n\n    return h(\"div\", {\n      class: [\"no-ssr-placeholder\"]\n    }, this.$slots.placeholder || this.placeholder);\n  }\n\n});\n// EXTERNAL MODULE: external \"timeago.js\"\nvar external__timeago_js_ = __webpack_require__(58);\nvar external__timeago_js__default = /*#__PURE__*/__webpack_require__.n(external__timeago_js_);\n\n// CONCATENATED MODULE: ./src/assets/js/timeago.js\n\nconst instance = external__timeago_js__default()();\n/* harmony default export */ var timeago = ({\n  name: \"v-time\",\n  props: {\n    value: {\n      default: parseInt(Date.now() / 1000, 10).toString()\n    }\n  },\n\n  render(h) {\n    return h(\"time\", {\n      attrs: {\n        datetime: this.$utils.timeLong(this.value)\n      }\n    });\n  },\n\n  mounted() {\n    instance.render(this.$el, \"zh_CN\");\n  },\n\n  beforeDestroy() {\n    external__timeago_js__default.a.cancel(this.$el);\n  }\n\n});\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiPanel = ({\n  name: \"VBangumiPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */]\n  },\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    avatar: {\n      required: true,\n      type: String\n    },\n    name: {\n      required: true,\n      type: String\n    },\n    summary: {\n      required: true,\n      type: String\n    },\n    followed: {\n      required: true,\n      type: Boolean\n    }\n  },\n  methods: {\n    handleFollow(result) {\n      this.$emit(\"follow\", result);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d630a3a6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiPanel.vue\nvar BangumiPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.bangumiPanel},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.id)))+\" target=\\\"_blank\\\">\",\"</a>\",[_c('v-img',{class:_vm.$style.avatar,attrs:{\"src\":_vm.avatar,\"size\":\"90\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.id)))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.name))+\">\"+_vm._ssrEscape(_vm._s(_vm.name))+\"</a><p\"+(_vm._ssrClass(null,_vm.$style.summary))+\">\"+_vm._ssrEscape(_vm._s(_vm.summary))+\"</p>\"),_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.followed,\"type\":\"bangumi\"},on:{\"submit\":_vm.handleFollow}})],2)}\nvar BangumiPanel_staticRenderFns = []\nvar BangumiPanel_esExports = { render: BangumiPanel_render, staticRenderFns: BangumiPanel_staticRenderFns }\n/* harmony default export */ var bangumi_BangumiPanel = (BangumiPanel_esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiPanel.vue\nfunction BangumiPanel_injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(59),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiPanel_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiPanel___vue_template_functional__ = false\n/* styles */\nvar BangumiPanel___vue_styles__ = BangumiPanel_injectStyle\n/* scopeId */\nvar BangumiPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiPanel___vue_module_identifier__ = \"5738e3aa\"\nvar BangumiPanel_Component = BangumiPanel_normalizeComponent(\n  BangumiPanel,\n  bangumi_BangumiPanel,\n  BangumiPanel___vue_template_functional__,\n  BangumiPanel___vue_styles__,\n  BangumiPanel___vue_scopeId__,\n  BangumiPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiPanel = (BangumiPanel_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/NoContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var NoContent = ({\n  name: \"NoContent\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11666605\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NoContent.vue\nvar NoContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"no-content\"}},[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(((_vm.$cdn.image) + \"owner/no-content\"), { width: 400 })))+\" alt=\\\"no-content\\\">\"),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<h3>暂无内容</h3><p>抱歉，该页面暂无内容，请看看其他页面</p>\"),_vm._t(\"default\")],2)],2)}\nvar NoContent_staticRenderFns = []\nvar NoContent_esExports = { render: NoContent_render, staticRenderFns: NoContent_staticRenderFns }\n/* harmony default export */ var components_NoContent = (NoContent_esExports);\n// CONCATENATED MODULE: ./src/components/NoContent.vue\nfunction NoContent_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(61),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar NoContent_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NoContent___vue_template_functional__ = false\n/* styles */\nvar NoContent___vue_styles__ = NoContent_injectStyle\n/* scopeId */\nvar NoContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar NoContent___vue_module_identifier__ = \"4ef1a9bf\"\nvar NoContent_Component = NoContent_normalizeComponent(\n  NoContent,\n  components_NoContent,\n  NoContent___vue_template_functional__,\n  NoContent___vue_styles__,\n  NoContent___vue_scopeId__,\n  NoContent___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_NoContent = (NoContent_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Hr.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Hr = ({\n  name: \"VHr\",\n  props: {\n    text: {\n      required: true,\n      type: String\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21dac51e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Hr.vue\nvar Hr_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hr\"},[_vm._ssrNode(\"<span></span><p>\"+_vm._ssrEscape(_vm._s(_vm.text))+\"</p>\")])}\nvar Hr_staticRenderFns = []\nvar Hr_esExports = { render: Hr_render, staticRenderFns: Hr_staticRenderFns }\n/* harmony default export */ var common_Hr = (Hr_esExports);\n// CONCATENATED MODULE: ./src/components/common/Hr.vue\nfunction Hr_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(63),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Hr_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Hr___vue_template_functional__ = false\n/* styles */\nvar Hr___vue_styles__ = Hr_injectStyle\n/* scopeId */\nvar Hr___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Hr___vue_module_identifier__ = \"201c2f35\"\nvar Hr_Component = Hr_normalizeComponent(\n  Hr,\n  common_Hr,\n  Hr___vue_template_functional__,\n  Hr___vue_styles__,\n  Hr___vue_scopeId__,\n  Hr___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Hr = (Hr_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/layouts/Header.vue + 8 modules\nvar Header = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Share.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Share = ({\n  name: \"VShare\",\n  props: {\n    image: {\n      type: String,\n      default: \"\"\n    },\n    title: {\n      type: String,\n      default: \"\"\n    },\n    desc: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      required: true,\n      validator: val => ~[\"button\", \"panel\"].indexOf(val)\n    },\n    url: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      weiboKey: \"\",\n      canRender: false\n    };\n  },\n\n  computed: {\n    shareUrl() {\n      return this.url ? `${window.location.origin}${this.url}` : `${window.location.origin}${this.$route.fullPath}`;\n    }\n\n  },\n\n  mounted() {\n    this.canRender = true;\n    this.makeWechatQrCode();\n  },\n\n  methods: {\n    shareTitle() {\n      return `${this.title || document.title} - ${document.querySelector(\"meta[name=description]\").content}`;\n    },\n\n    shareDesc() {\n      return `${(this.desc || document.querySelector(\"meta[name=description]\").content).substring(0, 100)}...`;\n    },\n\n    shareImage() {\n      if (this.image) {\n        return this.image;\n      }\n\n      const images = document.querySelectorAll(\".share-img\");\n\n      if (!images.length) {\n        return \"\";\n      }\n\n      return images[images.length - 1];\n    },\n\n    shareSource() {\n      return document.querySelector(\"meta[name=site]\") && document.querySelector(\"meta[name=site]\").content || document.title;\n    },\n\n    makeUrl(type) {\n      let result = \"/\";\n\n      if (type === \"weibo\") {\n        result = `https://service.weibo.com/share/share.php?url=${this.shareUrl}&title=${this.shareTitle()}&pic=${this.shareImage()}&appkey=${this.weiboKey}`;\n      } else if (type === \"qq\") {\n        result = `http://connect.qq.com/widget/shareqq/index.html?url=${this.shareUrl}&title=${this.shareTitle()}&source=${this.shareSource()}&desc=${this.shareDesc()}&pics=${this.shareImage()}&summary=\"${this.shareDesc()}\"`;\n      } else if (type === \"douban\") {\n        result = `http://shuo.douban.com/!service/share?href=${this.shareUrl}&name=${this.shareTitle()}&text=${this.shareDesc()}&image=${this.shareImage()}&starid=0&aid=0&style=11`;\n      } else if (type === \"qzone\") {\n        result = `http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${this.shareUrl}&title=${this.shareTitle()}&desc=${this.shareDesc()}&summary=${this.shareDesc()}&site=${this.shareSource()}`;\n      }\n\n      window.open(result);\n    },\n\n    makeWechatQrCode() {\n      if (this.type === \"button\") {\n        return;\n      }\n\n      this.$nextTick(() => {\n        this.$QRCode(this.$refs.qr, this.shareUrl, {\n          width: 105,\n          height: 105\n        });\n      });\n    },\n\n    handleCopySuccess() {\n      this.$toast.success(\"复制成功\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-418a4671\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Share.vue\nvar Share_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.type === 'button')?_c('div',{staticClass:\"v-share\"},[_c('el-popover',{ref:\"popover2\",attrs:{\"placement\":\"top\",\"width\":\"120\",\"trigger\":\"click\",\"popper-class\":\"v-share v-share-button\"}},[(_vm.canRender)?_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(_vm.shareUrl),expression:\"shareUrl\"}],on:{\"click\":_vm.handleCopySuccess}},[_c('i',{staticClass:\"iconfont ic-link\"}),_vm._v(\"\\n      复制链接\\n    \")]):_vm._e(),_c('button',{on:{\"click\":function($event){_vm.makeUrl('weibo')}}},[_c('i',{staticClass:\"iconfont ic-weibo\"}),_vm._v(\"\\n      微博\\n    \")]),_c('button',{on:{\"click\":function($event){_vm.makeUrl('qq')}}},[_c('i',{staticClass:\"iconfont ic-qq\"}),_vm._v(\"\\n      QQ\\n    \")]),_c('button',{on:{\"click\":function($event){_vm.makeUrl('douban')}}},[_c('i',{staticClass:\"iconfont ic-douban\"}),_vm._v(\"\\n      豆瓣\\n    \")]),_c('button',{on:{\"click\":function($event){_vm.makeUrl('qzone')}}},[_c('i',{staticClass:\"iconfont ic-qzone\"}),_vm._v(\"\\n      QQ空间\\n    \")])]),_vm._t(\"default\",[_c('button',{directives:[{name:\"popover\",rawName:\"v-popover:popover2\",arg:\"popover2\"}],staticClass:\"share-btn\"},[_c('i',{staticClass:\"iconfont icon-emizhifeiji\"}),_vm._v(\"\\n      分享\\n    \")])])],2):(_vm.type === 'panel')?_c('div',{staticClass:\"v-share v-share-panel\"},[_c('el-popover',{ref:\"popover\",attrs:{\"placement\":\"top\",\"title\":\"微信扫一扫：分享\",\"width\":\"200\",\"trigger\":\"hover\",\"popper-class\":\"share-popover\"}},[_c('div',[_c('div',{ref:\"qr\",staticClass:\"qr-code\"}),_c('div',{staticClass:\"help\"},[_c('p',[_vm._v(\"微信里点“发现”，扫一下\")]),_c('p',[_vm._v(\"二维码便可将本页面分享至朋友圈\")])])])]),_vm._ssrNode(\"<button class=\\\"share-icon ic-weibo\\\"></button><button class=\\\"share-icon ic-qq\\\"></button>\"),_c('button',{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}],staticClass:\"share-icon ic-wechat\"},[]),_vm._ssrNode(\"<button class=\\\"share-icon ic-douban\\\"></button><button class=\\\"share-icon ic-qzone\\\"></button>\"),(_vm.canRender)?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"复制链接\",\"placement\":\"top\"}},[_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(_vm.shareUrl),expression:\"shareUrl\"}],staticClass:\"share-icon ic-link\",on:{\"click\":_vm.handleCopySuccess}})]):_vm._e()],2):_vm._e()}\nvar Share_staticRenderFns = []\nvar Share_esExports = { render: Share_render, staticRenderFns: Share_staticRenderFns }\n/* harmony default export */ var common_Share = (Share_esExports);\n// CONCATENATED MODULE: ./src/components/common/Share.vue\nfunction Share_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(65),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Share_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Share___vue_template_functional__ = false\n/* styles */\nvar Share___vue_styles__ = Share_injectStyle\n/* scopeId */\nvar Share___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Share___vue_module_identifier__ = \"fbdf6cf8\"\nvar Share_Component = Share_normalizeComponent(\n  Share,\n  common_Share,\n  Share___vue_template_functional__,\n  Share___vue_styles__,\n  Share___vue_scopeId__,\n  Share___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Share = (Share_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Dialog.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Dialog = ({\n  name: \"VDialog\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n      required: true\n    },\n    customClass: {\n      type: String,\n      default: \"\"\n    },\n    close: {\n      type: Boolean,\n      default: true\n    },\n    width: {\n      type: String,\n      default: \"720px\"\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    title: {\n      type: String,\n      default: \"\"\n    },\n    header: {\n      type: Boolean,\n      default: true\n    },\n    footer: {\n      type: Boolean,\n      default: true\n    },\n    submitText: {\n      type: String,\n      default: \"确定\"\n    },\n    cancelText: {\n      type: String,\n      default: \"取消\"\n    },\n    scroll: {\n      type: Function,\n      default: null\n    },\n    fullscreen: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    },\n    clickClose: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      dialogVisible: this.value\n    };\n  },\n\n  computed: {\n    computeDialogHeight() {\n      if (this.height) {\n        return {\n          height: this.height\n        };\n      }\n\n      if (this.scroll) {\n        return {\n          height: \"600px\"\n        };\n      }\n\n      return {\n        height: \"auto\"\n      };\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.dialogVisible = val;\n      window.__closeImageLazy__ = val;\n    });\n    this.$watch(\"dialogVisible\", val => {\n      this.$emit(\"input\", val);\n      window.__closeImageLazy__ = val;\n\n      if (val) {\n        document.getElementById(\"app\").classList.add(\"v-dialog-mask\");\n      } else {\n        document.getElementById(\"app\").classList.remove(\"v-dialog-mask\");\n      }\n    });\n  },\n\n  methods: {\n    beforeClose(done) {\n      done();\n      this.$emit(\"cancel\");\n      this.dialogVisible = false;\n    },\n\n    cancel() {\n      this.$emit(\"cancel\");\n      this.dialogVisible = false;\n    },\n\n    submit() {\n      this.$emit(\"submit\");\n    },\n\n    handleScroll(evt) {\n      if (!this.scroll || this.loading || this.noMore) {\n        return;\n      }\n\n      const ul = this.$refs.ul;\n\n      if (!ul) {\n        return;\n      }\n\n      const main = evt.currentTarget || evt.target;\n\n      if (this.$refs.ul.clientHeight - main.clientHeight - main.scrollTop < 30) {\n        this.scroll();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0df95dd4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Dialog.vue\nvar Dialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',[_c('el-dialog',{attrs:{\"width\":_vm.width,\"custom-class\":_vm.customClass,\"append-to-body\":true,\"show-close\":false,\"visible\":_vm.dialogVisible,\"before-close\":_vm.beforeClose,\"fullscreen\":_vm.fullscreen,\"close-on-click-modal\":_vm.clickClose,\"close-on-press-escape\":_vm.clickClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"v-dialog-container\"},[(_vm.header)?_c('div',{staticClass:\"v-dialog-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',{staticClass:\"v-dialog-title\",domProps:{\"textContent\":_vm._s(_vm.title)}})]):_vm._e(),(!_vm.clickClose || _vm.close)?_c('button',{staticClass:\"v-dialog-close-btn\",on:{\"click\":_vm.cancel}},[_vm._v(\"×\")]):_vm._e(),_c('main',{staticClass:\"v-dialog-content\",style:(_vm.computeDialogHeight),on:{\"scroll\":_vm.handleScroll}},[(_vm.scroll)?[_c('ul',{ref:\"ul\"},[_vm._t(\"default\")],2),(_vm.loading)?_c('p',{staticClass:\"list-loading\"},[_vm._v(\"加载中...\")]):(_vm.noMore)?_c('p',{staticClass:\"list-no-more\"},[_vm._v(\"没有更多了\")]):_vm._e()]:_vm._t(\"default\")],2),(_vm.footer)?_c('div',{staticClass:\"v-dialog-footer\"},[_vm._t(\"footer\",[(_vm.cancelText)?_c('button',{staticClass:\"v-dialog-cancel-btn\",domProps:{\"textContent\":_vm._s(_vm.cancelText)},on:{\"click\":_vm.cancel}}):_vm._e(),_c('el-button',{staticClass:\"v-dialog-submit-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\",\"size\":\"small\"},domProps:{\"textContent\":_vm._s(_vm.submitText)},on:{\"click\":_vm.submit}})])],2):_vm._e()])])],1)}\nvar Dialog_staticRenderFns = []\nvar Dialog_esExports = { render: Dialog_render, staticRenderFns: Dialog_staticRenderFns }\n/* harmony default export */ var common_Dialog = (Dialog_esExports);\n// CONCATENATED MODULE: ./src/components/common/Dialog.vue\nfunction Dialog_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(67),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Dialog_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Dialog___vue_template_functional__ = false\n/* styles */\nvar Dialog___vue_styles__ = Dialog_injectStyle\n/* scopeId */\nvar Dialog___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Dialog___vue_module_identifier__ = \"4ac5621a\"\nvar Dialog_Component = Dialog_normalizeComponent(\n  Dialog,\n  common_Dialog,\n  Dialog___vue_template_functional__,\n  Dialog___vue_styles__,\n  Dialog___vue_scopeId__,\n  Dialog___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Dialog = (Dialog_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Layout.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Layout = ({\n  name: \"VLayout\"\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c878143\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Layout.vue\nvar Layout_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"default-layout\"},[_vm._ssrNode(\"<div class=\\\"layout-main\\\">\",\"</div>\",[_vm._t(\"main\")],2),_vm._ssrNode(\"<div class=\\\"layout-aside\\\">\",\"</div>\",[_vm._t(\"aside\")],2)])}\nvar Layout_staticRenderFns = []\nvar Layout_esExports = { render: Layout_render, staticRenderFns: Layout_staticRenderFns }\n/* harmony default export */ var layouts_Layout = (Layout_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Layout.vue\nfunction Layout_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(69),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Layout_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Layout___vue_template_functional__ = false\n/* styles */\nvar Layout___vue_styles__ = Layout_injectStyle\n/* scopeId */\nvar Layout___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Layout___vue_module_identifier__ = \"a844748e\"\nvar Layout_Component = Layout_normalizeComponent(\n  Layout,\n  layouts_Layout,\n  Layout___vue_template_functional__,\n  Layout___vue_styles__,\n  Layout___vue_scopeId__,\n  Layout___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Layout = (Layout_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/AvaDialog.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var AvaDialog = ({\n  name: \"AvaDialog\",\n  props: {\n    users: {\n      required: true,\n      type: Array\n    },\n    fetch: {\n      required: true,\n      type: Function\n    },\n    displayCount: {\n      type: Number,\n      default: 7\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: \"用户列表\"\n    }\n  },\n\n  data() {\n    return {\n      showDialog: false\n    };\n  },\n\n  computed: {\n    displayUsers() {\n      return this.users.slice(0, this.displayCount);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c6d21fb\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/AvaDialog.vue\nvar AvaDialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar-dialog-wrap\"},[_vm._ssrNode(\"<ul>\",\"</ul>\",[_vm._l((_vm.displayUsers),function(user){return _vm._ssrNode(\"<li class=\\\"user-face\\\">\",\"</li>\",[_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":user.nickname,\"effect\":\"dark\",\"placement\":\"top\"}},[_c('a',{attrs:{\"href\":_vm.$alias.user(user.zone),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.$resize(user.avatar, { width: 80 })}})])])],1)}),_vm._ssrNode(((_vm.users.length > _vm.displayCount)?(\"<button class=\\\"el-icon-more\\\"></button>\"):\"<!---->\"))],2),(_vm.users.length > _vm.displayCount)?_c('v-dialog',{staticClass:\"likes-modal\",attrs:{\"title\":_vm.title,\"footer\":false,\"loading\":_vm.loading,\"no-more\":_vm.noMore,\"scroll\":_vm.fetch},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},_vm._l((_vm.users),function(user){return _c('li',{key:user.id},[_c('a',{staticClass:\"user\",attrs:{\"href\":_vm.$alias.user(user.zone),\"target\":\"_blank\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(user.avatar, { width: 120 })}}),_c('span',{staticClass:\"nickname\",domProps:{\"textContent\":_vm._s(user.nickname)}}),(user.created_at)?_c('v-time',{staticClass:\"score\",model:{value:(user.created_at),callback:function ($$v) {_vm.$set(user, \"created_at\", $$v)},expression:\"user.created_at\"}}):(user.score)?_c('v-time',{staticClass:\"score\",model:{value:(user.score),callback:function ($$v) {_vm.$set(user, \"score\", $$v)},expression:\"user.score\"}}):_vm._e()],1)])})):_vm._e()],1)}\nvar AvaDialog_staticRenderFns = []\nvar AvaDialog_esExports = { render: AvaDialog_render, staticRenderFns: AvaDialog_staticRenderFns }\n/* harmony default export */ var common_AvaDialog = (AvaDialog_esExports);\n// CONCATENATED MODULE: ./src/components/common/AvaDialog.vue\nfunction AvaDialog_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(71),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar AvaDialog_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar AvaDialog___vue_template_functional__ = false\n/* styles */\nvar AvaDialog___vue_styles__ = AvaDialog_injectStyle\n/* scopeId */\nvar AvaDialog___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar AvaDialog___vue_module_identifier__ = \"a189584e\"\nvar AvaDialog_Component = AvaDialog_normalizeComponent(\n  AvaDialog,\n  common_AvaDialog,\n  AvaDialog___vue_template_functional__,\n  AvaDialog___vue_styles__,\n  AvaDialog___vue_scopeId__,\n  AvaDialog___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_AvaDialog = (AvaDialog_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/BangumiSearch.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiSearch = ({\n  name: \"BangumiSearch\",\n  props: {\n    value: {\n      type: [String, Number, Array],\n      default: \"\"\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    clear: {\n      type: Boolean,\n      default: true\n    },\n    placeholder: {\n      type: String,\n      default: \"未选择\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    followed: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      searchId: this.value,\n      filteredOptions: [],\n      loading: false,\n      fetched: false,\n      fetchedBangumi: []\n    };\n  },\n\n  computed: {\n    bangumis() {\n      return this.followed ? this.fetchedBangumi : this.$store.state.bangumi.all;\n    },\n\n    user() {\n      return this.$store.state.user;\n    },\n\n    showPlaceholder() {\n      if (!this.followed) {\n        return this.placeholder;\n      }\n\n      if (this.loading) {\n        return \"加载中...\";\n      }\n\n      if (this.fetched && !this.bangumis.length) {\n        return \"还没有关注任何番剧\";\n      }\n\n      return this.placeholder;\n    }\n\n  },\n\n  mounted() {\n    if (this.followed) {\n      this.getData();\n    } else {\n      this.filteredOptions = this.bangumis;\n    }\n\n    this.$watch(\"value\", val => {\n      this.searchId = val;\n    });\n    this.$watch(\"searchId\", val => {\n      this.$emit(\"input\", val);\n      val && this.$emit(\"search\", val);\n    });\n  },\n\n  methods: {\n    handleEnter(query) {\n      if (!query) {\n        this.filteredOptions = this.bangumis;\n        return;\n      }\n\n      this.filteredOptions = this.bangumis.filter(option => {\n        return option.alias ? option.alias.indexOf(query) > -1 || option.name.indexOf(query) > -1 : option.name.indexOf(query) > -1;\n      });\n    },\n\n    handleSelectToggle(result) {\n      if (!result) {\n        setTimeout(() => {\n          this.filteredOptions = this.bangumis;\n        }, 500);\n      } else if (this.filteredOptions.length === 1) {\n        this.filteredOptions = this.bangumis;\n      }\n    },\n\n    async getData() {\n      if (this.loading || this.fetched || !this.user) {\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        this.fetchedBangumi = await this.$store.dispatch(\"users/getFollowBangumis\", {\n          zone: this.user.zone\n        });\n        this.filteredOptions = this.bangumis;\n        this.fetched = true;\n      } catch (e) {\n        this.$toast.error(e);\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e389142\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/BangumiSearch.vue\nvar BangumiSearch_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filter-method\":_vm.handleEnter,\"filterable\":true,\"clearable\":_vm.clear,\"disabled\":_vm.disabled,\"placeholder\":_vm.showPlaceholder,\"multiple\":_vm.multiple,\"multiple-limit\":_vm.limit},on:{\"visible-change\":_vm.handleSelectToggle},model:{value:(_vm.searchId),callback:function ($$v) {_vm.searchId=$$v},expression:\"searchId\"}},_vm._l((_vm.filteredOptions),function(item){return _c('el-option',{key:item.id,staticClass:\"bangumi-search-item\",attrs:{\"label\":item.name,\"value\":item.id}},[_c('img',{attrs:{\"src\":_vm.$resize(item.avatar, { width: 48 })}}),_c('span',{domProps:{\"textContent\":_vm._s(item.name)}})])}))}\nvar BangumiSearch_staticRenderFns = []\nvar BangumiSearch_esExports = { render: BangumiSearch_render, staticRenderFns: BangumiSearch_staticRenderFns }\n/* harmony default export */ var search_BangumiSearch = (BangumiSearch_esExports);\n// CONCATENATED MODULE: ./src/components/search/BangumiSearch.vue\nfunction BangumiSearch_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(73),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiSearch_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiSearch___vue_template_functional__ = false\n/* styles */\nvar BangumiSearch___vue_styles__ = BangumiSearch_injectStyle\n/* scopeId */\nvar BangumiSearch___vue_scopeId__ = \"data-v-3e389142\"\n/* moduleIdentifier (server only) */\nvar BangumiSearch___vue_module_identifier__ = \"40c780c3\"\nvar BangumiSearch_Component = BangumiSearch_normalizeComponent(\n  BangumiSearch,\n  search_BangumiSearch,\n  BangumiSearch___vue_template_functional__,\n  BangumiSearch___vue_styles__,\n  BangumiSearch___vue_scopeId__,\n  BangumiSearch___vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_BangumiSearch = (BangumiSearch_Component.exports);\n\n// EXTERNAL MODULE: external \"element-ui\"\nvar external__element_ui_ = __webpack_require__(21);\nvar external__element_ui__default = /*#__PURE__*/__webpack_require__.n(external__element_ui_);\n\n// EXTERNAL MODULE: ./src/assets/css/element-ui.scss\nvar element_ui = __webpack_require__(75);\nvar element_ui_default = /*#__PURE__*/__webpack_require__.n(element_ui);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Affix.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Affix = ({\n  name: \"VAffix\",\n  props: {\n    /**\n     * The relative element selector string. The relative element is\n     * the element you want your affix to be related to, as it will\n     * not be related to the window. The element will be affixed when\n     * the window reaches the relative element.\n     *\n     * @example '#contact'\n     * @type {String}\n     */\n    relativeElementSelector: {\n      type: String,\n      required: true\n    },\n\n    /**\n     * This is the offset margin between the top/bottom of the window\n     * before the affix is applied.\n     *\n     * @type {Object}\n     */\n    offset: {\n      type: Object,\n\n      default() {\n        return {\n          top: 0,\n          bottom: 40\n        };\n      }\n\n    },\n\n    /**\n     * Checks if the plugin should be enabled/disabled based\n     * on true/false, good for conditional rendering like\n     * mobile behavior.\n     *\n     * @type {Boolean}\n     */\n    enabled: {\n      type: Boolean,\n      default: true\n    },\n\n    /**\n     * Sets if the affix should be 'scrollable' when it is\n     * taller than the viewport or if it should always be\n     * affixed to the top until it reaches the end of the\n     * relative element.\n     *\n     * @type {Boolean}\n     */\n    scrollAffix: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      affixHeight: null,\n      affixBottomPos: null,\n      affixRect: null,\n      relativeElmBottomPos: null,\n      relativeElmOffsetTop: null,\n      topPadding: null,\n      lastState: null,\n      currentState: null,\n      currentScrollAffix: null,\n      distanceFromTop: 0,\n      lastDistanceFromTop: 0,\n      scrollingUp: null,\n      scrollingDown: null\n    };\n  },\n\n  computed: {\n    /**\n     * Computes the relative element selector to an element.\n     *\n     * @return {Element} document.querySelector(this.relativeElementSelector)\n     */\n    relativeElement() {\n      return document.querySelector(this.relativeElementSelector);\n    }\n\n  },\n\n  beforeMount() {\n    this.distanceFromTop = window.pageYOffset;\n    this.lastDistanceFromTop = window.pageYOffset;\n  },\n\n  mounted() {\n    this.$el.classList.add(\"vue-affix\");\n    this.affixInitialTop = this.getOffsetTop(this.$el);\n    this.topPadding = this.affixInitialTop - this.getOffsetTop(this.relativeElement);\n    this.setDynamicVariables();\n    if (this.scrollAffix) this.initScrollAffix();\n    this.onScroll();\n    window.addEventListener(\"scroll\", this.onScroll);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  },\n\n  methods: {\n    setDynamicVariables() {\n      this.distanceFromTop = window.pageYOffset;\n      this.affixRect = this.$el.getBoundingClientRect();\n      this.affixHeight = this.$el.offsetHeight;\n      this.affixBottomPos = this.distanceFromTop + this.affixRect.bottom;\n      this.screenBottomPos = this.distanceFromTop + window.innerHeight;\n      this.relativeElmBottomPos = this.distanceFromTop + this.relativeElement.getBoundingClientRect().bottom;\n      this.relativeElmOffsetTop = this.getOffsetTop(this.relativeElement);\n    },\n\n    onScroll() {\n      if (!this.enabled) {\n        this.removeClasses();\n        return;\n      }\n\n      this.setDynamicVariables();\n\n      if (this.affixHeight + this.offset.top >= this.relativeElement.offsetHeight) {\n        return;\n      }\n\n      this.handleAffix();\n    },\n\n    handleAffix() {\n      if (this.scrollAffix && this.affixHeight > window.innerHeight) {\n        this.setScrollingDirection();\n\n        if (this.currentScrollAffix === \"scrollaffix-top\") {\n          if (this.distanceFromTop + this.offset.top >= this.affixInitialTop) {\n            this.setScrollAffixScrolling();\n          }\n        }\n\n        if (this.scrollingDown && this.currentScrollAffix === \"scrollaffix-scrolling\") {\n          if (this.screenBottomPos >= this.affixBottomPos + this.offset.bottom && this.screenBottomPos < this.relativeElmBottomPos) {\n            this.setScrollAffixDown();\n          }\n        }\n\n        if (this.scrollingUp && this.currentScrollAffix === \"scrollaffix-scrolling\") {\n          if (this.distanceFromTop + this.offset.top + this.topPadding < this.affixRect.top + this.distanceFromTop) {\n            this.setScrollAffixUp();\n          }\n        }\n\n        if (this.scrollingDown && this.currentScrollAffix === \"scrollaffix-down\") {\n          if (this.screenBottomPos >= this.relativeElmBottomPos + this.offset.bottom) {\n            this.setScrollAffixBottom();\n          }\n        }\n\n        if (this.currentScrollAffix === \"scrollaffix-bottom\" && this.screenBottomPos < this.relativeElmBottomPos) {\n          this.setScrollAffixScrolling();\n        }\n\n        if (this.scrollingUp && this.currentScrollAffix === \"scrollaffix-down\" || this.scrollingDown && this.currentScrollAffix === \"scrollaffix-up\") {\n          this.setScrollAffixScrolling();\n        }\n\n        if (this.scrollingUp && this.currentScrollAffix === \"scrollaffix-up\" && this.distanceFromTop < this.relativeElmOffsetTop - this.offset.top) {\n          this.setScrollAffixTop();\n        }\n\n        this.lastScrollAffixState = this.currentScrollAffix;\n        this.lastDistanceFromTop = this.distanceFromTop;\n        return;\n      }\n\n      if (this.distanceFromTop < this.relativeElmOffsetTop - this.offset.top) {\n        this.setAffixTop();\n      }\n\n      if (this.distanceFromTop >= this.relativeElmOffsetTop - this.offset.top && this.relativeElmBottomPos - this.offset.bottom >= this.distanceFromTop + this.topPadding + this.affixHeight + this.offset.top) {\n        this.setAffix();\n      }\n\n      if (this.relativeElmBottomPos - this.offset.bottom < this.distanceFromTop + this.topPadding + this.affixHeight + this.offset.top) {\n        this.setAffixBottom();\n      }\n\n      this.lastState = this.currentState;\n    },\n\n    /**\n     * Sets the initial position of the affixed element\n     * when scrollAffix is set to true.\n     */\n    initScrollAffix() {\n      if (this.distanceFromTop < this.affixInitialTop - this.offset.top) {\n        this.setScrollAffixTop();\n      } else if (this.screenBottomPos >= this.affixBottomPos + this.offset.bottom && this.screenBottomPos < this.relativeElmBottomPos) {\n        this.setScrollAffixDown();\n      } else if (this.screenBottomPos >= this.relativeElmBottomPos) {\n        this.setScrollAffixBottom();\n      } else {\n        this.setScrollAffixScrolling();\n      }\n    },\n\n    /**\n     * Sets te currentScrollAffix to 'scrolling' to indicate that\n     * the window is scrolling inside the affixed element.\n     */\n    setScrollAffixScrolling() {\n      this.currentScrollAffix = \"scrollaffix-scrolling\";\n      this.$el.style.top = `${this.affixRect.top + this.distanceFromTop - this.affixInitialTop}px`;\n      this.$el.style.bottom = \"auto\";\n      this.removeClasses();\n      this.emitEvent();\n    },\n\n    /**\n     * Sets the position of the affixed element to be fixed\n     * at the top of the screen, as you are scrolling UP.\n     */\n    setScrollAffixUp() {\n      this.currentScrollAffix = \"scrollaffix-up\";\n\n      if (this.currentScrollAffix !== this.lastState) {\n        this.$el.style.top = `${this.topPadding + this.offset.top}px`;\n        this.$el.style.bottom = \"auto\";\n        this.removeClasses();\n        this.emitEvent();\n        this.$el.classList.add(\"affix\");\n      }\n    },\n\n    /**\n     * Sets the position of the affixed element to be fixed\n     * at the bottom of the screen, as you are scrolling DOWN.\n     */\n    setScrollAffixDown() {\n      this.currentScrollAffix = \"scrollaffix-down\";\n\n      if (this.currentScrollAffix !== this.lastState) {\n        this.$el.style.bottom = `${this.offset.bottom}px`;\n        this.$el.style.top = \"auto\";\n        this.removeClasses();\n        this.emitEvent();\n        this.$el.classList.add(\"affix\");\n      }\n    },\n\n    /**\n     * Sets the position of the affixed element to be at the\n     * most top.\n     */\n    setScrollAffixTop() {\n      this.currentScrollAffix = \"scrollaffix-top\";\n      this.$el.style.top = 0;\n      this.$el.style.bottom = \"auto\";\n      this.removeClasses();\n      this.emitEvent();\n    },\n\n    /**\n     * Sets the position of the affixed element to be at the\n     * most bottom.\n     */\n    setScrollAffixBottom() {\n      this.currentScrollAffix = \"scrollaffix-bottom\";\n      this.$el.style.top = `${this.relativeElmBottomPos - this.affixInitialTop - this.affixHeight}px`;\n      this.$el.style.bottom = \"auto\";\n      this.removeClasses();\n      this.emitEvent();\n    },\n\n    /**\n     * Sets the direction the window is being scrolled.\n     */\n    setScrollingDirection() {\n      if (this.distanceFromTop > this.lastDistanceFromTop) {\n        this.scrollingDown = true;\n        this.scrollingUp = false;\n      } else {\n        this.scrollingUp = true;\n        this.scrollingDown = false;\n      }\n    },\n\n    /**\n     * Sets the affix-top class to indicate that the element is\n     * above the relative element.\n     */\n    setAffixTop() {\n      this.currentState = \"affix-top\";\n\n      if (this.currentState !== this.lastState) {\n        this.emitEvent();\n        this.removeClasses();\n        this.$el.classList.remove(\"affix\");\n        this.$el.classList.add(\"affix-top\");\n        this.$el.style.top = null;\n      }\n    },\n\n    /**\n     * Sets the affix class to indicate that the element is\n     * fixed to the top of the relative element.\n     */\n    setAffix() {\n      this.currentState = \"affix\";\n      this.$el.style.top = `${this.topPadding + this.offset.top}px`;\n\n      if (this.currentState !== this.lastState) {\n        this.emitEvent();\n        this.removeClasses();\n        this.$el.classList.add(\"affix\");\n      }\n    },\n\n    /**\n     * Sets the affix-bottom class to indicate that the element is\n     * below the relative element.\n     */\n    setAffixBottom() {\n      this.currentState = \"affix-bottom\";\n      this.$el.style.top = `${this.relativeElement.offsetHeight - this.affixHeight - this.offset.bottom - this.topPadding}px`;\n\n      if (this.currentState !== this.lastState) {\n        this.emitEvent();\n        this.removeClasses();\n        this.$el.classList.add(\"affix-bottom\");\n      }\n    },\n\n    /**\n     * Removes all three affix classes.\n     */\n    removeClasses() {\n      this.$el.classList.remove(\"affix-top\");\n      this.$el.classList.remove(\"affix\");\n      this.$el.classList.remove(\"affix-bottom\");\n    },\n\n    /**\n     * Emits the events based on the current state of the affix.\n     */\n    emitEvent() {\n      if (this.scrollAffix && this.lastScrollAffixState) {\n        this.$emit(this.currentScrollAffix.replace(\"-\", \"\"));\n      }\n\n      if (this.lastState) {\n        this.$emit(this.currentState.replace(\"-\", \"\"));\n      }\n    },\n\n    /**\n     * Gets the top offset position of an element in the document.\n     *\n     * @param  {Element} element\n     * @return {Number}\n     */\n    getOffsetTop(element) {\n      let yPosition = 0;\n      let nextElement = element;\n\n      while (nextElement) {\n        yPosition += nextElement.offsetTop;\n        nextElement = nextElement.offsetParent;\n      }\n\n      return yPosition;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6873c8bc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Affix.vue\nvar Affix_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar Affix_staticRenderFns = []\nvar Affix_esExports = { render: Affix_render, staticRenderFns: Affix_staticRenderFns }\n/* harmony default export */ var common_Affix = (Affix_esExports);\n// CONCATENATED MODULE: ./src/components/common/Affix.vue\nfunction Affix_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(76),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Affix_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Affix___vue_template_functional__ = false\n/* styles */\nvar Affix___vue_styles__ = Affix_injectStyle\n/* scopeId */\nvar Affix___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Affix___vue_module_identifier__ = \"3fad6af5\"\nvar Affix_Component = Affix_normalizeComponent(\n  Affix,\n  common_Affix,\n  Affix___vue_template_functional__,\n  Affix___vue_styles__,\n  Affix___vue_scopeId__,\n  Affix___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Affix = (Affix_Component.exports);\n\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/utils.js\nclass Utils {\n  constructor() {\n    this.id = 0;\n    this.listeners = {};\n  }\n\n  checkInView(ele, scale = 1.3) {\n    if (typeof window === \"undefined\" || !(ele instanceof Element)) {\n      return false;\n    }\n\n    const rect = ele.getBoundingClientRect();\n    return rect.top < window.innerHeight * scale && rect.bottom > 0 && rect.left < window.innerWidth * scale && rect.right > 0;\n  }\n\n  on(element, evt, handler, capture = false) {\n    const events = typeof evt === \"string\" ? [evt] : evt;\n    const result = [];\n    events.forEach(event => {\n      const id = this.id++;\n      element.addEventListener(event, handler, capture);\n      this.listeners[id] = {\n        element,\n        event,\n        handler,\n        capture\n      };\n      result.push(id);\n    });\n    return result;\n  }\n\n  off(ids) {\n    ids.forEach(id => {\n      if (this.listeners[id]) {\n        const h = this.listeners[id];\n        h.element.removeEventListener(h.event, h.handler, h.capture);\n        delete this.listeners[id];\n      }\n    });\n  }\n\n}\n\n/* harmony default export */ var ImageLazyLoad_utils = (new Utils());\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n // TODO large height image cropper & click show all\n// TODO large GIF click load\n// TODO test render when use v-show\n// TODO watch src change\n\n/* harmony default export */ var ImageLazyLoad = ({\n  name: \"VImg\",\n  props: {\n    src: {\n      required: true,\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: [Number, String],\n      default: 0\n    },\n    height: {\n      type: [Number, String],\n      default: 0\n    },\n    size: {\n      type: [Number, String],\n      default: 0\n    },\n    full: {\n      type: Boolean,\n      default: false\n    },\n    mime: {\n      type: String,\n      default: \"\"\n    },\n    lazy: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      loaded: false,\n      error: false,\n      containerWidth: 0,\n      message: \"\",\n      placeholderImage: \"\",\n      errorPlaceholder: \"\",\n      errorMessage: \"\",\n      retryMessage: \"\",\n      heightLimit: 0,\n      loadLimit: 0,\n      retryLimit: 0\n    };\n  },\n\n  computed: {\n    lazyFullStyle() {\n      return {\n        width: `${this.width}px`,\n        height: this.computeContainerHeight ? `${this.computeContainerHeight}px` : \"auto\"\n      };\n    },\n\n    computeContainerHeight() {\n      if (this.$isServer) {\n        return 0;\n      }\n\n      if (this.width >= this.containerWidth) {\n        return parseInt(this.height / this.width * this.containerWidth, 10);\n      }\n\n      return this.height;\n    },\n\n    fullImagePaddingShim() {\n      if (this.width >= this.containerWidth) {\n        return {\n          paddingTop: `${this.height / this.width * 100}%`\n        };\n      }\n\n      return {\n        paddingTop: `${this.height / this.containerWidth * 100}%`\n      };\n    },\n\n    computeShimWidth() {\n      return this.width >= this.containerWidth ? \"100%\" : `${this.width}px`;\n    },\n\n    convertImageReallyWidth() {\n      const numberWidth = +this.width.toString().replace(\"px\", \"\").replace(\"%\", \"\");\n      return parseInt(/%$/.test(this.width) ? this.containerWidth / 50 * numberWidth : numberWidth * 2, 10);\n    },\n\n    normalImageStyle() {\n      return this.size ? {\n        width: this.convertSize(this.size),\n        height: this.convertSize(this.size)\n      } : {\n        width: this.convertSize(this.width),\n        height: this.convertSize(this.height)\n      };\n    },\n\n    shouldClickToLoad() {\n      return !!(this.size && this.mime && this.loadLimit && /gif/i.test(this.mime) && this.size - this.loadLimit > 0);\n    },\n\n    fullImageSrc() {\n      return this.width > this.containerWidth ? this.$resize(this.src, {\n        width: this.containerWidth * 2,\n        height: this.computeContainerHeight * 2\n      }) : this.$resize(this.src, {\n        width: this.width,\n        height: this.height\n      });\n    },\n\n    flowImageSrc() {\n      if (this.full) {\n        return this.width > this.containerWidth ? this.$resize(this.src, {\n          width: this.containerWidth * 2,\n          height: this.computeContainerHeight * 2\n        }) : this.$resize(this.src, {\n          width: this.width,\n          height: this.height\n        });\n      }\n\n      return this.$resize(this.src, this.size ? {\n        width: +this.size * 2\n      } : this.width === \"auto\" ? {\n        height: +this.height * 2,\n        mode: 2\n      } : {\n        width: this.convertImageReallyWidth,\n        height: +this.height * 2\n      });\n    }\n\n  },\n\n  mounted() {\n    this.containerWidth = this.$el.parentNode.offsetWidth;\n\n    if (!this.lazy || window.__closeImageLazy__ || ImageLazyLoad_utils.checkInView(this.$el)) {\n      this.loadImageResource();\n    } else {\n      this.bindLazyEvent();\n    }\n  },\n\n  methods: {\n    bindLazyEvent() {\n      const eventId = ImageLazyLoad_utils.on(document, \"scroll\", this.$utils.throttle(() => {\n        if (ImageLazyLoad_utils.checkInView(this.$el)) {\n          this.loadImageResource(false);\n          ImageLazyLoad_utils.off(eventId);\n        }\n      }, 200), false);\n    },\n\n    bindRetryEvent() {\n      const eventId = ImageLazyLoad_utils.on(this.$el, \"click\", e => {\n        this.retryLimit--;\n        this.message = this.retryMessage;\n        this.loadImageResource(true);\n        ImageLazyLoad_utils.off(eventId);\n        e.stopPropagation();\n      }, false);\n    },\n\n    loadImageResource(force) {\n      if (!this.shouldClickToLoad || force) {\n        this.loaded = true;\n      }\n    },\n\n    convertSize(size) {\n      if (/px$/.test(size)) {\n        return size;\n      }\n\n      if (/%$/.test(size)) {\n        return size;\n      }\n\n      return `${size}px`;\n    },\n\n    handleImageLoadSuccess() {\n      this.error = false;\n    },\n\n    handleImageLoadError() {\n      this.error = true;\n\n      if (this.full && this.retryLimit >= 0) {\n        this.message = this.errorMessage;\n        this.bindRetryEvent();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20d5dd39\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\nvar ImageLazyLoad_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.full)?_c('div',{staticClass:\"lazy-full-image\",class:{ 'lazy-image-fade': !_vm.loaded, 'lazy-image-retry': _vm.error },style:(_vm.lazyFullStyle)},[_vm._ssrNode(\"<div class=\\\"lazy-image-padding\\\"\"+(_vm._ssrStyle(null,_vm.fullImagePaddingShim, null))+\"></div><div class=\\\"lazy-image-shim\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$isServer ? '' : _vm.loaded ? _vm.fullImageSrc : _vm.placeholderImage))+(_vm._ssrStyle(null,{ width: _vm.computeShimWidth }, null))+\"></div>\"+((_vm.error)?(\"<div class=\\\"lazy-image-error\\\"><span class=\\\"lazy-image-message\\\">\"+_vm._ssrEscape(_vm._s(_vm.message))+\"</span></div>\"):\"<!---->\"))],2):_c('span',{staticClass:\"lazy-flow-image\",class:{ 'lazy-image-fade': !_vm.loaded },style:(_vm.normalImageStyle)},[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.error ? _vm.errorPlaceholder : _vm.$isServer ? '' : _vm.loaded ? _vm.flowImageSrc : _vm.placeholderImage))+\">\")])}\nvar ImageLazyLoad_staticRenderFns = []\nvar ImageLazyLoad_esExports = { render: ImageLazyLoad_render, staticRenderFns: ImageLazyLoad_staticRenderFns }\n/* harmony default export */ var ImageLazyLoad_ImageLazyLoad = (ImageLazyLoad_esExports);\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\nfunction ImageLazyLoad_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(77),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImageLazyLoad_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageLazyLoad___vue_template_functional__ = false\n/* styles */\nvar ImageLazyLoad___vue_styles__ = ImageLazyLoad_injectStyle\n/* scopeId */\nvar ImageLazyLoad___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageLazyLoad___vue_module_identifier__ = \"3adfa120\"\nvar ImageLazyLoad_Component = ImageLazyLoad_normalizeComponent(\n  ImageLazyLoad,\n  ImageLazyLoad_ImageLazyLoad,\n  ImageLazyLoad___vue_template_functional__,\n  ImageLazyLoad___vue_styles__,\n  ImageLazyLoad___vue_scopeId__,\n  ImageLazyLoad___vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImageLazyLoad_ImageLazyLoad = (ImageLazyLoad_Component.exports);\n\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/index.js\n\n\ncommon_ImageLazyLoad_ImageLazyLoad.install = function (Vue, opts = {}) {\n  Vue.component(common_ImageLazyLoad_ImageLazyLoad.name, {\n    extends: common_ImageLazyLoad_ImageLazyLoad,\n\n    data() {\n      return {\n        heightLimit: opts.heightLimit || 0,\n        loadLimit: opts.loadLimit || 0,\n        retryLimit: opts.retryLimit || 3,\n        placeholderImage: opts.placeholderImage || \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n        errorPlaceholder: opts.errorPlaceholder || \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n        errorMessage: opts.errorMessage || \"图片加载失败，请点击重试\",\n        retryMessage: opts.retryMessage || \"加载中...\"\n      };\n    }\n\n  });\n};\n\n/* harmony default export */ var common_ImageLazyLoad = (common_ImageLazyLoad_ImageLazyLoad);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/LoadMoreBtn.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var LoadMoreBtn = ({\n  name: \"LoadMoreBtn\",\n  props: {\n    noMore: {\n      required: true,\n      type: Boolean\n    },\n    loading: {\n      required: true,\n      type: Boolean\n    },\n    auto: {\n      default: false,\n      type: Boolean\n    }\n  },\n\n  mounted() {\n    if (this.auto && !this.noMore) {\n      const eventId = ImageLazyLoad_utils.on(document, \"scroll\", this.$utils.throttle(() => {\n        if (ImageLazyLoad_utils.checkInView(this.$el)) {\n          this.$emit(\"fetch\");\n        }\n\n        if (this.noMore) {\n          ImageLazyLoad_utils.off(eventId);\n        }\n      }, 200), false);\n    }\n  },\n\n  methods: {\n    loadMore() {\n      if (this.loading || this.noMore) {\n        return;\n      }\n\n      this.$emit(\"fetch\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-609ac66c\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/LoadMoreBtn.vue\nvar LoadMoreBtn_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"load-more-btn\",on:{\"click\":_vm.loadMore}},[_vm._ssrNode(\"<i class=\\\"el-icon-loading\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.loading) ? '' : 'none' }))+\" data-v-609ac66c></i>\"+_vm._ssrEscape(\"\\n  \"+_vm._s(_vm.noMore ? '没有更多了，休息一下吧ヾ(*￣▽￣*)/' : _vm.loading ? '加载中' : '加载更多')+\"\\n\"))])}\nvar LoadMoreBtn_staticRenderFns = []\nvar LoadMoreBtn_esExports = { render: LoadMoreBtn_render, staticRenderFns: LoadMoreBtn_staticRenderFns }\n/* harmony default export */ var common_LoadMoreBtn = (LoadMoreBtn_esExports);\n// CONCATENATED MODULE: ./src/components/common/LoadMoreBtn.vue\nfunction LoadMoreBtn_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(79),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar LoadMoreBtn_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar LoadMoreBtn___vue_template_functional__ = false\n/* styles */\nvar LoadMoreBtn___vue_styles__ = LoadMoreBtn_injectStyle\n/* scopeId */\nvar LoadMoreBtn___vue_scopeId__ = \"data-v-609ac66c\"\n/* moduleIdentifier (server only) */\nvar LoadMoreBtn___vue_module_identifier__ = \"7a9a2434\"\nvar LoadMoreBtn_Component = LoadMoreBtn_normalizeComponent(\n  LoadMoreBtn,\n  common_LoadMoreBtn,\n  LoadMoreBtn___vue_template_functional__,\n  LoadMoreBtn___vue_styles__,\n  LoadMoreBtn___vue_scopeId__,\n  LoadMoreBtn___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_LoadMoreBtn = (LoadMoreBtn_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ReportDialog.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ReportDialog = ({\n  name: \"ReportDialog\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    },\n    title: {\n      type: String,\n      default: \"违规举报\"\n    },\n    org: {\n      type: Boolean,\n      default: false\n    },\n    isCreator: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      showDialog: false,\n      selectedType: -1,\n      content: \"\",\n      loading: false\n    };\n  },\n\n  computed: {\n    needContent() {\n      return this.selectedType === 0 || this.selectedType === 6;\n    }\n\n  },\n  watch: {},\n\n  created() {},\n\n  mounted() {},\n\n  methods: {\n    async submit() {\n      if (this.selectedType < 0) {\n        this.$toast.error(\"请选择正确的分类\");\n        return;\n      }\n\n      if (this.needContent && !this.content) {\n        this.$toast.error(\"请填写具体情况\");\n        return;\n      }\n\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new userApi[\"a\" /* default */](this);\n\n      try {\n        api.report({\n          id: this.id,\n          message: this.content,\n          type: this.selectedType,\n          model: this.type\n        });\n      } finally {\n        this.loading = false;\n        this.$toast.success(\"感谢您的反馈！\");\n        this.showDialog = false;\n        this.content = \"\";\n        this.selectedType = -1;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d292162\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ReportDialog.vue\nvar ReportDialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"report-dialog-wrap\"},[_c('v-dialog',{attrs:{\"title\":_vm.title,\"loading\":_vm.loading,\"submit-text\":\"提交\",\"custom-class\":\"report-dialog\"},on:{\"submit\":_vm.submit},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},[_c('h3',[_vm._v(\"违反法律法规\")]),_c('el-radio-group',{model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"违法违规\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"色情低俗\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"赌博诈骗\")])],1),_c('h3',[_vm._v(\"侵犯个人权益\")]),_c('el-radio-group',{model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},[_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"人身攻击\")]),_c('el-radio',{attrs:{\"label\":5}},[_vm._v(\"侵犯隐私\")]),(_vm.isCreator)?_c('el-radio',{attrs:{\"label\":6}},[_vm._v(\"内容抄袭\")]):_vm._e()],1),_c('h3',[_vm._v(\"有害社区环境\")]),_c('el-radio-group',{model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}},[_c('el-radio',{attrs:{\"label\":7}},[_vm._v(\"垃圾广告\")]),_c('el-radio',{attrs:{\"label\":8}},[_vm._v(\"恶意引战\")]),_c('el-radio',{attrs:{\"label\":9}},[_vm._v(\"重复内容/刷屏\")]),_c('el-radio',{attrs:{\"label\":10}},[_vm._v(\"内容不相关\")]),_c('el-radio',{attrs:{\"label\":11}},[_vm._v(\"互刷金币\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"其它\")])],1),(_vm.needContent)?[_c('h3',[_vm._v(\"留言：\")]),_c('el-input',{attrs:{\"rows\":3,\"resize\":\"none\",\"type\":\"textarea\",\"placeholder\":\"请说明情况\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"content\"}})]:_vm._e()],2),_vm._ssrNode(\"<span class=\\\"report-btn\\\">\",\"</span>\",[_vm._t(\"default\")],2)],1)}\nvar ReportDialog_staticRenderFns = []\nvar ReportDialog_esExports = { render: ReportDialog_render, staticRenderFns: ReportDialog_staticRenderFns }\n/* harmony default export */ var common_ReportDialog = (ReportDialog_esExports);\n// CONCATENATED MODULE: ./src/components/common/ReportDialog.vue\nfunction ReportDialog_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(81),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ReportDialog_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ReportDialog___vue_template_functional__ = false\n/* styles */\nvar ReportDialog___vue_styles__ = ReportDialog_injectStyle\n/* scopeId */\nvar ReportDialog___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ReportDialog___vue_module_identifier__ = \"38f1b507\"\nvar ReportDialog_Component = ReportDialog_normalizeComponent(\n  ReportDialog,\n  common_ReportDialog,\n  ReportDialog___vue_template_functional__,\n  ReportDialog___vue_styles__,\n  ReportDialog___vue_scopeId__,\n  ReportDialog___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_ReportDialog = (ReportDialog_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/user/UserSex.vue + 2 modules\nvar UserSex = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserCard.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var UserCard = ({\n  name: \"UserCard\",\n  components: {\n    UserSex: UserSex[\"a\" /* default */]\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    zone: {\n      required: true,\n      type: String\n    },\n    customClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      user: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    handleHover() {\n      if (!this.user) {\n        this.getUserFromLocal();\n\n        if (!this.user) {\n          this.getUserFromServer();\n        }\n      }\n    },\n\n    getUserFromLocal() {\n      try {\n        this.user = JSON.parse(sessionStorage.getItem(`user-card-${this.id}`));\n      } catch (e) {}\n    },\n\n    async getUserFromServer() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      const api = new userApi[\"a\" /* default */](this);\n\n      try {\n        const data = await api.getUserCard({\n          id: this.id\n        });\n        this.user = data;\n        sessionStorage.setItem(`user-card-${this.id}`, JSON.stringify(data));\n      } finally {\n        this.loading = false;\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f2ce07b8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserCard.vue\nvar UserCard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{attrs:{\"popper-class\":_vm.loading ? 'user-card-loading' : 'user-card',\"width\":375,\"open-delay\":400,\"trigger\":\"hover\"},on:{\"show\":_vm.handleHover}},[_c('div',{staticClass:\"content\"},[(_vm.loading)?_c('mt-spinner',{attrs:{\"type\":\"triple-bounce\"}}):(_vm.user)?[_c('div',{staticClass:\"background\",style:({ backgroundImage: (\"url(\" + (_vm.$resize(_vm.user.banner, { width: 750, height: 240 })) + \")\") })}),_c('div',{staticClass:\"profile\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.zone),\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":_vm.user.avatar,\"size\":55,\"lazy\":false}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"nickname\"},[_c('a',{attrs:{\"href\":_vm.$alias.user(_vm.zone),\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(_vm.user.nickname)}}),_c('user-sex',{attrs:{\"sex\":_vm.user.sex,\"secret\":_vm.user.sexSecret}}),_c('span',{staticClass:\"level\"},[_vm._v(\"\\n              Lv\"+_vm._s(_vm.user.level)+\"\\n            \")])],1),_c('p',{staticClass:\"signature\",domProps:{\"textContent\":_vm._s(_vm.user.signature)}})])])]:_vm._e()],2),_c('a',{staticClass:\"avatar-slot\",class:_vm.customClass,attrs:{\"slot\":\"reference\",\"href\":_vm.$alias.user(_vm.zone),\"target\":\"_blank\"},slot:\"reference\"},[_vm._t(\"default\")],2)])}\nvar UserCard_staticRenderFns = []\nvar UserCard_esExports = { render: UserCard_render, staticRenderFns: UserCard_staticRenderFns }\n/* harmony default export */ var user_UserCard = (UserCard_esExports);\n// CONCATENATED MODULE: ./src/components/user/UserCard.vue\nfunction UserCard_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(83),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar UserCard_normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar UserCard___vue_template_functional__ = false\n/* styles */\nvar UserCard___vue_styles__ = UserCard_injectStyle\n/* scopeId */\nvar UserCard___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar UserCard___vue_module_identifier__ = \"1980a6c6\"\nvar UserCard_Component = UserCard_normalizeComponent(\n  UserCard,\n  user_UserCard,\n  UserCard___vue_template_functional__,\n  UserCard___vue_styles__,\n  UserCard___vue_scopeId__,\n  UserCard___vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserCard = (UserCard_Component.exports);\n\n// CONCATENATED MODULE: ./src/utils/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal__vue__default.a.use(external__element_ui__default.a);\nexternal__vue__default.a.use(infinite_scroll__default.a);\nexternal__vue__default.a.use(common_ImageLazyLoad, {});\nexternal__vue__default.a.component(spinner__default.a.name, spinner__default.a);\nexternal__vue__default.a.component(components_user_UserCard.name, components_user_UserCard);\nexternal__vue__default.a.component(components_common_ReportDialog.name, components_common_ReportDialog);\nexternal__vue__default.a.component(components_common_LoadMoreBtn.name, components_common_LoadMoreBtn);\nexternal__vue__default.a.component(Header[\"a\" /* default */].name, Header[\"a\" /* default */]);\nexternal__vue__default.a.component(components_common_Affix.name, components_common_Affix);\nexternal__vue__default.a.component(components_search_BangumiSearch.name, components_search_BangumiSearch);\nexternal__vue__default.a.component(components_layouts_Layout.name, components_layouts_Layout);\nexternal__vue__default.a.component(components_common_AvaDialog.name, components_common_AvaDialog);\nexternal__vue__default.a.component(components_common_Share.name, components_common_Share);\nexternal__vue__default.a.component(nossr.name, nossr);\nexternal__vue__default.a.component(timeago.name, timeago);\nexternal__vue__default.a.component(components_bangumi_BangumiPanel.name, components_bangumi_BangumiPanel);\nexternal__vue__default.a.component(src_components_NoContent.name, src_components_NoContent);\nexternal__vue__default.a.component(components_common_Hr.name, components_common_Hr);\nexternal__vue__default.a.component(components_common_Share.name, components_common_Share);\nexternal__vue__default.a.component(components_common_Dialog.name, components_common_Dialog);\nexternal__vue__default.a.use({\n  install(Vue, options) {\n    Vue.prototype.$utils = utils;\n    Vue.prototype.$cdn = _env_default.a.cdn;\n    Vue.prototype.$channel = new Vue();\n    Vue.prototype.$alias = alias;\n    Vue.prototype.$imageAcceptStr = \"image/png, image/jpeg, image/jpg, image/x-png, image/gif\";\n\n    Vue.prototype.$resize = (url, options = {}) => {\n      if (!url) {\n        return \"\";\n      }\n\n      if (/imageMogr2/.test(url)) {\n        return url;\n      }\n\n      const link = /^http/.test(url) ? url : `${_env_default.a.cdn.image}${url}`;\n\n      const canUseWebP = () => {\n        if (Vue.prototype.$isServer) {\n          return false;\n        }\n\n        if (window.supportWebP !== undefined) {\n          return window.supportWebP;\n        }\n\n        const elem = document.createElement(\"canvas\");\n\n        if (elem.getContext && elem.getContext(\"2d\")) {\n          const support = elem.toDataURL(\"image/webp\").indexOf(\"data:image/webp\") === 0;\n          window.supportWebP = support;\n          return support;\n        }\n\n        return false;\n      };\n\n      const useWebP = options.webP === undefined ? true : options.webP;\n      const format = canUseWebP() && useWebP ? \"/format/webp\" : \"\";\n      const mode = options.mode === undefined ? 1 : options.mode;\n\n      if (mode === 1 && !options.width || !options.width && !options.height) {\n        return `${link}?imageMogr2/auto-orient/strip${format}`;\n      }\n\n      let width;\n      let height;\n\n      if (mode === 1) {\n        width = `/w/${options.width}`;\n        height = options.height ? `/h/${options.height}` : `/h/${options.width}`;\n      } else {\n        width = options.width ? `/w/${options.width}` : \"\";\n        height = options.height ? `/h/${options.height}` : \"\";\n      }\n\n      return `${link}?imageMogr2/auto-orient/strip|imageView2/${mode}${width}${height}${format}`;\n    };\n  }\n\n});\nexternal__vue__default.a.mixin({\n  methods: {\n    $computeImageAspect(image) {\n      const width = image.width;\n      const height = image.height;\n\n      if (!width || !height) {\n        return 0;\n      }\n\n      return height / width;\n    }\n\n  }\n});\n// EXTERNAL MODULE: ./node_modules/normalize.css/normalize.css\nvar normalize = __webpack_require__(85);\nvar normalize_default = /*#__PURE__*/__webpack_require__.n(normalize);\n\n// CONCATENATED MODULE: ./src/app.js\n\n\n\n\n\n\n\n\nfunction createApp() {\n  const router = createRouter();\n  const store = createStore();\n  Object(external__vuex_router_sync_[\"sync\"])(store, router);\n  const app = new external__vue__default.a({\n    router,\n    store,\n    render: h => h(src_app)\n  });\n  return {\n    app,\n    router,\n    store\n  };\n}\n// CONCATENATED MODULE: ./src/entry/entry-server.js\n\n/* harmony default export */ var entry_server = __webpack_exports__[\"default\"] = (ssrContext => {\n  const {\n    app,\n    router,\n    store\n  } = createApp();\n  const meta = app.$meta();\n  return new Promise((resolve, reject) => {\n    const url = ssrContext.url;\n    router.push(url);\n    router.onReady(async () => {\n      const matchedComponents = router.getMatchedComponents();\n\n      if (!matchedComponents.length) {\n        // eslint-disable-next-line prefer-promise-reject-errors\n        reject({\n          code: 404\n        });\n      }\n\n      const ctx = ssrContext.ctx;\n      const routeMatched = router.currentRoute.matched;\n      const useAuth = routeMatched.some(record => record.meta.useAuth);\n      const mustAuth = routeMatched.some(record => record.meta.mustAuth);\n      const mustAdmin = routeMatched.some(record => record.meta.isAdmin);\n\n      try {\n        if (mustAuth || mustAdmin) {\n          await store.dispatch(\"initAuth\", {\n            ctx,\n            must: true,\n            admin: mustAdmin\n          });\n        }\n\n        const matched = matchedComponents.map(({\n          asyncData\n        }) => asyncData && asyncData({\n          ctx,\n          store,\n          route: router.currentRoute\n        }));\n\n        if (useAuth) {\n          matched.unshift(store.dispatch(\"initAuth\", {\n            ctx,\n            must: false,\n            admin: false\n          }));\n        }\n\n        matched.push(store.dispatch(\"initApp\", {\n          ctx\n        }));\n        await Promise.all(matched);\n        ssrContext.state = store.state;\n        ssrContext.meta = meta;\n        resolve(app);\n      } catch (e) {\n        reject(e);\n      }\n    }, reject);\n  });\n});\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(25);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"2902b743\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#space3D{-webkit-perspective:800px;perspective:800px;-webkit-perspective-origin:50% 50%;perspective-origin:50% 50%;background-color:transparent;z-index:11;position:fixed;left:0;top:0;height:100%;width:100%}#space3D.space-leave{visibility:hidden}#space3D.space-enter{visibility:visible}#space3D .sign-modal-wrap{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;z-index:12}#space3D .sign-modal-wrap .sign-modal{padding:50px 60px;background-color:#fff;border-radius:4px;position:fixed;top:50%;left:50%;width:500px;height:460px;margin-left:-250px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s;font-size:14px;visibility:hidden;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-shadow:0 5px 25px rgba(0,0,0,.1);box-shadow:0 5px 25px rgba(0,0,0,.1)}#space3D .sign-modal-wrap .sign-modal button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#space3D .sign-modal-wrap .sign-modal input[type=number],#space3D .sign-modal-wrap .sign-modal input[type=password],#space3D .sign-modal-wrap .sign-modal input[type=text]{width:100%;height:40px;font-size:12px;padding:8px 12px;color:#000}#space3D .sign-modal-wrap .sign-modal .captcha{cursor:pointer;position:relative;height:44px;width:100%;border-radius:3px;background-color:#00a1d6;font-weight:700;margin-top:15px}#space3D .sign-modal-wrap .sign-modal .captcha:hover{background-color:#00b5e5}#space3D .sign-modal-wrap .sign-modal .captcha:before{content:attr(data-text);position:absolute;left:0;top:0;right:0;bottom:0;text-align:center;line-height:44px;color:#fff}#space3D .sign-modal-wrap .sign-modal .form-container>span{margin-top:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}#space3D .sign-modal-wrap .sign-modal.sign-in-show,#space3D .sign-modal-wrap .sign-modal.sign-up-show{visibility:visible;opacity:1;-webkit-transform:rotateY(0deg) translateY(-200px);transform:rotateY(0deg) translateY(-200px)}#space3D .sign-modal-wrap .sign-modal.sign-in-init,#space3D .sign-modal-wrap .sign-modal.sign-up-init{visibility:hidden;opacity:0;-webkit-transform:rotateY(0deg) translateY(-300px);transform:rotateY(0deg) translateY(-300px)}#space3D .sign-modal-wrap .sign-modal.sign-in-turn,#space3D .sign-modal-wrap .sign-modal.sign-up-turn{visibility:hidden;opacity:0}#space3D .sign-modal-wrap .sign-modal.sign-in-turn{-webkit-transform:rotateY(-180deg) translateY(-200px);transform:rotateY(-180deg) translateY(-200px)}#space3D .sign-modal-wrap .sign-modal.sign-up-turn{-webkit-transform:rotateY(180deg) translateY(-200px);transform:rotateY(180deg) translateY(-200px)}#space3D .sign-modal-wrap .sign-modal .watch{position:absolute;right:0;top:0;width:40px;height:40px;color:#ccd0d7}#space3D .sign-modal-wrap .sign-in-modal .form-container>div{position:relative}#space3D .sign-modal-wrap .sign-in-modal .form-container input[type=number],#space3D .sign-modal-wrap .sign-in-modal .form-container input[type=password],#space3D .sign-modal-wrap .sign-in-modal .form-container input[type=text]{border-radius:4px;border:1px solid #ccd0d7}#space3D .sign-modal-wrap .sign-in-modal .form-container input[type=checkbox]{margin-left:5px}#space3D .sign-modal-wrap .sign-up-modal .slogan{height:54px}#space3D .sign-modal-wrap .sign-up-modal .form{border-radius:4px;border:1px solid #ccd0d7;overflow:hidden}#space3D .sign-modal-wrap .sign-up-modal .form>div{position:relative}#space3D .sign-modal-wrap .sign-up-modal input{width:100%;border:0;border-bottom:1px solid #e5e9ef}#space3D .sign-modal-wrap .sign-up-modal input.last-input{border-bottom:0}#space3D .sign-modal-wrap .checkAndSend{position:absolute;right:0;top:0;height:40px;padding:0 10px;font-size:12px;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(28);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"754451ed\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sign-in-form .logo{margin-top:-14px}.sign-in-form .sign-in-opt{margin-bottom:10px;margin-top:-12px}.sign-in-form .sign-in-opt .opt-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.sign-in-form .submit-btn{width:100%}.sign-in-form .others{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:15px}.sign-in-form .watch-pwd{position:absolute;right:16px;top:11px;font-size:18px;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"axios\");\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"axios\"\nvar external__axios_ = __webpack_require__(29);\nvar external__axios__default = /*#__PURE__*/__webpack_require__.n(external__axios_);\n\n// CONCATENATED MODULE: ./src/api/_create-api-server.js\n\n\nclass _create_api_server_Http {\n  constructor(ctx) {\n    this.instance = external__axios__default.a.create({\n      baseURL: \"http://localhost/\",\n      headers: {\n        Accept: \"application/x.api.latest+json\",\n        Authorization: `Bearer ${this.getAuthToken(ctx)}`\n      },\n      timeout: 10000\n    });\n  }\n\n  async get(url, data) {\n    try {\n      const res = await this.instance.get(url, {\n        params: data && data.params ? data.params : {}\n      });\n      return res.data.data;\n    } catch (e) {\n      const code = e.response ? e.response.status : 500;\n\n      if (code === 401) {\n        return null;\n      }\n\n      e.code = code;\n      throw e;\n    }\n  }\n\n  async post(url, data) {\n    try {\n      const res = await this.instance.post(url, data);\n      const newToken = res.headers.authorization;\n\n      if (newToken) {\n        return Object.assign(res.data.data, {\n          token: newToken.split(\"Bearer \").pop()\n        });\n      }\n\n      return res.data.data;\n    } catch (e) {\n      const code = e.response ? e.response.status : 500;\n\n      if (code === 401) {\n        return null;\n      }\n\n      e.code = code;\n      throw e;\n    }\n  }\n\n  getAuthToken(ctx) {\n    if (!ctx) {\n      return \"\";\n    }\n\n    let token = \"\";\n\n    if (ctx.header) {\n      const cookie = ctx.header.cookie;\n\n      if (cookie) {\n        cookie.split(\"; \").forEach(item => {\n          const temp = item.split(\"=\");\n\n          if (temp[0] === \"JWT-TOKEN\") {\n            token = temp[1];\n          }\n        });\n      }\n    } else if (ctx.$state) {// TODO\n    } else {\n      token = ctx;\n    }\n\n    return token;\n  }\n\n}\n\n/* harmony default export */ var _create_api_server = (ctx => {\n  return new _create_api_server_Http(ctx);\n});\n// CONCATENATED MODULE: ./src/api/_baseApi.js\n\n/* harmony default export */ var _baseApi = __webpack_exports__[\"a\"] = (class {\n  constructor(ctx = null) {\n    this.http = _create_api_server(ctx);\n  }\n\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(31);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"f0b8ac3e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sign-up-form input{padding-left:0!important}.sign-up-form .submit-btn{width:100%}.sign-up-form .others{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:15px}.sign-up-form .watch-pwd{position:absolute;right:32px;top:10px;font-size:18px;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(33);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"e00e35dc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".reset-password-form .submit-btn{width:100%}.reset-password-form .others{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(35);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3fe78c2e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar escape = __webpack_require__(36);\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".first-sign-dialog{background-image:url(\" + escape(__webpack_require__(37)) + \");background-repeat:no-repeat;background-position:50%;background-size:cover;-webkit-box-shadow:none;box-shadow:none;font-family:Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,FZLanTingHeiS-L-G,PingFang SC,Microsoft YaHei}.first-sign-dialog .title{text-align:center;font-size:42px;letter-spacing:3px;line-height:36px;color:#000;margin-bottom:30px;margin-top:100px}.first-sign-dialog .content{width:500px;font-size:18px;color:#000;text-shadow:#c8c8c8 1px 1px 2px;text-align:center;line-height:1.7em;font-weight:100;margin:0 auto}.first-sign-dialog .control{margin-top:30px;text-align:center}.first-sign-dialog .control button{height:50px;padding-left:46px;padding-right:30px;font-size:16px;line-height:50px;border-radius:25px;text-align:center;margin:0 5px;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 354:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-waterfall/lib/waterfall\");\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-waterfall/lib/waterfall-slot\");\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports) {\n\nmodule.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"v-charts/lib/radar.common\");\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"src/assets/img/first-sign-dialog-bg.fde004da.svg\";\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"chimee-plugin-center-state\");\n\n/***/ }),\n\n/***/ 374:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"chimee-kernel-flv\");\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vuex-router-sync\");\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vuex\");\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getPageData({\n    refer\n  }) {\n    return this.http.get(\"door/data\", {\n      params: {\n        refer\n      }\n    });\n  }\n\n  getLoginUser() {\n    return this.http.post(\"door/refresh\");\n  }\n\n  sendMessage({\n    phone_number,\n    type,\n    geetest\n  }) {\n    return this.http.post(\"door/message\", {\n      phone_number,\n      type,\n      geetest\n    });\n  }\n\n  login({\n    access,\n    secret,\n    remember,\n    geetest\n  }) {\n    return this.http.post(\"door/login\", {\n      access,\n      secret,\n      remember,\n      geetest\n    });\n  }\n\n  register({\n    access,\n    secret,\n    nickname,\n    authCode,\n    inviteCode\n  }) {\n    return this.http.post(\"door/register\", {\n      access,\n      secret,\n      nickname,\n      authCode,\n      inviteCode\n    });\n  }\n\n  logout() {\n    return this.http.post(\"door/logout\");\n  }\n\n  getUserInfo({\n    zone\n  }) {\n    return this.http.get(`user/${zone}/show`);\n  }\n\n  settingProfile(params) {\n    return this.http.post(\"user/setting/profile\", params);\n  }\n\n  followBangumis(zone) {\n    return this.http.get(`user/${zone}/followed/bangumi`);\n  }\n\n  replyPosts({\n    zone,\n    take,\n    page\n  }) {\n    return this.http.get(`user/${zone}/posts/reply`, {\n      params: {\n        take,\n        page\n      }\n    });\n  }\n\n  settingImage({\n    type,\n    url\n  }) {\n    return this.http.post(\"user/setting/image\", {\n      type,\n      url\n    });\n  }\n\n  feedback({\n    type,\n    desc,\n    ua\n  }) {\n    return this.http.post(\"user/feedback\", {\n      type,\n      desc,\n      ua\n    });\n  }\n\n  daySign() {\n    return this.http.post(\"user/daySign\");\n  }\n\n  getNotificationCount() {\n    return this.http.get(\"user/notification/count\");\n  }\n\n  getNotifications({\n    minId\n  }) {\n    return this.http.get(\"user/notification/list\", {\n      params: {\n        minId\n      }\n    });\n  }\n\n  readMessage(id) {\n    return this.http.post(\"user/notification/read\", {\n      id\n    });\n  }\n\n  readAllMessage() {\n    return this.http.post(\"user/notification/clear\");\n  }\n\n  resetPassword({\n    method,\n    access,\n    authCode,\n    secret\n  }) {\n    return this.http.post(\"door/reset\", {\n      method,\n      access,\n      authCode,\n      secret\n    });\n  }\n\n  report({\n    id,\n    type,\n    model,\n    message\n  }) {\n    return this.http.post(\"report/send\", {\n      id,\n      type,\n      model,\n      message\n    });\n  }\n\n  recommended() {\n    return this.http.get(\"user/recommended\");\n  }\n\n  getUserCard({\n    id\n  }) {\n    return this.http.get(\"user/card\", {\n      params: {\n        id\n      }\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/merge\");\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-router\");\n\n/***/ }),\n\n/***/ 410:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"v-charts/lib/line.common\");\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-meta\");\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(44);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"4dbbd758\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-input-wrap{position:relative}.search-input-wrap .search-input-btn{float:right;height:100%}.search-input-wrap .search-input-text{overflow:hidden;height:100%}.search-input-wrap .search-input-text input{width:100%;height:100%;background-color:transparent;outline:none;border:none}.search-input-wrap .search-suggestions{position:absolute;z-index:999;max-height:200px;overflow-y:scroll}.search-input-wrap .search-suggestions:hover{display:block!important}.search-input-wrap .search-suggestions li{cursor:pointer;height:40px;padding:5px 0}.search-input-wrap .search-suggestions li img{height:30px;width:30px;border-radius:3px;vertical-align:middle;margin-left:10px;margin-right:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(46);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"55d58da8\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".follow-button.is-plain{background-color:transparent}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(48);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"41d94206\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".header-3o_0 .nav-link-12_0{font-family:Helvetica Neue,Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif}.header-3o_0 .nav-q5_0{left:0;top:0;width:100%;height:50px;z-index:3}.header-3o_0 .nav-q5_0 .text-2R_0{position:relative;height:100%;padding-left:20px;padding-right:20px;z-index:1}.header-3o_0 .nav-q5_0 .text-2R_0 .left-31_0{position:absolute;height:100%;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0{position:relative;float:right;height:100%}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .sign-btn-to_0{width:52px;height:100%;color:#fff;text-align:center;font-size:13px;margin-left:8px}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .sign-btn-to_0 span{display:block;border-radius:2px}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .sign-in-1i_0 span{line-height:31px}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .sign-up-b4_0 span{line-height:32px;border:0;background-color:rgba(0,161,214,.8)}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .sign-up-b4_0 span:hover{background-color:#00a1d6}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .user-section-37_0{height:50px;margin-left:25px;margin-right:25px;vertical-align:middle}.header-3o_0 .nav-q5_0 .text-2R_0 .right-3D_0 .user-section-37_0 .avatar-2r_0{margin-top:7px;width:36px;height:36px;border-radius:18px;overflow:hidden}.header-3o_0 .nav-q5_0 .text-2R_0 .logo-1j_0{float:left;margin-top:9px;margin-right:10px;margin-left:16px}.header-3o_0 .nav-q5_0 .text-2R_0 .logo-1j_0 img{width:30px;height:30px}.header-3o_0 .nav-q5_0 .text-2R_0 .nav-link-12_0{display:block;float:left;height:100%;line-height:50px;text-align:center;font-size:13px}.header-3o_0 .nav-q5_0 .text-2R_0 .nav-link-12_0 span{margin:0 6px;padding:4px 9px;border-radius:5px}.header-3o_0 .nav-q5_0 .banner-bg-container-2F_0{position:absolute;height:100%;width:100%;left:0;top:0;z-index:0;overflow:hidden}.header-3o_0 .nav-q5_0 .banner-bg-container-2F_0 .banner-bg-img-zE_0{position:absolute;width:125%;left:-12.5%;background-repeat:no-repeat;background-position:50%;background-size:80%;-webkit-filter:blur(5px);filter:blur(5px);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=$size,MakeShadow=false)}.header-3o_0 .nav-q5_0 .mask-bg-aY_0{position:absolute;left:0;top:0;width:100%;height:100px;z-index:-1;background-image:-webkit-gradient(linear,left bottom,left top,from(transparent),to(rgba(0,0,0,.3)));background-image:-o-linear-gradient(bottom,transparent,rgba(0,0,0,.3));background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.3))}.header-3o_0 .nav-mask-xj_0{background-color:transparent}.header-3o_0 .nav-mask-xj_0 .nav-link-12_0 span{color:#fff;-webkit-transition:background-color .4s,color .4s;-o-transition:.4s background-color,.4s color;transition:background-color .4s,color .4s}.header-3o_0 .nav-mask-xj_0 .nav-link-12_0:hover span{color:#00a1d6;background-color:#fff}.header-3o_0 .nav-banner-3u_0{-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1)}.header-3o_0 .nav-banner-3u_0 .text-2R_0{background-color:hsla(0,0%,100%,.4)}.header-3o_0 .nav-banner-3u_0 .nav-link-12_0{-webkit-transition:background-color .3s;-o-transition:.3s background-color;transition:background-color .3s}.header-3o_0 .nav-banner-3u_0 .nav-link-12_0:hover{background-color:hsla(0,0%,100%,.3)}.header-3o_0 .nav-pure-S1_0{background-color:#fff;border-bottom:1px solid #e5e9ef}.header-3o_0 .nav-pure-S1_0 .nav-link-12_0:hover{background-color:#e5e9ef}.header-3o_0 .nav-fixed-1__0{position:fixed}.header-3o_0 .nav-abs-2u_0{position:absolute}.header-3o_0 .nav-shim-30_0{width:100%;height:50px}.header-3o_0 .normal-banner-1r_0{position:relative;width:100%;background-position:50%;background-repeat:no-repeat;background-size:100%;padding-top:50px;z-index:0}.header-3o_0 .normal-banner-1r_0 .calibur-45_0{width:500px;height:63px;background-position:0;background-size:contain;background-repeat:no-repeat;background-image:url(\\\"https://image.calibur.tv/banner/3-1.png?imageMogr2/auto-orient/strip\\\");margin-top:30px;margin-left:5px}.header-3o_0 .mask-banner-3M_0{position:relative;width:100%;overflow:hidden;-webkit-box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5);box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5)}.header-3o_0 .mask-banner-3M_0 .mask-banner-img-1z_0{position:absolute;top:50%;left:50%;width:110%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:cover;z-index:0;-webkit-filter:blur(5px);filter:blur(5px);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=$size,MakeShadow=false)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"header\": \"header-3o_0\",\n\t\"nav-link\": \"nav-link-12_0\",\n\t\"navLink\": \"nav-link-12_0\",\n\t\"nav\": \"nav-q5_0\",\n\t\"text\": \"text-2R_0\",\n\t\"left\": \"left-31_0\",\n\t\"right\": \"right-3D_0\",\n\t\"sign-btn\": \"sign-btn-to_0\",\n\t\"signBtn\": \"sign-btn-to_0\",\n\t\"sign-in\": \"sign-in-1i_0\",\n\t\"signIn\": \"sign-in-1i_0\",\n\t\"sign-up\": \"sign-up-b4_0\",\n\t\"signUp\": \"sign-up-b4_0\",\n\t\"user-section\": \"user-section-37_0\",\n\t\"userSection\": \"user-section-37_0\",\n\t\"avatar\": \"avatar-2r_0\",\n\t\"logo\": \"logo-1j_0\",\n\t\"banner-bg-container\": \"banner-bg-container-2F_0\",\n\t\"bannerBgContainer\": \"banner-bg-container-2F_0\",\n\t\"banner-bg-img\": \"banner-bg-img-zE_0\",\n\t\"bannerBgImg\": \"banner-bg-img-zE_0\",\n\t\"mask-bg\": \"mask-bg-aY_0\",\n\t\"maskBg\": \"mask-bg-aY_0\",\n\t\"nav-mask\": \"nav-mask-xj_0\",\n\t\"navMask\": \"nav-mask-xj_0\",\n\t\"nav-banner\": \"nav-banner-3u_0\",\n\t\"navBanner\": \"nav-banner-3u_0\",\n\t\"nav-pure\": \"nav-pure-S1_0\",\n\t\"navPure\": \"nav-pure-S1_0\",\n\t\"nav-fixed\": \"nav-fixed-1__0\",\n\t\"navFixed\": \"nav-fixed-1__0\",\n\t\"nav-abs\": \"nav-abs-2u_0\",\n\t\"navAbs\": \"nav-abs-2u_0\",\n\t\"nav-shim\": \"nav-shim-30_0\",\n\t\"navShim\": \"nav-shim-30_0\",\n\t\"normal-banner\": \"normal-banner-1r_0\",\n\t\"normalBanner\": \"normal-banner-1r_0\",\n\t\"calibur\": \"calibur-45_0\",\n\t\"mask-banner\": \"mask-banner-3M_0\",\n\t\"maskBanner\": \"mask-banner-3M_0\",\n\t\"mask-banner-img\": \"mask-banner-img-1z_0\",\n\t\"maskBannerImg\": \"mask-banner-img-1z_0\"\n};\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(50);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"3e84e410\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 5:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.array.sort\");\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#page-header .el-badge .el-badge__content{right:25px;top:10px}#page-header .search-container{position:relative;height:100%;float:left}#page-header .search-container .search-input-wrap{height:32px;border-radius:16px;margin-top:9px;margin-right:20px;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;width:167px;float:left}#page-header .search-container .search-input-wrap .search-input{background-color:transparent;padding:4px 10px 4px 15px;border-radius:16px 0 0 16px;border:1px solid transparent;line-height:24px;border-right:0;font-size:12px}#page-header .search-container .search-input-wrap .search-input-btn{width:32px;height:32px;border-radius:0 16px 16px 0;background-color:transparent;font-size:18px;border:1px solid transparent;border-left:0;line-height:29px;-webkit-transition:.2s;-o-transition:.2s;transition:.2s;color:#fff}#page-header .search-container .search-input-wrap.search-focus{width:267px}#page-header .search-container .search-input-wrap.search-focus~.search-history{visibility:visible;opacity:1;-webkit-transition:.2s;-o-transition:.2s;transition:.2s}#page-header .search-container .search-history{position:absolute;left:0;top:120%;height:192px;width:267px;background-color:#fff;border:1px solid #e5e9ef;border-radius:4px;font-size:12px;padding-bottom:5px;-webkit-box-shadow:rgba(0,0,0,.16) 0 2px 4px;box-shadow:0 2px 4px rgba(0,0,0,.16);visibility:hidden;opacity:0;-webkit-transition:0s;-o-transition:0s;transition:0s}#page-header .search-container .search-history .hr{margin:0 20px}#page-header .search-container .search-history ul li{height:30px;width:100%;position:relative}#page-header .search-container .search-history ul li:hover{background-color:#e5e9ef}#page-header .search-container .search-history ul li a{padding:5px 40px 5px 10px;line-height:20px;display:block}#page-header .search-container .search-history ul li .del{display:block;position:absolute;right:0;top:0;width:30px;height:30px;line-height:30px;font-size:18px;text-align:center;cursor:pointer}#page-header .search-container .search-history ul li .del:hover{color:#00a1d6}#page-header .search-container .search-history:hover{visibility:visible;opacity:1;-webkit-transition:.2s;-o-transition:.2s;transition:.2s}#page-header .nav-banner .search-container .search-input-wrap,#page-header .nav-mask .search-container .search-input-wrap{background-color:rgba(0,0,0,.2)}#page-header .nav-banner .search-container .search-input-wrap:hover,#page-header .nav-mask .search-container .search-input-wrap:hover{background-color:rgba(0,0,0,.4)}#page-header .nav-banner .search-container .search-input-wrap .search-input,#page-header .nav-mask .search-container .search-input-wrap .search-input{color:#fff}#page-header .nav-banner .search-container .search-input-wrap .search-input::-webkit-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap .search-input::-webkit-input-placeholder{color:#fff}#page-header .nav-banner .search-container .search-input-wrap .search-input:-moz-placeholder,#page-header .nav-banner .search-container .search-input-wrap .search-input::-moz-placeholder,#page-header .nav-mask .search-container .search-input-wrap .search-input:-moz-placeholder,#page-header .nav-mask .search-container .search-input-wrap .search-input::-moz-placeholder{color:#fff;opacity:1}#page-header .nav-banner .search-container .search-input-wrap .search-input:-ms-input-placeholder,#page-header .nav-banner .search-container .search-input-wrap .search-input::-ms-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap .search-input:-ms-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap .search-input::-ms-input-placeholder{color:#fff}#page-header .nav-banner .search-container .search-input-wrap.search-focus,#page-header .nav-mask .search-container .search-input-wrap.search-focus{background-color:#fff}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input{color:#222}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input::-webkit-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input::-webkit-input-placeholder{color:#222}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input:-moz-placeholder,#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input::-moz-placeholder,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input:-moz-placeholder,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input::-moz-placeholder{color:#222;opacity:1}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input:-ms-input-placeholder,#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input::-ms-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input:-ms-input-placeholder,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input::-ms-input-placeholder{color:#222}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input-btn,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input-btn{color:#000}#page-header .nav-banner .search-container .search-input-wrap.search-focus .search-input-btn:hover,#page-header .nav-mask .search-container .search-input-wrap.search-focus .search-input-btn:hover{color:#00a1d6}#page-header .nav-banner .sign-in span,#page-header .nav-mask .sign-in span{border:1px solid hsla(0,0%,100%,.8)}#page-header .nav-banner .sign-in span:hover,#page-header .nav-mask .sign-in span:hover{background:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.1);color:#000;border:1px solid #ccc}#page-header .nav-pure .search-container .search-input-wrap{background-color:#f1f2f4}#page-header .nav-pure .search-container .search-input-wrap:hover{background-color:#ccd0d7}#page-header .nav-pure .search-container .search-input-wrap .search-input{color:#6d757a}#page-header .nav-pure .search-container .search-input-wrap .search-input::-webkit-input-placeholder{color:#6d757a}#page-header .nav-pure .search-container .search-input-wrap .search-input:-moz-placeholder,#page-header .nav-pure .search-container .search-input-wrap .search-input::-moz-placeholder{color:#6d757a;opacity:1}#page-header .nav-pure .search-container .search-input-wrap .search-input:-ms-input-placeholder,#page-header .nav-pure .search-container .search-input-wrap .search-input::-ms-input-placeholder{color:#6d757a}#page-header .nav-pure .search-container .search-input-wrap .search-input-btn{color:#6d757a}#page-header .nav-pure .search-container .search-input-wrap.search-focus{background-color:#f1f2f4}#page-header .nav-pure .search-container .search-input-wrap.search-focus .search-input-btn:hover{color:#00a1d6}#page-header .nav-pure .sign-in span{background-color:hsla(0,0%,100%,.6);color:#333;border:1px solid #ccc}#page-header .nav-pure .sign-in span:hover{text-shadow:0 -1px 0 rgba(0,0,0,.1);color:#000}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(52);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"6e2e1a90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#header-notification-box{width:100%;height:370px;position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-align:left}#header-notification-box .header{height:5px;background-color:transparent;-ms-flex-negative:0;flex-shrink:0}#header-notification-box .main{overflow-y:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}#header-notification-box li{font-size:13px;width:100%;min-height:50px;line-height:20px;padding:0 20px;background-color:#f6f9fa}#header-notification-box li div{padding:15px 0;word-break:break-all}#header-notification-box li:not(:first-child) div{border-top:1px solid #eee}#header-notification-box li.checked{background-color:transparent}#header-notification-box a{color:#00a1d6;font-size:13px;margin:0 3px}#header-notification-box .footer{height:30px;background-color:#fff;-ms-flex-negative:0;flex-shrink:0;border-top:1px solid #ddd;text-align:right;padding-right:20px}#header-notification-box .footer button{font-size:12px;line-height:30px;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/spinner\");\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/infinite-scroll\");\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"timeago.js\");\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(60);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"a7908af6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue\");\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".bangumi-panel-2g_0{position:relative;width:206px;height:270px;border-radius:4px;font-size:14px;-webkit-box-shadow:0 8px 18px rgba(0,0,0,.06);box-shadow:0 8px 18px rgba(0,0,0,.06);margin-bottom:20px;text-align:center;padding-top:20px}.bangumi-panel-2g_0 .avatar-Pk_0{margin:0 auto 8px;border-radius:4px}.bangumi-panel-2g_0 .name-W7_0{margin:16px 16px 7px;color:#333;font-size:16px;font-weight:600;line-height:18px;max-height:36px}.bangumi-panel-2g_0 .name-W7_0,.bangumi-panel-2g_0 .summary-1v_0{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.bangumi-panel-2g_0 .summary-1v_0{margin:0 auto 10px;max-width:180px;line-height:16px;max-height:32px}.bangumi-panel-2g_0 button{margin-top:5px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"bangumi-panel\": \"bangumi-panel-2g_0\",\n\t\"bangumiPanel\": \"bangumi-panel-2g_0\",\n\t\"avatar\": \"avatar-Pk_0\",\n\t\"name\": \"name-W7_0\",\n\t\"summary\": \"summary-1v_0\"\n};\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(62);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"072b7aaa\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#no-content img{width:200px;height:200px;margin-right:30px;vertical-align:middle}#no-content div{display:inline-block;vertical-align:middle}#no-content h3{color:#333;font-size:24px;margin:20px 0;font-weight:400;line-height:24px}#no-content p{color:#666;margin-bottom:7px;font-size:14px;line-height:20px}#no-content button{margin-top:15px}#no-content a{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(64);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5fcc409b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".hr{position:relative;height:31px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.hr span{position:absolute;width:100%;top:15px;left:0;height:1px;background-color:#dae9f4;z-index:0}.hr p{display:inline-block;margin:0 auto;background-color:#fff;position:relative;z-index:1;font-size:inherit;line-height:31px;padding:0 10px;color:#7f9eb2}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(66);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"7b8f94d9\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".v-share .ic-link{color:#9266f9;border-color:#9266f9}.v-share .ic-link:hover{background-color:#9266f9}.v-share .ic-link:before{content:\\\"\\\\E63F\\\"}.v-share .ic-qq{color:#56b6e7;border-color:#56b6e7}.v-share .ic-qq:hover{background-color:#56b6e7}.v-share .ic-qq:before{content:\\\"\\\\E68B\\\"}.v-share .ic-weibo{color:#ff763b;border-color:#ff763b}.v-share .ic-weibo:hover{background-color:#ff763b}.v-share .ic-weibo:before{content:\\\"\\\\E60E\\\"}.v-share .ic-douban{color:#33b045;border-color:#33b045}.v-share .ic-douban:hover{background-color:#33b045}.v-share .ic-douban:before{content:\\\"\\\\E601\\\"}.v-share .ic-qzone{color:#fdbe3d;border-color:#fdbe3d}.v-share .ic-qzone:hover{background-color:#fdbe3d}.v-share .ic-qzone:before{content:\\\"\\\\E6F8\\\"}.v-share .ic-wechat{color:#7bc549;border-color:#7bc549}.v-share .ic-wechat:hover{background-color:#7bc549}.v-share .ic-wechat:hover .wechat-qrcode{display:block}.v-share .ic-wechat:before{content:\\\"\\\\E673\\\"}.v-share .ic-wechat .wechat-qrcode{display:none;border:1px solid #eee;position:absolute;z-index:9;top:-205px;left:-84px;width:200px;height:192px;color:#666;font-size:12px;text-align:center;background-color:#fff;-webkit-box-shadow:0 2px 10px #aaa;box-shadow:0 2px 10px #aaa;-webkit-transition:all .2s;-o-transition:all .2s;transition:all .2s}.v-share .ic-wechat .wechat-qrcode .button{top:40px;left:-84px}.v-share .ic-wechat .wechat-qrcode .button:after{display:none}.v-share .ic-wechat .wechat-qrcode h4{font-weight:400;height:26px;line-height:26px;font-size:12px;background-color:#f3f3f3;margin:0;padding:0;color:#777}.v-share .ic-wechat .wechat-qrcode .qrcode{width:105px;margin:10px auto}.v-share .ic-wechat .wechat-qrcode .qrcode table{margin:0!important}.v-share .ic-wechat .wechat-qrcode .help p{font-weight:400;line-height:16px;padding:0;margin:0}.v-share .ic-wechat .wechat-qrcode:after{content:\\\"\\\";position:absolute;left:50%;margin-left:-6px;bottom:-13px;width:0;height:0;border-width:8px 6px 6px;border-style:solid;border-color:#fff transparent transparent}.v-share.v-share-button button{display:block;width:100%;padding:0 20px;height:40px;font-size:14px;text-align:left}.v-share.v-share-button button:hover{background:#f6f6f6}.v-share.v-share-panel .share-icon{position:relative;display:inline-block;width:32px;height:32px;font-size:20px;border-radius:50%;line-height:32px;border-width:1px;border-style:solid;text-align:center;vertical-align:middle;-webkit-transition:background .6s ease-out 0s;-o-transition:background .6s ease-out 0s;transition:background .6s ease-out 0s;font-family:iconfont!important;margin:4px}.v-share.v-share-panel .share-icon:hover{color:#fff}.share-popover{text-align:center;border-radius:0}.share-popover .el-popover__title{height:26px;line-height:26px;background-color:#f3f3f3;color:#777;font-size:12px}.share-popover .qr-code{width:105px;margin:10px auto}.share-popover .help{margin-bottom:10px}.share-popover .help p{line-height:16px;color:#666;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(68);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"560990b7\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".v-modal{background-color:hsla(0,0%,100%,.7)!important}.v-dialog-mask{-webkit-filter:blur(3px) grayscale(25%)}.el-dialog{border:none!important;-webkit-box-shadow:0 5px 25px rgba(0,0,0,.1)!important;box-shadow:0 5px 25px rgba(0,0,0,.1)!important;border-radius:6px!important;background-color:#fff;overflow:hidden}.el-dialog .el-dialog__header{display:none}.el-dialog .el-dialog__body{position:relative;padding:0;color:#333}.el-dialog .el-dialog__body .v-dialog-container{overflow:hidden}.el-dialog .v-dialog-header{position:relative;background-color:#f4f4f4}.el-dialog .v-dialog-header .v-dialog-title{font-size:16px;height:45px;line-height:45px;margin:0;padding-left:20px;color:#333;text-align:left;font-weight:400}.el-dialog .v-dialog-close-btn{font-weight:700;font-size:20px;position:absolute;right:20px;top:9px;opacity:.2;height:24px;line-height:24px;color:#000}.el-dialog .v-dialog-close-btn:hover{opacity:.5}.el-dialog .v-dialog-content{padding:0 20px;margin:20px 0;overflow-y:auto}.el-dialog .v-dialog-content .list-loading,.el-dialog .v-dialog-content .list-no-more{text-align:center;font-size:13px;margin-top:20px;cursor:default}.el-dialog .v-dialog-content img{max-width:100%}.el-dialog .v-dialog-footer{margin:20px 0;padding:0 20px;text-align:right}.el-dialog .v-dialog-footer .v-dialog-cancel-btn{background-color:#fff;color:#99a2aa;height:32px;font-size:12px;border-radius:3px;padding:0 15px;margin-right:15px}.el-dialog .v-dialog-footer .v-dialog-cancel-btn:hover{background-color:#e5e9ef;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(70);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"1f9dc315\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getBanners() {\n    return this.http.get(\"image/banner\");\n  }\n\n  getCaptcha() {\n    return this.http.get(\"image/captcha\");\n  }\n\n  getUpToken() {\n    return this.http.get(\"image/uptoken\");\n  }\n\n  uploadToQiniu(formData) {\n    return this.http.post(\"https://up.qbox.me\", formData, {\n      \"Content-Type\": \"multipart/form-data\"\n    });\n  }\n\n  trialReport({\n    id\n  }) {\n    return this.http.post(\"image/report\", {\n      id\n    });\n  }\n\n  editImage({\n    id,\n    bangumiId,\n    roleId,\n    size,\n    tags\n  }) {\n    return this.http.post(\"image/edit\", {\n      id,\n      bangumiId,\n      roleId,\n      tags,\n      size\n    });\n  }\n\n  toggleLike({\n    id\n  }) {\n    return this.http.post(\"image/toggleLike\", {\n      id\n    });\n  }\n\n  show({\n    id\n  }) {\n    return this.http.get(`image/${id}/show`);\n  }\n\n  users({\n    zone,\n    page\n  }) {\n    return this.http.get(\"image/users\", {\n      params: {\n        zone,\n        page\n      }\n    });\n  }\n\n  createAlbum({\n    bangumi_id,\n    name,\n    url,\n    width,\n    height,\n    size,\n    type,\n    is_creator,\n    is_cartoon,\n    part\n  }) {\n    return this.http.post(\"image/album/create\", {\n      bangumi_id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      is_creator,\n      is_cartoon,\n      part\n    });\n  }\n\n  editAlbum({\n    id,\n    name,\n    url,\n    width,\n    height,\n    size,\n    type,\n    part\n  }) {\n    return this.http.post(\"image/album/edit\", {\n      id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      part\n    });\n  }\n\n  uploadSingleImage({\n    bangumi_id,\n    name,\n    url,\n    width,\n    height,\n    size,\n    type,\n    is_creator,\n    geetest\n  }) {\n    return this.http.post(\"image/single/upload\", {\n      bangumi_id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      is_creator,\n      geetest\n    });\n  }\n\n  uploadManyImage({\n    album_id,\n    images\n  }) {\n    return this.http.post(\"image/album/upload\", {\n      album_id,\n      images\n    });\n  }\n\n  deleteAlbum({\n    id\n  }) {\n    return this.http.post(\"image/album/delete\", {\n      id\n    });\n  }\n\n  editSingleImage({\n    id,\n    name,\n    bangumi_id\n  }) {\n    return this.http.post(\"image/single/edit\", {\n      id,\n      name,\n      bangumi_id\n    });\n  }\n\n  getUserAlbums() {\n    return this.http.get(\"image/album/users\");\n  }\n\n  sortAlbum({\n    id,\n    result\n  }) {\n    return this.http.post(`image/album/${id}/sort`, {\n      result\n    });\n  }\n\n  deleteAlbumImage({\n    id,\n    result,\n    imageId\n  }) {\n    return this.http.post(`image/album/${id}/deleteImage`, {\n      result,\n      imageId\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".default-layout:after,.default-layout:before{content:\\\"\\\";clear:both;display:table}.default-layout{margin-left:auto;margin-right:auto}.default-layout .layout-aside,.default-layout .layout-main{padding-left:15px;padding-right:15px}.default-layout .layout-main{margin-bottom:30px}@media (min-width:1120px){.default-layout{width:1160px}.default-layout .layout-main{width:75%;margin-bottom:0;float:left}.default-layout .layout-aside{width:25%;overflow:hidden}}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(72);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5e7e05ec\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-dialog-wrap .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.avatar-dialog-wrap .user-face img{width:40px;height:40px;border-radius:50%;border:3px solid #fff}.avatar-dialog-wrap .user-face a{display:block}.avatar-dialog-wrap .el-icon-more{width:40px;height:40px;border-radius:50%;color:#fff;border:3px solid #fff;background-color:#e5e9ef;margin-left:-5px}.avatar-dialog-wrap .el-icon-more:hover{background-color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(74);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5b2bfbc0\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".bangumi-search-item img[data-v-3e389142]{width:24px;height:24px;border-radius:3px;margin-right:5px;margin-top:-2px;vertical-align:middle}.bangumi-search-item span[data-v-3e389142]{font-size:14px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(78);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5de4be21\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".lazy-flow-image,.lazy-full-image{position:relative;background-color:transparent;-webkit-transition:.4s linear;-o-transition:.4s linear;transition:.4s linear;overflow:hidden;display:block}.lazy-flow-image img,.lazy-full-image img{width:100%;height:100%;display:block}.lazy-image-retry{background-color:#ddd;opacity:.3;position:relative;cursor:pointer}.lazy-image-retry img{display:none}.lazy-image-retry .lazy-image-message{color:#000;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.lazy-full-image{max-width:100%;margin:0 auto}.lazy-full-image .lazy-image-padding{width:100%;height:0}.lazy-full-image .lazy-image-shim{position:absolute;left:0;top:0;width:100%;height:100%;background-color:transparent}.lazy-full-image .lazy-image-shim img{margin:0 auto}.lazy-image-fade{background-color:#ddd;opacity:.3}.lazy-image-fade img{display:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(80);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"ed667a90\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(3);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  show({\n    id\n  }) {\n    return this.http.get(`score/${id}/show`);\n  }\n\n  edit({\n    id\n  }) {\n    return this.http.get(`score/${id}/edit`);\n  }\n\n  check({\n    id\n  }) {\n    return this.http.get(\"score/check\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  create(params) {\n    return this.http.post(\"score/create\", params);\n  }\n\n  drafts() {\n    return this.http.get(\"score/drafts\");\n  }\n\n  update(params) {\n    return this.http.post(\"score/update\", params);\n  }\n\n  delete({\n    id\n  }) {\n    return this.http.post(\"score/delete\", {\n      id\n    });\n  }\n\n  bangumiScore(id) {\n    return this.http.get(\"score/bangumis\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  trials() {\n    return this.http.get(\"admin/trial/score/list\");\n  }\n\n  ban({\n    id\n  }) {\n    return this.http.post(\"admin/trial/score/ban\", {\n      id\n    });\n  }\n\n  pass({\n    id\n  }) {\n    return this.http.post(\"admin/trial/score/pass\", {\n      id\n    });\n  }\n\n  approve({\n    id\n  }) {\n    return this.http.post(\"admin/trial/score/approve\", {\n      id\n    });\n  }\n\n  reject({\n    id\n  }) {\n    return this.http.post(\"admin/trial/score/reject\", {\n      id\n    });\n  }\n\n});\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".load-more-btn[data-v-609ac66c]{width:100%;font-size:13px;color:#6d757a;text-align:center;margin-bottom:15px;margin-top:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(82);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"5da3072d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".report-dialog-wrap .report-btn{cursor:pointer}.report-dialog h3{color:#6d757a;font-size:14px;margin-bottom:12px;margin-left:5px}.report-dialog .el-radio-group{margin-bottom:20px;margin-left:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(84);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(2)\nmodule.exports.__inject__ = function (context) {\n  add(\"30f8c11c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".user-card .profile .info .signature{word-break:break-word!important;word-break:break-all}.user-card{border:none}.user-card .content{z-index:2;position:relative;overflow:hidden;width:100%;height:100%;border-radius:4px}.user-card .background{width:100%;height:120px;background-position:50%;background-repeat:no-repeat;background-size:cover;background-color:#ddd}.user-card .profile{padding:0 20px 15px}.user-card .profile .avatar{border:2px solid #fff;border-radius:50%;margin-top:-20px;margin-right:10px;overflow:hidden;float:left}.user-card .profile .info{overflow:hidden}.user-card .profile .info .nickname{margin-top:12px;font-weight:700}.user-card .profile .info .nickname a{font-size:14px;margin-right:5px}.user-card .profile .info .nickname .level{color:#99a2aa}.user-card .profile .info .signature{line-height:16px;font-size:12px;margin-top:11px;color:#99a2aa}.user-card-loading{height:60px}.user-card-loading .content{text-align:center;padding-top:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"chimee\");\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"chimee-plugin-controlbar\");\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-croppa\");\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"particles.js\");\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\nconst env = \"production\";\nconst cdn = {\n  image: \"https://image.calibur.tv/\",\n  video: \"https://video.calibur.tv/\",\n  static: \"https://static.calibur.tv/\"\n};\nconst script = {\n  baiduStat: `var _hmt=_hmt||[];(function(){var hm=document.createElement(\"script\");hm.src=\"https://hm.baidu.com/hm.js?c10304a2f70ee2ddf8d2818551d37a4b\";var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(hm,s)})();`,\n  baiduPush: `(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js'}else{bp.src='http://push.zhanzhang.baidu.com/push.js'}var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(bp,s)})();`\n};\nconst sentry = {\n  token: \"5b02ddc4b7894347952d08e1f5563b9c2a845347bb234acf9fedd73210cbbd8b\",\n  url: \"https://c89b4ce2cfbf44e3bab148e0b7fa31df@sentry.io/1243412\"\n};\nmodule.exports = {\n  env,\n  script,\n  cdn,\n  sentry\n};\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"moment\");\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-moment\");\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-count-to\");\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"deep-assign\");\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"ua-parser-js\");\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/orderBy\");\n\n/***/ })\n\n/******/ });"
  },
  "maps": {}
}