exports.ids=[56],exports.modules={242:function(t,e){},257:function(t,e){},267:function(t,e,r){"use strict";r.r(e);var n=r(242),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},268:function(t,e,r){"use strict";var n=r(56),o={name:"VoteButton",props:{type:{required:!0,type:String,validator:t=>~["answer"].indexOf(t)},id:{required:!0,type:Number},score:{required:!0,type:Number},total:{required:!0,type:Number},authorId:{required:!0,type:Number},disabled:{type:Boolean,default:!1}},data(){return{loading:!1,totalVote:this.total,votedScore:this.score}},computed:{currentUserId(){return this.$store.state.login?this.$store.state.user.id:0}},methods:{async voteAction(t){if(!this.disabled)if(this.currentUserId)if(this.currentUserId!==this.authorId){if(!this.loading){this.loading=!0;try{const data=await Object(n.vote)({ctx:this,type:this.type,id:this.id,is_agree:t});this.totalVote=data.total,this.votedScore=data.result}finally{this.loading=!1}}}else this.$toast.error(t?"不能给自己点赞":"不能给自己点反对");else this.$channel.$emit("sign-in")}}},c=r(0);var component=Object(c.a)(o,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vote-button"},[t._ssrNode("<button"+t._ssrClass("vote-btn vote-up",{active:t.votedScore>0})+'><i class="el-icon-caret-top"></i>'+t._ssrEscape("\n    赞同\n    "+t._s(t.totalVote)+"\n  ")+"</button> <button"+t._ssrClass("vote-btn vote-down",{active:t.votedScore<0})+'><i class="el-icon-caret-bottom"></i></button>')])},[],!1,function(t){var e=r(267);e.__inject__&&e.__inject__(t)},null,"57c08e92");e.a=component.exports},286:function(t,e,r){"use strict";r.r(e);var n=r(257),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},299:function(t,e,r){"use strict";var n={name:"QuestionFlowItem",components:{VoteButton:r(268).a},props:{item:{required:!0,type:Object}}},o=r(0);var component=Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"question-flow-item"},[t._ssrNode('<header class="qaq-flow-header">',"</header>",[r("user-card",{attrs:{id:t.item.user.id,zone:t.item.user.zone,"custom-class":"user-avatar"}},[r("v-img",{attrs:{src:t.item.user.avatar,width:24,height:24}})],1),t._ssrNode(" <a"+t._ssrAttr("href",t.$alias.user(t.item.user.zone))+' target="_blank" class="nickname">'+t._ssrEscape(t._s(t.item.user.nickname))+"</a>")],2),t._ssrNode(" <a"+t._ssrAttr("href",t.$alias.question(t.item.id))+' target="_blank"><h3 class="title">'+t._ssrEscape(t._s(t.item.title))+"</h3></a> "),t._ssrNode('<div class="content">',"</div>",[t.item.answer?t._ssrNode("<a"+t._ssrAttr("href",t.$alias.answer(t.item.answer.id))+' target="_blank">',"</a>",[t.item.answer.poster?t._ssrNode('<div class="poster">',"</div>",[r("v-img",{attrs:{src:t.item.answer.poster.url,blur:!0,width:"190",height:"105"}})],1):t._e(),t._ssrNode(' <div class="text">'+t._ssrEscape(t._s(t.item.answer.intro))+"</div>")],2):t._ssrNode("<a"+t._ssrAttr("href",t.$alias.question(t.item.id))+' target="_blank" class="text">'+t._ssrEscape(t._s(t.item.intro))+"</a>")]),t._ssrNode(" "),t._ssrNode('<div class="footer">',"</div>",[t.item.answer?t._ssrNode("<a"+t._ssrAttr("href",t.$alias.answer(t.item.answer.id))+' target="_blank">',"</a>",[r("vote-button",{attrs:{id:t.item.answer.id,total:t.item.answer.vote_count,"author-id":t.item.user.id,score:0,disabled:!0,type:"answer"}})],1):t._e(),t._ssrNode(' <span class="stats"><i class="el-icon-edit"></i>'+t._ssrEscape("\n      "+t._s(t.item.answer_count?t.item.answer_count+"个回答":"还没有回答")+"\n    ")+'</span> <span class="stats"><i class="iconfont icon-talk"></i>'+t._ssrEscape("\n      "+t._s(t.item.comment_count?t.item.comment_count+"条评论":"还没有评论")+"\n    ")+"</span> "+(t.item.follow_count?'<span class="stats"><i class="iconfont icon-mark"></i>'+t._ssrEscape("\n      "+t._s(t.item.follow_count)+"人关注\n    ")+"</span>":"\x3c!----\x3e")+" "),r("v-share",{staticClass:"stats",attrs:{url:t.item.answer?t.$alias.answer(t.item.answer.id):t.$alias.question(t.item.id),title:t.item.title,desc:t.item.answer?t.item.answer.intro:t.item.intro,type:"button"}})],2)],2)},[],!1,function(t){var e=r(286);e.__inject__&&e.__inject__(t)},null,"c64cf580");e.a=component.exports},384:function(t,e){},477:function(t,e,r){"use strict";r.r(e);var n=r(384),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},509:function(t,e,r){"use strict";r.r(e);var n={name:"UserFAQ",components:{QuestionFlowItem:r(299).a},data:()=>({active:"回答"}),computed:{user(){return this.$store.state.users.show}},async asyncData({store:t,params:e}){await t.dispatch("flow/initData",{func:"getUserAnswer",type:"page",sort:"news",id:e.zone})},methods:{handleTabSwitch(label){"回答"===label?this.getUserFAQ("getUserAnswer"):this.getUserFAQ("getUserQAQ")},getUserFAQ(t){this.$store.dispatch("flow/initData",{func:t,type:"page",sort:"news",id:this.user.zone})}}},o=r(0);var component=Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"user-faq"}},[t._ssrNode("<div>","</div>",[r("el-radio-group",{attrs:{size:"mini"},on:{change:t.handleTabSwitch},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("el-radio-button",{attrs:{label:"回答"}}),t._v(" "),r("el-radio-button",{attrs:{label:"提问"}})],1)],1),t._ssrNode(" "),"回答"===t.active?r("flow-list",{attrs:{id:t.user.zone,func:"getUserAnswer",type:"page",sort:"news"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.flow;return r("ul",{},t._l(n,function(t){return r("question-flow-item",{key:t.id,attrs:{item:t}})}),1)}}],null,!1,4173628199)},[t._v(" "),r("no-content",{attrs:{slot:"nothing"},slot:"nothing"})],1):r("flow-list",{attrs:{id:t.user.zone,func:"getUserQAQ",type:"page",sort:"news"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.flow;return r("ul",{},t._l(n,function(t){return r("question-flow-item",{key:t.id,attrs:{item:t}})}),1)}}])},[t._v(" "),r("no-content",{attrs:{slot:"nothing"},slot:"nothing"})],1)],2)},[],!1,function(t){var e=r(477);e.__inject__&&e.__inject__(t)},null,"51aaed8f");e.default=component.exports}};
//# sourceMappingURL=qaq.chunk.06fe95e0.js.map