exports.ids=[31],exports.modules={232:function(t,e){},233:function(t,e){},234:function(t,e){},235:function(t,e){},236:function(t,e){},237:function(t,e){},238:function(t,e,o){"use strict";o.d(e,"l",function(){return n}),o.d(e,"u",function(){return r}),o.d(e,"g",function(){return c}),o.d(e,"j",function(){return m}),o.d(e,"c",function(){return d}),o.d(e,"k",function(){return l}),o.d(e,"d",function(){return _}),o.d(e,"r",function(){return h}),o.d(e,"h",function(){return f}),o.d(e,"p",function(){return v}),o.d(e,"f",function(){return y}),o.d(e,"s",function(){return $}),o.d(e,"a",function(){return C}),o.d(e,"q",function(){return x}),o.d(e,"m",function(){return w}),o.d(e,"e",function(){return k}),o.d(e,"b",function(){return N}),o.d(e,"i",function(){return I}),o.d(e,"t",function(){return T}),o.d(e,"o",function(){return S}),o.d(e,"n",function(){return A});const n=(t,{id:e})=>t.$axios.$get(`cartoon_role/${e}/stock_show`),r=(t,{id:e,amount:o})=>t.$axios.$post(`cartoon_role/${e}/buy_stock`,{amount:o}),c=(t,{bangumi_id:e,name:o,intro:n,avatar:r,alias:c})=>t.$axios.$post("cartoon_role/manager/create",{bangumi_id:e,name:o,intro:n,avatar:r,alias:c}),m=(t,form)=>t.$axios.$post("cartoon_role/manager/edit",form),d=(t,form)=>t.$axios.$post("cartoon_role/manager/user_create",form),l=(t,{id:e})=>t.$axios.$get(`cartoon_role/${e}/get_idol_deal`),_=(t,form)=>t.$axios.$post("cartoon_role/create_deal",form),h=(t,form)=>t.$axios.$post("cartoon_role/make_deal",form),f=(t,{id:e})=>t.$axios.$post("cartoon_role/delete_deal",{id:e}),v=t=>t.$axios.$get("cartoon_role/stock_meta"),y=(t,form)=>t.$axios.$post("cartoon_role/create_market_price_draft",form),$=(t,{is_agree:e,idol_id:o,draft_id:n})=>t.$axios.$post("cartoon_role/vote_market_price_draft",{is_agree:e,idol_id:o,draft_id:n}),C=(t,{idol_id:e,qq_group:o,lover_words:n,manager_id:r})=>t.$axios.$post("cartoon_role/change_idol_profile",{idol_id:e,qq_group:o,lover_words:n,manager_id:r}),x=t=>t.$axios.$get("cartoon_role/user_draft_work"),w=t=>t.$axios.$get("cartoon_role/can_use_income"),k=(t,{product_id:e,product_type:o,amount:n})=>t.$axios.$post("cartoon_role/create_buy_request",{product_id:e,product_type:o,amount:n}),N=(t,{order_id:e,result:o})=>t.$axios.$post("cartoon_role/check_product_request",{order_id:e,result:o}),I=(t,{order_id:e})=>t.$axios.$post("cartoon_role/delete_buy_request",{order_id:e}),T=(t,{order_id:e})=>t.$axios.$post("cartoon_role/over_buy_request",{order_id:e}),S=t=>t.$axios.$get("cartoon_role/get_mine_product_orders"),A=(t,{idol_id:e,days:o})=>t.$axios.$get("cartoon_role/get_idol_days_chart",{params:{idol_id:e,days:o}})},240:function(t,e,o){"use strict";var n={name:"CommentReplyForm",props:{type:{required:!0,type:String},id:{required:!0,type:Number},toUserId:{required:!0,type:Number},value:{type:Boolean,default:!1,required:!0}},data(){return{open:this.value,submitting:!1,content:""}},mounted(){this.$watch("value",t=>{this.open=t,t&&this.$nextTick(()=>{this.$refs.input.focus()})}),this.$watch("open",t=>{this.$emit("input",t)})},methods:{cancel(){this.open=!1},async submit(){if(this.$store.state.login){if(this.content&&!this.submitting){this.submitting=!0;try{const t=await this.$store.dispatch("comment/createSubComment",{id:this.id,ctx:this,type:this.type,content:this.content,targetUserId:this.toUserId});this.open=!1,this.content="",this.$toast.success(t.message),this.$store.commit("UPDATE_USER_EXP",t.exp)}catch(t){}finally{this.submitting=!1}}}else this.$channel.$emit("sign-in")}}},r=o(0);var component=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.open?o("div",{staticClass:"comment-reply-form"},[t._ssrNode('<div class="btn-group">',"</div>",[o("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:t.cancel}},[t._v("\n      取消\n    ")]),t._ssrNode(" "),o("el-button",{attrs:{loading:t.submitting,size:"mini",type:"primary"},on:{click:t.submit}},[t._v("\n      发表\n    ")])],2),t._ssrNode(' <div class="input-wrap"><input type="text" placeholder="请缩减至100字以内" maxlength="100"'+t._ssrAttr("value",t.content)+"></div>")],2):t._e()},[],!1,function(t){var e=o(248);e.__inject__&&e.__inject__(t)},null,"f8f6afc8");e.a=component.exports},245:function(t,e){},246:function(t,e,o){"use strict";var n=o(240),r={name:"VSubCommentItem",components:{CommentReplyForm:n.a},props:{comment:{required:!0,type:Object},parentUserId:{required:!0,type:Number},type:{required:!0,type:String,default:""}},data:()=>({showReplyArea:!1,deleting:!1}),computed:{currentUserId(){return this.$store.state.login?this.$store.state.user.id:0},isMine(){return this.currentUserId===this.comment.from_user_id},canDelete(){return this.isMine||this.currentUserId===this.parentUserId},focusThisComment(){return parseInt(this.$route.query["reply-id"])===this.comment.id}},methods:{openReplyForm(){this.currentUserId?this.showReplyArea=!this.showReplyArea:this.$channel.$emit("sign-in")},deleteComment(){this.deleting||(this.deleting=!0,this.$confirm("删除后无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.dispatch("comment/deleteSubComment",{ctx:this,type:this.type,id:this.comment.id,parentId:this.comment.parent_id})}).catch(t=>{this.deleting=!1,"cancel"!==t&&this.$toast.error(t)}))}}},c=o(0);var m={name:"VSubCommentList",components:{SubCommentItem:Object(c.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"sub-comment-item",class:{"focused-sub-comment":t.focusThisComment},attrs:{id:"sub-comment-"+t.comment.id}},[t._ssrNode('<div class="sub-user">',"</div>",[t._ssrNode('<div class="avatar">',"</div>",[o("user-card",{attrs:{id:t.comment.from_user_id,zone:t.comment.from_user_zone}},[o("v-img",{attrs:{src:t.comment.from_user_avatar,avatar:!0,width:24,height:24}})],1)],1)]),t._ssrNode(" "),t._ssrNode('<div class="sub-body">',"</div>",[o("user-card",{attrs:{id:t.comment.from_user_id,zone:t.comment.from_user_zone,"custom-class":"from-user href-fade-blue"}},[t._v("\n      "+t._s(t.comment.from_user_name)+"\n    ")]),t._ssrNode(" "),t._ssrNode('<span class="sub-text">',"</span>",[t.comment.to_user_id&&t.comment.to_user_id!==t.parentUserId?[t._ssrNode("\n        回复\n        "),o("user-card",{attrs:{id:t.comment.to_user_id,zone:t.comment.to_user_zone,"custom-class":"to-user"}},[t._v("\n          @"+t._s(t.comment.to_user_name)+"\n        ")])]:t._e(),t._ssrNode(t._ssrEscape("\n      "+t._s(t.comment.content)+"\n    "))],2),t._ssrNode(" "),t._ssrNode('<div class="sub-extra">',"</div>",[o("el-tooltip",{attrs:{content:t.comment.created_at,placement:"top",effect:"dark"}},[o("v-time",{model:{value:t.comment.created_at,callback:function(e){t.$set(t.comment,"created_at",e)},expression:"comment.created_at"}})],1),t._ssrNode(' <button class="reply-btn">\n        回复\n      </button> '),t.canDelete?t._ssrNode("<button>","</button>",[t._ssrNode('<i class="iconfont icon-shanchu"></i>')],2):o("report-dialog",{attrs:{id:t.comment.id,type:t.type+"_reply"}},[o("button",{staticClass:"reply-btn"},[t._v("\n          举报\n        ")])])],2),t._ssrNode(" "),o("comment-reply-form",{attrs:{id:t.comment.parent_id,type:t.type,"to-user-id":t.comment.from_user_id},model:{value:t.showReplyArea,callback:function(e){t.showReplyArea=e},expression:"showReplyArea"}})],2)],2)},[],!1,function(t){var e=o(249);e.__inject__&&e.__inject__(t)},null,"984d8742").exports},props:{parentComment:{required:!0,type:Object},type:{required:!0,type:String,default:""}},data:()=>({loading:!1,showCollapse:!1,collapsed:!1}),computed:{comments(){return this.parentComment.comments},authorId(){return this.parentComment.from_user_id},filterComments(){if(!this.collapsed)return this.comments.list;const data=this.comments,t=data.list,e=t.slice(0,5);if(t.every(t=>t.id<=data.maxId))return e;const o=e.map(t=>t.id);return e.concat(t.filter(t=>t.id>data.maxId&&-1===o.indexOf(t.id)))}},methods:{async loadMore(){if(!this.loading){this.loading=!0;try{await this.$store.dispatch("comment/getSubComments",{ctx:this,type:this.type,id:this.parentComment.id}),this.showCollapse=!0}catch(t){}finally{this.loading=!1}}}}};var d={name:"VCommentItem",components:{SubCommentList:Object(c.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"sub-comment-list-wrap"},[t._l(t.filterComments,function(e){return o("sub-comment-item",{key:e.id,attrs:{comment:e,"parent-user-id":t.authorId,type:t.type}})}),t._ssrNode(" "+(!t.comments.noMore||t.comments.list.length>5?'<div class="view-more">\n    共<strong>'+t._ssrEscape(t._s(t.comments.total))+"</strong>条回复\n    "+(t.comments.noMore?"\x3c!----\x3e":'\n      ，\n      <button class="more-btn">\n        查看更多\n      </button>')+" "+(t.showCollapse?'<button class="collapse-btn">'+t._ssrEscape("\n      "+t._s(t.collapsed?"展开":"收起")+"\n    ")+"</button>":"\x3c!----\x3e")+"</div>":"\x3c!----\x3e"))],2)},[],!1,function(t){var e=o(250);e.__inject__&&e.__inject__(t)},null,"8442972c").exports,CommentReplyForm:n.a},props:{comment:{required:!0,type:Object},masterId:{required:!0,type:[Number,String]},type:{required:!0,type:String,default:""}},data:()=>({deleting:!1,liking:!1,showReplyArea:!1}),computed:{currentUserId(){return this.$store.state.login?this.$store.state.user.id:0},authorId(){return this.comment.from_user_id},isMine(){return this.currentUserId===this.authorId},canDelete(){return this.isMine||this.currentUserId===this.masterId},focusThisComment(){return parseInt(this.$route.query["comment-id"])===this.comment.id}},methods:{async toggleLike(){if(this.currentUserId){if(!this.liking){this.liking=!0;try{await this.$store.dispatch("comment/toggleLikeMainComment",{ctx:this,type:this.type,id:this.comment.id})}catch(t){}finally{this.liking=!1}}}else this.$channel.$emit("sign-in")},deleteComment(){this.deleting||(this.deleting=!0,this.$confirm("删除后无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.dispatch("comment/deleteMainComment",{ctx:this,type:this.type,id:this.comment.id}),this.$emit("delete")}).catch(t=>{this.deleting=!1,"cancel"!==t&&this.$toast.error(t)}))},replyComment(){this.currentUserId?this.showReplyArea=!this.showReplyArea:this.$channel.$emit("sign-in")}}};var l=Object(c.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"def-comment-item",class:{"focused-main-comment":t.focusThisComment},attrs:{id:"comment-"+t.comment.id}},[t._ssrNode('<div class="user">',"</div>",[o("user-card",{attrs:{id:t.comment.from_user_id,zone:t.comment.from_user_zone}},[o("v-img",{staticClass:"avatar",attrs:{src:t.comment.from_user_avatar,avatar:!0,width:48,height:48}})],1)],1),t._ssrNode(" "),t._ssrNode('<div class="body">',"</div>",[t._ssrNode('<div class="header">',"</div>",[t._ssrNode("<a"+t._ssrAttr("href",t.$alias.user(t.comment.from_user_zone))+' target="_blank" class="blue-link">'+t._ssrEscape(t._s(t.comment.from_user_name))+"</a> "+(t.comment.is_owner?"<span>(楼主)</span>":"\x3c!----\x3e")+" "),t.comment.is_leader?o("el-tooltip",{attrs:{placement:"top",effect:"dark",content:"版主"}},[o("i",{staticClass:"iconfont icon-leader"})]):t.comment.is_master?o("el-tooltip",{attrs:{placement:"top",effect:"dark",content:"代行者"}},[o("i",{staticClass:"iconfont icon-master"})]):t._e()],2),t._ssrNode(' <div class="content">'+t._s(t.comment.content)+"</div> "),t._ssrNode('<div class="footer">',"</div>",[t._ssrNode('<span class="floor-count">'+t._ssrEscape("#"+t._s(t.comment.floor_count-1))+"</span> "),o("el-tooltip",{attrs:{content:t.comment.created_at,placement:"top",effect:"dark"}},[o("v-time",{attrs:{datetime:t.comment.created_at}})],1),t._ssrNode(' <button class="like-btn"><i'+t._ssrClass("iconfont",[t.comment.liked?"icon-dianzan-active":"icon-dianzan"])+"></i> "+(t.comment.like_count?"<span>"+t._ssrEscape(t._s(t.comment.like_count))+"</span>":"\x3c!----\x3e")+'</button> <button class="reply-btn">\n        回复\n      </button> '),t.canDelete?t._ssrNode('<button class="delete-btn">',"</button>",[t._ssrNode('<i class="iconfont icon-shanchu"></i>')],2):o("report-dialog",{attrs:{id:t.comment.id,type:t.type+"_comment"}},[o("button",{staticClass:"reply-btn main-comment-report-btn"},[t._v("\n          举报\n        ")])])],2),t._ssrNode(" "),o("comment-reply-form",{attrs:{id:t.comment.id,"to-user-id":t.authorId,type:t.type},model:{value:t.showReplyArea,callback:function(e){t.showReplyArea=e},expression:"showReplyArea"}}),t._ssrNode(" "),o("sub-comment-list",{attrs:{"parent-comment":t.comment,type:t.type}})],2)],2)},[],!1,function(t){var e=o(251);e.__inject__&&e.__inject__(t)},null,"8deb9696").exports,_={name:"CreateCommentForm",props:{type:{type:String,required:!0},id:{type:[Number,String],required:!0},masterId:{type:Number,required:!0}},data:()=>({content:""}),computed:{isGuest(){return!this.$store.state.login},submitting(){return this.$store.state.comment.submitting},userAvatar(){return this.isGuest?"https://image.calibur.tv/default/user-avatar":this.$store.state.user.avatar}},methods:{async submit(){if(this.isGuest)return this.$toast.info("继续操作前请先登录"),void this.$channel.$emit("sign-in");if(this.content&&!this.submitting){this.$store.commit("comment/SET_SUBMITTING",{result:!0});try{const t=await this.$store.dispatch("comment/createMainComment",{content:this.content,images:[],type:this.type,id:this.id,ctx:this});this.content="",this.withImage&&this.$refs.uploader.clearFiles(),this.$toast.success(t.message),this.$store.commit("UPDATE_USER_EXP",t.exp),window.__closeImageLazy__||setTimeout(()=>{const e=document.getElementById(`comment-${t.data.id}`);e&&this.$scrollToY(this.$utils.getOffsetTop(e)-200,600)},400),this.$emit("submit")}catch(t){}finally{this.$store.commit("comment/SET_SUBMITTING",{result:!1})}}},handleTextAreaFocus(){this.isGuest&&this.$channel.$emit("sign-in")}}};var h={name:"CommentMain",components:{CommentCreateForm:Object(c.a)(_,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"create-comment-form"},[e("v-img",{staticClass:"avatar",attrs:{src:this.userAvatar,width:48,height:48,avatar:!0}}),this._ssrNode(' <div class="main-area"><button class="submit-btn">\n      发表<br>评论\n    </button> <div class="text-wrap"><textarea placeholder="请自觉遵守互联网相关的政策法规，严禁发布色情、暴力、反动的言论。" maxlength="1000"></textarea></div></div>')],2)},[],!1,function(t){var e=o(252);e.__inject__&&e.__inject__(t)},null,"0c39bf82").exports,CommentItem:l},props:{id:{required:!0,type:[Number,String]},type:{required:!0,type:String,validator:t=>~["post","video","image","score","question","answer","role"].indexOf(t)},onlySeeMaster:{type:Boolean,default:!1},masterId:{type:[Number,String],required:!0},emptyText:{type:String,default:"暂无评论，快来抢沙发吧╮(￣▽￣)╭！"},auto:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0}},data:()=>({loading:!1}),computed:{store(){return this.$store.state.comment},list(){return this.store.list},noMore(){return this.store.noMore},total(){return this.store.total}},mounted(){this.auto&&this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`,()=>{this.loadMore(!0)}),this.lazyLoadComment()},methods:{async loadMore(t=!1){if(!this.loading){this.loading=!0;try{await this.$store.dispatch("comment/getMainComments",{ctx:this,type:this.type,id:this.id,onlySeeMaster:this.onlySeeMaster?1:0,firstRequest:t})}catch(t){}finally{this.loading=!1}}},async lazyLoadComment(){if(!this.lazy)return void this.$nextTick(()=>{this.scrollToReply()});const{query:t}=this.$route;await this.$store.dispatch("comment/getMainComments",{id:this.id,type:this.type,seeReplyId:t["comment-id"],onlySeeMaster:t.only&&parseInt(t.only,10)?1:0}),this.$nextTick(()=>{this.scrollToReply()})},scrollToReply(){const t=this.$route.query["comment-id"];if(!t)return;const e=document.getElementById(`comment-${t}`);e&&this.$nextTick(()=>{this.$scrollToY(this.$utils.getOffsetTop(e)-200,400)})}}};var f=Object(c.a)(h,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"comment-wrap"}},[t._t("header",[t.showHeader?o("h3",{staticClass:"sub-title"},[t._v("\n      评论"+t._s(t.total?"("+t.total+")":"")+"\n    ")]):t._e(),t._v(" "),o("comment-create-form",{attrs:{id:t.id,type:t.type,"master-id":t.masterId},on:{submit:function(e){return t.$emit("create-main-comment")}}})]),t._ssrNode(" "),t.list.length?t._ssrNode('<div id="comment-list-wrap">',"</div>",t._l(t.list,function(e){return t._ssrNode('<div class="comment-item-wrap">',"</div>",[t._t("comment-item",[o("comment-item",{attrs:{comment:e,type:t.type,"master-id":t.masterId},on:{delete:function(e){return t.$emit("delete-main-comment")}}})],{comment:e})],2)}),0):t.emptyText?t._ssrNode('<p class="no-content">'+t._ssrEscape(t._s(t.emptyText))+"</p>"):t._e(),t._ssrNode(" "),t._ssrNode('<div id="comment-list-footer">',"</div>",[t._ssrNode('<div class="load-more-btn">',"</div>",[t.noMore?t._e():o("el-button",{attrs:{loading:t.loading,type:"info",plain:"",round:""},on:{click:function(e){return t.loadMore(!1)}}},[t._v("\n        "+t._s(t.loading?"加载中...":"加载更多")+"\n      ")])],1),t._ssrNode(" "),t._t("reply",[t.list.length>=10?o("comment-create-form",{attrs:{id:t.id,type:t.type,"master-id":t.masterId},on:{submit:function(e){return t.$emit("create-main-comment")}}}):t._e()])],2)],2)},[],!1,function(t){var e=o(253);e.__inject__&&e.__inject__(t)},null,"7259fc5b");e.a=f.exports},248:function(t,e,o){"use strict";o.r(e);var n=o(232),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},249:function(t,e,o){"use strict";o.r(e);var n=o(233),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},250:function(t,e,o){"use strict";o.r(e);var n=o(234),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},251:function(t,e,o){"use strict";o.r(e);var n=o(235),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},252:function(t,e,o){"use strict";o.r(e);var n=o(236),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},253:function(t,e,o){"use strict";o.r(e);var n=o(237),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},278:function(t,e,o){"use strict";o.r(e);var n=o(245),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},283:function(t,e,o){"use strict";var n={name:"SocialPanel",props:{isCreator:{required:!0,type:Boolean},isMine:{required:!0,type:Boolean},id:{required:!0,type:Number},type:{required:!0,type:String,validator:t=>~["post","video","image","score","answer","video"].indexOf(t)}},computed:{isAuth(){return this.$store.state.isAuth},isGuest(){return!this.$store.state.login},source(){return this.$store.getters["social/getState"](this.type,this.id)}},methods:{computeTextByAction:t=>"reward"===t?"投食":"like"===t?"喜欢":"mark"===t?"收藏":"操作",toggleAction(t){if(this.isGuest)this.$channel.$emit("sign-in");else if(this.isMine)this.$toast.info(`不能${this.computeTextByAction(t)}自己的内容`);else if("reward"===t){if(this.source.reward)return void this.$toast.info("已投食过");this.$confirm("向TA投食需要消耗你一个团子，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.submitAction("reward")}).catch(()=>{})}else this.submitAction(t)},async submitAction(t){const data=await this.$store.dispatch("social/toggleAction",{type:this.type,id:this.id,action:t});data.success&&this.$emit(`${t}-callback`,{result:data.result})}}},r=o(0);var component=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.source?o("div",{staticClass:"what-the-ad-block-fucked-panel"},[t._ssrNode('<div class="dont-block-me-please-buttons">',"</div>",[t._t("default"),t._ssrNode(" "),t.isCreator?o("el-button",{class:{"is-plain":t.source.reward},attrs:{loading:t.source.reward_loading,type:"warning",icon:"iconfont icon-fantuan",round:""},on:{click:function(e){return t.toggleAction("reward")}}},[t._v("\n      "+t._s(t.source.reward?"已投食":"投食")+t._s(t.source.reward_users.total?"  |  "+t.source.reward_users.total:"")+"\n    ")]):t._e(),t._ssrNode(" "),o("el-button",{class:{"is-plain":t.source.like},attrs:{loading:t.source.like_loading,type:"danger",icon:"iconfont icon-like",round:""},on:{click:function(e){return t.toggleAction("like")}}},[t._v("\n      "+t._s(t.source.like?"已喜欢":"喜欢")+t._s(t.source.like_users.total?"  |  "+t.source.like_users.total:"")+"\n    ")]),t._ssrNode(" "),o("el-button",{class:{"is-plain":t.source.mark},attrs:{loading:t.source.mark_loading,type:"success",icon:"iconfont icon-mark",round:""},on:{click:function(e){return t.toggleAction("mark")}}},[t._v("\n      "+t._s(t.source.mark?"已收藏":"收藏")+t._s(t.source.mark_users.total?"  |  "+t.source.mark_users.total:"")+"\n    ")])],2),t._ssrNode(" "),t._ssrNode('<div class="users">',"</div>",[o("ava-dialog",{attrs:{id:t.id,title:t.isCreator?"投食的人":"喜欢的人",action:t.isCreator?"reward":"like",type:t.type}})],1)],2):t._e()},[],!1,function(t){var e=o(278);e.__inject__&&e.__inject__(t)},null,"7ba00a31");e.a=component.exports},287:function(t,e,o){"use strict";o.d(e,"c",function(){return n}),o.d(e,"a",function(){return r}),o.d(e,"d",function(){return c}),o.d(e,"b",function(){return m}),o.d(e,"h",function(){return d}),o.d(e,"f",function(){return l}),o.d(e,"g",function(){return _}),o.d(e,"e",function(){return h});const n=(t,{id:e,only:o,hash:n,time:time})=>t.$axios.$get(`post/${e}/show`,{params:{only:o,hash:n,time:time}}),r=(t,{title:title,bangumiId:e,content:content,images:o,tags:n,desc:desc,geetest:r,is_creator:c})=>t.$axios.$post("post/create",{title:title,bangumiId:e,content:content,images:o,tags:n,desc:desc,geetest:r,is_creator:c}),c=t=>t.$axios.$get("post/tags"),m=(t,{id:e})=>t.$axios.$post(`post/${e}/deletePost`),d=(t,{id:e})=>t.$axios.$post("post/manager/top/set",{id:e}),l=(t,{id:e})=>t.$axios.$post("post/manager/top/remove",{id:e}),_=(t,{id:e})=>t.$axios.$post("post/manager/nice/set",{id:e}),h=(t,{id:e})=>t.$axios.$post("post/manager/nice/remove",{id:e})},362:function(t,e){},363:function(t,e){},364:function(t,e){},365:function(t,e){},366:function(t,e){},367:function(t,e){},456:function(t,e,o){"use strict";o.r(e);var n=o(362),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},457:function(t,e,o){"use strict";o.r(e);var n=o(363),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},458:function(t,e,o){"use strict";o.r(e);var n=o(364),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},459:function(t,e,o){"use strict";o.r(e);var n=o(365),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},460:function(t,e,o){"use strict";o.r(e);var n=o(366),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},461:function(t,e,o){"use strict";o.r(e);var n=o(367),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},494:function(t,e,o){"use strict";o.r(e);var n=o(287),r=o(246),c=o(240),m={name:"PostSubCommentItem",components:{CommentReplyForm:c.a},props:{comment:{required:!0,type:Object},parentUserId:{required:!0,type:Number}},data:()=>({showReplyArea:!1,deleting:!1}),computed:{currentUserId(){return this.$store.state.login?this.$store.state.user.id:0},isMine(){return this.currentUserId===this.comment.from_user_id},canDelete(){return this.isMine||this.currentUserId===this.parentUserId},focusThisComment(){return parseInt(this.$route.query["reply-id"])===this.comment.id}},methods:{toggleCommentArea(){this.showReplyArea=!this.showReplyArea},deleteComment(){this.deleting||(this.deleting=!0,this.$confirm("删除后无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.dispatch("comment/deleteSubComment",{type:"post",ctx:this,id:this.comment.id,parentId:this.comment.parent_id})}).catch(t=>{this.deleting=!1,"cancel"!==t&&this.$toast.error(t)}))}}},d=o(0);var l={name:"PostSubCommentList",components:{PostSubCommentItem:Object(d.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"post-sub-comment-item",class:{"focused-sub-comment":t.focusThisComment},attrs:{id:"sub-comment-"+t.comment.id}},[o("user-card",{attrs:{id:t.comment.from_user_id,zone:t.comment.from_user_zone}},[o("v-img",{staticClass:"avatar",attrs:{src:t.comment.from_user_avatar,width:30,height:30,avatar:!0}}),t._v(" "),o("span",{staticClass:"href-fade-blue",domProps:{textContent:t._s(t.comment.from_user_name)}})],1),t._ssrNode(" "),t.comment.to_user_id&&t.comment.to_user_id!==t.parentUserId?[t._ssrNode("\n    回复\n    "),o("user-card",{attrs:{id:t.comment.to_user_id,zone:t.comment.to_user_zone,"custom-class":"href-fade-blue"}},[t._v("\n      "+t._s(t.comment.to_user_name)+"\n    ")])]:t._e(),t._ssrNode('\n  :\n  <span class="comment-content">'+t._ssrEscape(t._s(t.comment.content))+"</span> "),t._ssrNode('<div class="reply-area">',"</div>",[o("report-dialog",{attrs:{id:t.comment.id,type:"post_reply"}},[t._v("\n      举报\n    ")]),t._ssrNode(" "),o("v-time",{model:{value:t.comment.created_at,callback:function(e){t.$set(t.comment,"created_at",e)},expression:"comment.created_at"}}),t._ssrNode(" "+(t.canDelete?"<button>\n      删除\n    </button>":"\x3c!----\x3e")+" "+(t.isMine?"\x3c!----\x3e":"<button>"+t._ssrEscape("\n      "+t._s(t.showReplyArea?"收起":"回复")+"\n    ")+"</button>"))],2),t._ssrNode(" "),o("comment-reply-form",{attrs:{id:t.comment.parent_id,"to-user-id":t.comment.from_user_id,type:"post"},model:{value:t.showReplyArea,callback:function(e){t.showReplyArea=e},expression:"showReplyArea"}})],2)},[],!1,function(t){var e=o(456);e.__inject__&&e.__inject__(t)},null,"5ff12773").exports,CommentReplyForm:c.a},props:{parentComment:{required:!0,type:Object}},data:()=>({collapsed:!1,showReplyArea:!1,loading:!1}),computed:{comments(){return this.parentComment.comments},parentId(){return this.parentComment.id},authorId(){return this.parentComment.from_user_id},computeCollapsedBtnText(){return this.hasComment?this.collapsed?`回复(${this.comments.total})`:"收起回复":this.showReplyArea?"收起":"回复"},hasComment(){return!!this.comments.list.length}},methods:{clickCollapsedBtn(){this.hasComment?this.collapsed=!this.collapsed:this.showReplyArea=!this.showReplyArea},toggleCommentArea(){this.showReplyArea=!this.showReplyArea},async loadMore(){if(!this.loading){this.loading=!0;try{await this.$store.dispatch("comment/getSubComments",{ctx:this,type:"post",id:this.parentId})}catch(t){}finally{this.loading=!1}}}}};var _={name:"PostCommentItem",components:{PostSubCommentList:Object(d.a)(l,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"post-sub-comment-list-wrap"},[t._ssrNode('<button class="comments-collapsed-btn">'+t._ssrEscape(t._s(t.computeCollapsedBtnText))+"</button> "),o("el-collapse-transition",[t.hasComment&&!t.collapsed?o("div",{staticClass:"post-sub-comment-list"},t._l(t.comments.list,function(e){return o("post-sub-comment-item",{key:e.id,attrs:{comment:e,"parent-user-id":t.authorId}})}),1):t._e()]),t._ssrNode(" "),t.hasComment&&!t.collapsed?t._ssrNode('<div class="sub-comment-footer">',"</div>",[t._ssrNode('<div class="more">',"</div>",[t.comments.noMore?t._e():o("el-button",{attrs:{loading:t.loading,size:"mini",round:""},on:{click:t.loadMore}},[t._v("\n        点击加载更多\n      ")]),t._ssrNode(' <span class="total">'+t._ssrEscape("共"+t._s(t.comments.total)+"条")+"</span>")],2),t._ssrNode(' <button class="toggle">\n      我也说一句\n    </button>')],2):t._e(),t._ssrNode(" "),o("comment-reply-form",{staticClass:"footer-reply-area",attrs:{id:t.parentId,"to-user-id":t.authorId,type:"post"},model:{value:t.showReplyArea,callback:function(e){t.showReplyArea=e},expression:"showReplyArea"}})],2)},[],!1,function(t){var e=o(457);e.__inject__&&e.__inject__(t)},null,"69f69f7e").exports},props:{post:{required:!0,type:Object},masterId:{required:!0,type:Number}},data:()=>({deleting:!1,liking:!1}),computed:{currentUserId(){return this.$store.state.login?this.$store.state.user.id:0},isMine(){return this.currentUserId===this.post.from_user_id},canDelete(){return this.isMine||this.currentUserId===this.masterId},focusThisComment(){return parseInt(this.$route.query["comment-id"])===this.post.id}},methods:{async toggleLike(){if(this.currentUserId){if(!this.liking){this.liking=!0;try{await this.$store.dispatch("comment/toggleLikeMainComment",{ctx:this,type:"post",id:this.post.id})}catch(t){}finally{this.liking=!1}}}else this.$channel.$emit("sign-in")},deleteComment(){this.deleting||(this.deleting=!0,this.$confirm("删除后无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.dispatch("comment/deleteMainComment",{type:"post",ctx:this,id:this.post.id})}).catch(t=>{this.deleting=!1,"cancel"!==t&&this.$toast.error(t)}))},handleCopySuccess(){this.$toast.success("复制成功")}}};var h=Object(d.a)(_,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"post-comment-item",class:{"focused-main-comment":t.focusThisComment},attrs:{id:"comment-"+t.post.id}},[t._ssrNode('<div class="user">',"</div>",[o("user-card",{attrs:{id:t.post.from_user_id,zone:t.post.from_user_zone}},[o("v-img",{staticClass:"avatar",attrs:{src:t.post.from_user_avatar,avatar:!0,width:80,height:80}}),t._v(" "),o("p",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.post.from_user_name)}})],1),t._ssrNode(" "),t.post.is_owner?o("el-tooltip",{attrs:{placement:"top",effect:"dark",content:"楼主"}},[o("i",{staticClass:"iconfont icon-owner"})]):t._e(),t._ssrNode(" "),t.post.is_leader?o("el-tooltip",{attrs:{placement:"right",effect:"dark",content:"版主"}},[o("i",{staticClass:"iconfont icon-leader"})]):t.post.is_master?o("el-tooltip",{attrs:{placement:"right",effect:"dark",content:"代行者"}},[o("i",{staticClass:"iconfont icon-master"})]):t._e()],2),t._ssrNode(" "),t._ssrNode('<div class="content">',"</div>",[t._ssrNode('<div class="main">',"</div>",[t._l(t.post.images,function(img,e){return t._ssrNode('<div class="image-package">',"</div>",[o("v-img",{staticClass:"image",attrs:{src:img.url,width:img.width,height:img.height,mime:img.type,blur:!0,full:!0}})],1)}),t._ssrNode(' <div class="text-package">'+t._s(t.post.content)+"</div>")],2),t._ssrNode(" "),t._ssrNode('<div class="footer">',"</div>",[t._ssrNode('<div class="info-bar">',"</div>",[t._ssrNode('<button class="like-btn">'+t._ssrEscape("\n          "+t._s(t.post.liked?"已赞":"赞")+"\n          ")+(t.post.like_count?"<span>"+t._ssrEscape("("+t._s(t.post.like_count)+")")+"</span>":"\x3c!----\x3e")+"</button> "+(t.canDelete?'<button class="delete-btn">\n          删除\n        </button>':"\x3c!----\x3e")+' <span class="floor-count">'+t._ssrEscape(t._s(t.post.floor_count)+"楼")+"</span> "),o("v-time",{staticClass:"floor-count",attrs:{datetime:t.post.created_at}}),t._ssrNode(" "),t._ssrNode('<div class="hover-box">',"</div>",[o("report-dialog",{attrs:{id:t.post.id,type:"post_comment"}},[t._v("\n            举报\n          ")]),t._ssrNode(" "),o("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:"https://www.calibur.tv/post/"+t.post.modal_id+"?comment-id="+t.post.id,expression:"\n              `https://www.calibur.tv/post/${post.modal_id}?comment-id=${\n                post.id\n              }`\n            "}],staticClass:"fen-think-btn",on:{success:t.handleCopySuccess}},[t._ssrNode("\n            复制评论链接\n          ")])],2)],2)])],2),t._ssrNode(" "),o("post-sub-comment-list",{attrs:{"parent-comment":t.post}})],2)},[],!1,function(t){var e=o(458);e.__inject__&&e.__inject__(t)},null,"03cc4221").exports,f={name:"PostCommentForm",mixins:[o(6).a],props:{id:{type:Number,required:!0},masterId:{type:Number,required:!0}},data:()=>({forms:{content:""},rules:{content:[{required:!0,min:1,max:1e3,message:"内容不能为空，1000字以内",trigger:"submit"}]},images:[],exceed:5}),computed:{isGuest(){return!this.$store.state.login},formatImages(){return this.images.map(t=>t.img)},submitting(){return this.$store.state.comment.submitting}},methods:{submit(){if(this.isGuest)return this.$toast.info("继续操作前请先登录"),void this.$channel.$emit("sign-in");this.$refs.forms.validate(async t=>{if(!t)return!1;if(!this.submitting){this.$store.commit("comment/SET_SUBMITTING",{result:!0});try{const t=await this.$store.dispatch("comment/createMainComment",{content:this.forms.content.trim(),images:this.formatImages,type:"post",id:this.id,ctx:this});this.forms={content:""},this.images=[],this.$refs.uploader.clearFiles(),this.$toast.success(t.message),this.$store.commit("UPDATE_USER_EXP",t.exp),setTimeout(()=>{const e=document.getElementById(`comment-${t.data.id}`);e&&this.$scrollToY(this.$utils.getOffsetTop(e)-200,600)},400)}catch(t){}finally{this.$store.commit("comment/SET_SUBMITTING",{result:!1})}}})},handleRemove(t){this.images.forEach((e,o)=>{e.id===t.uid&&this.images.splice(o,1)})},handleSuccess(t,e){this.images.push({id:e.uid,img:t.data})},handleExceed(){this.$toast.error(`最多可上传 ${this.exceed} 张图片!`)},beforeUpload(t){if(!this.isGuest)return this.uploadConfig.max=5,this.uploadConfig.params={userId:this.$store.state.user.id,id:this.id,type:"post"},this.beforeImageUpload(t);this.$channel.$emit("sign-in")}}};var v=Object(d.a)(f,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"forms",staticClass:"post-comment-form",attrs:{model:t.forms,rules:t.rules}},[o("el-form-item",{attrs:{prop:"content"}},[o("el-input",{attrs:{rows:3,type:"textarea",placeholder:"1000字以内",resize:"vertical"},model:{value:t.forms.content,callback:function(e){t.$set(t.forms,"content",e)},expression:"forms.content"}})],1),t._v(" "),o("el-form-item",[o("el-upload",{ref:"uploader",attrs:{data:t.uploadHeaders,action:t.imageUploadAction,accept:t.imageUploadAccept,"on-error":t.handleImageUploadError,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,limit:t.exceed,"before-upload":t.beforeUpload,multiple:"","list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"submit-btn",attrs:{loading:t.submitting,type:"primary"},on:{click:t.submit}},[t._v("\n      发表评论\n    ")])],1)],1)},[],!1,function(t){var e=o(459);e.__inject__&&e.__inject__(t)},null,"4c4ed95c").exports,y=o(283),$=(o(112),o(67)),C=o.n($),x=o(238),w={name:"BuyContentBtn",components:{"mt-spinner":C.a},props:{id:{type:String,required:!0},title:{type:String,required:!0},author:{type:String,required:!0},type:{type:String,required:!0}},data:()=>({show:!1,idol:null,price:5,submitting:!1}),methods:{async showBuyModal(){this.show=!0,this.idol=await Object(x.m)(this)},async submitAction(){if(this.price<5)this.$toast.error("不支持5团子以下的采购");else if(this.price>this.idol.income)this.$toast.error("没有足够的资金");else if(!this.submitting&&this.idol){this.submitting=!0;try{await Object(x.e)(this,{product_id:this.id,product_type:this.type,amount:this.price}),this.show=!1,this.$toast.success("请求已发送，等待作者确认")}catch(t){}finally{this.submitting=!1}}}}};var k=Object(d.a)(w,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"buy-content-btn-wrap"},[t._ssrNode('<button class="buy-content-btn">\n    采购\n  </button> '),o("v-dialog",{attrs:{loading:t.submitting,title:"内容采购"},on:{submit:t.submitAction},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.idol?[o("p",[t._v("\n        以「"+t._s(t.idol.name)+"」经纪人的身份，采购「"+t._s(t.author)+"」的文章《"+t._s(t.title)+"》\n      ")]),t._v(" "),o("br"),t._v(" "),o("p",[t._v("当前可用资金：￥"+t._s(t.idol.income))]),t._v(" "),o("div",[o("br"),t._v(" "),o("p",[o("strong",[t._v("采购价格：")])]),t._v(" "),o("br"),t._v(" "),o("el-input-number",{attrs:{min:5,max:t.idol.income>35?35:t.idol.income},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),t._v(" "),o("div",[o("br"),t._v(" "),o("p",[o("strong",[t._v("分成比例：")])]),t._v(" "),o("br"),t._v(" "),o("p",[t._v("\n          当前默认的分成比例是\n          5：5（该文章每收到一次投食，就有0.5个团子赠予偶像，0.5个团子归属作者）\n        ")])]),t._v(" "),o("div",[o("br"),t._v(" "),o("p",[o("strong",[t._v("提示：")])]),t._v(" "),o("br"),t._v(" "),o("p",[t._v("\n          确认采购后，等待作者确认，作者同意后才会扣费，并开始计算偶像的盈利\n        ")])])]:o("div",{staticStyle:{"text-align":"center"}},[o("br"),t._v(" "),o("br"),t._v(" "),o("mt-spinner",{attrs:{type:"triple-bounce"}})],1)],2)],2)},[],!1,function(t){var e=o(460);e.__inject__&&e.__inject__(t)},null,"15e5fef0").exports,N={name:"PostShow",validate:({params:t})=>/^\d+$/.test(t.id),components:{CommentMain:r.a,PostCommentItem:h,PostCommentForm:v,SocialPanel:y.a,BuyContentBtn:k},props:{id:{type:String,required:!0}},data:()=>({bangumi:null,post:null,master:null}),computed:{total(){return this.$store.state.comment.total+1},onlySeeMaster(){return!!parseInt(this.$route.query.only,10)},isMaster(){return!!this.$store.state.login&&this.$store.state.user.id===this.master.id}},asyncData({query:t,store:e,params:o,app:r,error:c}){const{id:m}=o,{hash:d,time:time,only:l}=t;return Object(n.c)(r,{id:m,hash:d,time:time,only:l&&parseInt(l,10)?1:0}).then(data=>{const{post:t,bangumi:o}=data;return e.commit("social/SET_STATE",{type:"post",id:m,data:{like:t.liked,reward:t.rewarded,mark:t.marked,like_users:t.like_users,mark_users:t.mark_users,reward_users:t.reward_users}}),e.commit("social/SET_STATE",{type:"bangumi",id:o.id,data:{follow:o.followed}}),{post:t,bangumi:o,master:data.user,shareData:data.share_data}}).catch(t=>{c({statusCode:t.statusCode,message:t.message})})},async fetch({store:t,query:e,params:o}){try{await t.dispatch("comment/getMainComments",{id:o.id,type:"post",onlySeeMaster:e.only&&parseInt(e.only,10)?1:0,seeReplyId:e["comment-id"]})}catch(t){}},head(){return{title:this.post.title}},methods:{scrollToReplyForm(){if(!this.$store.state.login)return void this.$channel.$emit("sign-in");const t=document.getElementById("bottom-comment-post-form");t&&(this.$scrollToY(this.$utils.getOffsetTop(t),400),t.querySelector("textarea").focus())},switchOnlyMaster(){window.location=this.$alias.post(this.post.id,{only:this.onlySeeMaster?0:1})},deletePost(){this.$confirm("删除后无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await Object(n.b)(this,{id:this.id}),window.location.reload()}).catch(t=>{this.$toast.error(t)})}}};var I=Object(d.a)(N,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"post-show"}},[o("v-header"),t._ssrNode(" "),o("v-layout",[t.post.deleted_at?o("el-alert",{attrs:{title:"该内容已被删除",type:"error",center:"","show-icon":""}}):t._e(),t._v(" "),o("header",[o("div",{staticClass:"title-wrap"},[o("div",{staticClass:"control"},[o("el-button",{attrs:{size:"mini",plain:""},on:{click:t.switchOnlyMaster}},[t._v("\n            "+t._s(t.onlySeeMaster?"取消只看楼主":"只看楼主")+"\n          ")]),t._v(" "),o("el-button",{attrs:{size:"mini",plain:""},on:{click:t.scrollToReplyForm}},[t._v("\n            回复\n          ")]),t._v(" "),t.isMaster?o("el-button",{attrs:{size:"mini",plain:""},on:{click:t.deletePost}},[t._v("\n            删除\n          ")]):t._e(),t._v(" "),o("span",{staticClass:"floor"},[t._v("共"+t._s(t.total)+"条")])],1),t._v(" "),t.post.is_nice?o("div",{staticClass:"nice_badge"},[t._v("\n          精\n        ")]):t._e(),t._v(" "),t.post.is_creator?o("div",{staticClass:"creator_badge"},[t._v("\n          原创\n        ")]):t._e(),t._v(" "),o("h1",{staticClass:"oneline",domProps:{textContent:t._s(t.post.title)}})])]),t._v(" "),o("main",[o("el-row",{staticClass:"post-main"},[o("div",{staticClass:"user"},[o("user-card",{attrs:{id:t.master.id,zone:t.master.zone}},[o("v-img",{staticClass:"avatar",attrs:{src:t.master.avatar,avatar:!0,lazy:!1,width:80,height:80}}),t._v(" "),o("p",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.master.nickname)}})],1)],1),t._v(" "),o("div",{staticClass:"body"},[o("div",{staticClass:"content"},[t._l(t.post.images,function(img,t){return o("div",{key:t,staticClass:"image-package"},[o("v-img",{staticClass:"image",attrs:{src:img.url,width:img.width,height:img.height,mime:img.type,blur:!0,full:!0}})],1)}),t._v(" "),o("div",{staticClass:"text-area",domProps:{innerHTML:t._s(t.post.content)}})],2),t._v(" "),o("div",{staticClass:"tags"},[o("a",{attrs:{href:t.$alias.bangumi(t.bangumi.id),target:"_blank"}},[o("i",{staticClass:"iconfont icon-biaoqian"}),t._v(" "),o("span",{domProps:{textContent:t._s(t.bangumi.name)}})]),t._v(" "),t.post.idol?o("a",{attrs:{href:t.$alias.cartoonRole(t.post.idol.id),target:"_blank"}},[o("i",{staticClass:"iconfont icon-biaoqian"}),t._v(" "),o("span",{domProps:{textContent:t._s(t.post.idol.name)}})]):t.post.is_idol_manager&&t.post.is_creator?o("buy-content-btn",{attrs:{id:t.id,title:t.post.title,author:t.master.nickname,type:"post"}}):t._e(),t._v(" "),t._l(t.post.tags,function(e){return o("span",{key:e.id,staticClass:"tag",domProps:{textContent:t._s(e.name)}})})],2),t._v(" "),o("social-panel",{attrs:{id:t.post.id,"is-creator":t.post.is_creator,"is-mine":t.isMaster,type:"post"}}),t._v(" "),o("div",{staticClass:"footer"},[o("div",{staticClass:"info-bar"},[o("span",{staticClass:"footer-item"},[t._v("1楼")]),t._v(" "),o("v-time",{staticClass:"footer-item",model:{value:t.post.created_at,callback:function(e){t.$set(t.post,"created_at",e)},expression:"post.created_at"}}),t._v(" "),o("report-dialog",{attrs:{id:t.post.id,"is-creator":t.post.is_creator,type:"post",title:"帖子违规举报"}},[t._v("\n                举报\n              ")]),t._v(" "),o("v-share",{attrs:{desc:t.post.desc,type:"panel"}})],1)])],1)]),t._v(" "),o("comment-main",{attrs:{id:t.post.id,"only-see-master":t.onlySeeMaster,"master-id":t.master.id,"empty-text":"",type:"post"},scopedSlots:t._u([{key:"comment-item",fn:function(e){var n=e.comment;return o("post-comment-item",{attrs:{post:n,"master-id":t.master.id}})}}])},[o("div",{attrs:{slot:"header"},slot:"header"}),t._v(" "),t._v(" "),o("div",{attrs:{slot:"reply",id:"bottom-comment-post-form"},slot:"reply"},[o("post-comment-form",{attrs:{id:t.post.id,"master-id":t.master.id}})],1)])],1),t._v(" "),o("aside",{attrs:{slot:"aside"},slot:"aside"},[o("bangumi-panel",{attrs:{id:t.bangumi.id,avatar:t.bangumi.avatar,name:t.bangumi.name,summary:t.bangumi.summary}})],1)],1)],2)},[],!1,function(t){var e=o(461);e.__inject__&&e.__inject__(t)},null,"7d0ffb41");e.default=I.exports}};
//# sourceMappingURL=_id.chunk.9f8eaf53.js.map