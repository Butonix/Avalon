exports.ids=[12],exports.modules={256:function(t,e){},285:function(t,e,n){"use strict";n.r(e);var r=n(256),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},300:function(t,e,n){"use strict";var r={name:"ImageWaterfallFlow",components:{waterfall:()=>"undefined"==typeof window?n.e(0).then(n.bind(null,486)):Promise.resolve().then(n.t.bind(null,229,7)),"waterfall-slot":()=>"undefined"==typeof window?n.e(0).then(n.bind(null,486)):Promise.resolve().then(n.t.bind(null,230,7))},props:{list:{required:!0,type:Array,default:()=>[]},bangumiId:{type:[Number,String],default:0},userZone:{type:String,default:""},width:{type:Number,default:200}},methods:{computeBoxHeight(image){return this.computeImageHeight(image)+106},computeImageHeight(image){const t=parseInt(image.height/image.width*this.width,10);return t>300?300:t}}},o=n(0);var component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"image-waterfall-flow"}},[n("no-ssr",[n("waterfall",{attrs:{"line-gap":t.width+12,"auto-resize":!1}},t._l(t.list,function(e,r){return n("waterfall-slot",{key:e.id,attrs:{height:t.computeBoxHeight(e.source),order:r,width:t.width}},[n("div",{staticClass:"image"},[n("a",{staticClass:"image-box",class:{"album-box":e.is_album},attrs:{href:t.$alias.image(e.id),target:"_blank"}},[e.is_creator?n("el-tooltip",{attrs:{effect:"dark",content:"原创",placement:"top"}},[n("i",{staticClass:"is-creator iconfont icon-huangguan"})]):t._e(),t._v(" "),n("v-img",{attrs:{src:e.source.url,height:t.computeImageHeight(e.source),width:t.width,lazy:!1}}),t._v(" "),e.is_album?n("div",{staticClass:"is-album"},[n("i",{staticClass:"el-icon-picture-outline"}),t._v(" "),n("span",{staticClass:"image-count",domProps:{textContent:t._s(e.image_count)}})]):t._e()],1),t._v(" "),n("div",{staticClass:"intro"},[n("p",{staticClass:"name oneline",domProps:{textContent:t._s(e.name)}}),t._v(" "),n("div",{staticClass:"social"},[e.is_creator?n("span",[n("i",{staticClass:"iconfont icon-fantuan"}),t._v("\n                "+t._s(e.reward_count)+"\n              ")]):n("span",[n("i",{staticClass:"iconfont icon-like"}),t._v("\n                "+t._s(e.like_count)+"\n              ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-talk"}),t._v("\n                "+t._s(e.comment_count)+"\n              ")]),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-mark"}),t._v("\n                "+t._s(e.mark_count)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"about"},[t.userZone?[n("a",{staticClass:"bangumi-avatar",attrs:{href:t.$alias.bangumi(e.bangumi.id),target:"_blank"}},[n("v-img",{attrs:{src:e.bangumi.avatar,width:30,height:30,lazy:!1}})],1),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"main-name oneline",attrs:{href:t.$alias.bangumi(e.bangumi.id),target:"_blank"},domProps:{textContent:t._s(e.bangumi.name)}})])]:t.bangumiId?n("user-card",{attrs:{id:e.user.id,zone:e.user.zone}},[n("v-img",{staticClass:"user-avatar",attrs:{src:e.user.avatar,width:30,height:30,lazy:!1}}),t._v(" "),n("span",{staticClass:"main-name",domProps:{textContent:t._s(e.user.nickname)}})],1):[n("a",{staticClass:"bangumi-avatar",attrs:{href:t.$alias.bangumi(e.bangumi.id),target:"_blank"}},[n("v-img",{attrs:{src:e.bangumi.avatar,width:30,height:30,lazy:!1}})],1),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"main-info"},[n("span",[t._v("UP：")]),t._v(" "),n("user-card",{staticStyle:{float:"none"},attrs:{id:e.user.id,zone:e.user.zone,"custom-class":"oneline"}},[t._v("\n                    "+t._s(e.user.nickname)+"\n                  ")])],1),t._v(" "),n("a",{staticClass:"oneline",attrs:{href:t.$alias.bangumi(e.bangumi.id),target:"_blank"},domProps:{textContent:t._s(e.bangumi.name)}})])]],2)])])}),1)],1)],1)},[],!1,function(t){var e=n(285);e.__inject__&&e.__inject__(t)},null,"326bf112");e.a=component.exports},507:function(t,e,n){"use strict";n.r(e);var r={name:"BangumiImageFlow",components:{ImageWaterfallFlow:n(300).a},props:{id:{required:!0,type:String}},computed:{bangumi(){return this.$store.state.bangumi.show}},async asyncData({store:t,params:e}){await t.dispatch("flow/initData",{id:e.id,func:"getBangumiImage",type:"seenIds",sort:"active"})},methods:{handleImageClick(){if(!this.$store.state.login)return this.$toast.info("继续操作前请先登录"),void this.$channel.$emit("sign-in");this.$channel.$emit("show-upload-image-modal",{bangumiId:this.id})}}},o=n(0),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bangumi-image-flow"}},[n("flow-list",{attrs:{id:t.id,func:"getBangumiImage",type:"seenIds",sort:"active"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.flow;return n("image-waterfall-flow",{attrs:{"bangumi-id":t.id,list:r}})}}])},[t._v(" "),n("no-content",{attrs:{slot:"nothing"},slot:"nothing"},[n("el-button",{attrs:{round:!0,type:"primary"},on:{click:t.handleImageClick}},[t._v("上传《"+t._s(t.bangumi.name)+"》的第一张美图")])],1)],1)],1)},[],!1,null,null,"6a8874df");e.default=component.exports}};
//# sourceMappingURL=pins.chunk.840b572a.js.map